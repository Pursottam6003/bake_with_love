/*! For license information please see main.5da8a9b0.js.LICENSE.txt */
!function(){var e={694:function(e,t){var n;!function(){"use strict";var r={}.hasOwnProperty;function i(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var u=typeof n;if("string"===u||"number"===u)e.push(n);else if(Array.isArray(n)){if(n.length){var a=i.apply(null,n);a&&e.push(a)}}else if("object"===u)if(n.toString===Object.prototype.toString)for(var o in n)r.call(n,o)&&n[o]&&e.push(o);else e.push(n.toString())}}return e.join(" ")}e.exports?(i.default=i,e.exports=i):void 0===(n=function(){return i}.apply(t,[]))||(e.exports=n)}()},726:function(e,t,n){"use strict";var r=n(47);function i(){}function u(){}u.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,u,a){if(a!==r){var o=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw o.name="Invariant Violation",o}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:u,resetWarningCache:i};return n.PropTypes=n,n}},7:function(e,t,n){e.exports=n(726)()},47:function(e){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},463:function(e,t,n){"use strict";var r=n(791),i=n(296);function u(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=new Set,o={};function s(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(o[e]=t,e=0;e<t.length;e++)a.add(t[e])}var l=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),f=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d={},p={};function v(e,t,n,r,i,u,a){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=u,this.removeEmptyString=a}var m={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){m[e]=new v(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];m[t]=new v(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){m[e]=new v(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){m[e]=new v(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){m[e]=new v(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){m[e]=new v(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){m[e]=new v(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){m[e]=new v(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){m[e]=new v(e,5,!1,e.toLowerCase(),null,!1,!1)}));var y=/[\-:]([a-z])/g;function g(e){return e[1].toUpperCase()}function k(e,t,n,r){var i=m.hasOwnProperty(t)?m[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!f.call(p,e)||!f.call(d,e)&&(h.test(e)?p[e]=!0:(d[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(y,g);m[t]=new v(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(y,g);m[t]=new v(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(y,g);m[t]=new v(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){m[e]=new v(e,1,!1,e.toLowerCase(),null,!1,!1)})),m.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){m[e]=new v(e,1,!1,e.toLowerCase(),null,!0,!0)}));var b=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=Symbol.for("react.element"),E=Symbol.for("react.portal"),x=Symbol.for("react.fragment"),A=Symbol.for("react.strict_mode"),_=Symbol.for("react.profiler"),C=Symbol.for("react.provider"),I=Symbol.for("react.context"),S=Symbol.for("react.forward_ref"),T=Symbol.for("react.suspense"),D=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),F=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var R=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var P=Symbol.iterator;function O(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=P&&e[P]||e["@@iterator"])?e:null}var B,L=Object.assign;function j(e){if(void 0===B)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);B=t&&t[1]||""}return"\n"+B+e}var M=!1;function U(e,t){if(!e||M)return"";M=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var i=c.stack.split("\n"),u=r.stack.split("\n"),a=i.length-1,o=u.length-1;1<=a&&0<=o&&i[a]!==u[o];)o--;for(;1<=a&&0<=o;a--,o--)if(i[a]!==u[o]){if(1!==a||1!==o)do{if(a--,0>--o||i[a]!==u[o]){var s="\n"+i[a].replace(" at new "," at ");return e.displayName&&s.includes("<anonymous>")&&(s=s.replace("<anonymous>",e.displayName)),s}}while(1<=a&&0<=o);break}}}finally{M=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?j(e):""}function V(e){switch(e.tag){case 5:return j(e.type);case 16:return j("Lazy");case 13:return j("Suspense");case 19:return j("SuspenseList");case 0:case 2:case 15:return e=U(e.type,!1);case 11:return e=U(e.type.render,!1);case 1:return e=U(e.type,!0);default:return""}}function z(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case x:return"Fragment";case E:return"Portal";case _:return"Profiler";case A:return"StrictMode";case T:return"Suspense";case D:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case I:return(e.displayName||"Context")+".Consumer";case C:return(e._context.displayName||"Context")+".Provider";case S:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case N:return null!==(t=e.displayName||null)?t:z(e.type)||"Memo";case F:t=e._payload,e=e._init;try{return z(e(t))}catch(n){}}return null}function q(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return z(t);case 8:return t===A?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function G(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function K(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function H(e){e._valueTracker||(e._valueTracker=function(e){var t=K(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,u=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,u.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function W(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=K(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Q(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function J(e,t){var n=t.checked;return L({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Y(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=G(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function X(e,t){null!=(t=t.checked)&&k(e,"checked",t,!1)}function $(e,t){X(e,t);var n=G(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,G(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&Q(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+G(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(u(91));return L({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(u(92));if(te(n)){if(1<n.length)throw Error(u(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:G(n)}}function ue(e,t){var n=G(t.value),r=G(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function ae(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function oe(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function se(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?oe(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,le,fe=(le=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return le(e,t)}))}:le);function he(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var de={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function ve(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||de.hasOwnProperty(e)&&de[e]?(""+t).trim():t+"px"}function me(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=ve(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(de).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),de[t]=de[e]}))}));var ye=L({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ge(e,t){if(t){if(ye[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(u(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(u(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(u(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(u(62))}}function ke(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var be=null;function we(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Ee=null,xe=null,Ae=null;function _e(e){if(e=ki(e)){if("function"!==typeof Ee)throw Error(u(280));var t=e.stateNode;t&&(t=wi(t),Ee(e.stateNode,e.type,t))}}function Ce(e){xe?Ae?Ae.push(e):Ae=[e]:xe=e}function Ie(){if(xe){var e=xe,t=Ae;if(Ae=xe=null,_e(e),t)for(e=0;e<t.length;e++)_e(t[e])}}function Se(e,t){return e(t)}function Te(){}var De=!1;function Ne(e,t,n){if(De)return e(t,n);De=!0;try{return Se(e,t,n)}finally{De=!1,(null!==xe||null!==Ae)&&(Te(),Ie())}}function Fe(e,t){var n=e.stateNode;if(null===n)return null;var r=wi(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(u(231,t,typeof n));return n}var Re=!1;if(l)try{var Pe={};Object.defineProperty(Pe,"passive",{get:function(){Re=!0}}),window.addEventListener("test",Pe,Pe),window.removeEventListener("test",Pe,Pe)}catch(le){Re=!1}function Oe(e,t,n,r,i,u,a,o,s){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(l){this.onError(l)}}var Be=!1,Le=null,je=!1,Me=null,Ue={onError:function(e){Be=!0,Le=e}};function Ve(e,t,n,r,i,u,a,o,s){Be=!1,Le=null,Oe.apply(Ue,arguments)}function ze(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function qe(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Ge(e){if(ze(e)!==e)throw Error(u(188))}function Ke(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=ze(e)))throw Error(u(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var a=i.alternate;if(null===a){if(null!==(r=i.return)){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return Ge(i),e;if(a===r)return Ge(i),t;a=a.sibling}throw Error(u(188))}if(n.return!==r.return)n=i,r=a;else{for(var o=!1,s=i.child;s;){if(s===n){o=!0,n=i,r=a;break}if(s===r){o=!0,r=i,n=a;break}s=s.sibling}if(!o){for(s=a.child;s;){if(s===n){o=!0,n=a,r=i;break}if(s===r){o=!0,r=a,n=i;break}s=s.sibling}if(!o)throw Error(u(189))}}if(n.alternate!==r)throw Error(u(190))}if(3!==n.tag)throw Error(u(188));return n.stateNode.current===n?e:t}(e))?He(e):null}function He(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=He(e);if(null!==t)return t;e=e.sibling}return null}var We=i.unstable_scheduleCallback,Qe=i.unstable_cancelCallback,Je=i.unstable_shouldYield,Ye=i.unstable_requestPaint,Xe=i.unstable_now,$e=i.unstable_getCurrentPriorityLevel,Ze=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,ut=null;var at=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(ot(e)/st|0)|0},ot=Math.log,st=Math.LN2;var ct=64,lt=4194304;function ft(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ht(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,u=e.pingedLanes,a=268435455&n;if(0!==a){var o=a&~i;0!==o?r=ft(o):0!==(u&=a)&&(r=ft(u))}else 0!==(a=n&~i)?r=ft(a):0!==u&&(r=ft(u));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(u=t&-t)||16===i&&0!==(4194240&u)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-at(t)),r|=e[n],t&=~i;return r}function dt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function vt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function mt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function yt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-at(t)]=n}function gt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-at(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var kt=0;function bt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var wt,Et,xt,At,_t,Ct=!1,It=[],St=null,Tt=null,Dt=null,Nt=new Map,Ft=new Map,Rt=[],Pt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ot(e,t){switch(e){case"focusin":case"focusout":St=null;break;case"dragenter":case"dragleave":Tt=null;break;case"mouseover":case"mouseout":Dt=null;break;case"pointerover":case"pointerout":Nt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ft.delete(t.pointerId)}}function Bt(e,t,n,r,i,u){return null===e||e.nativeEvent!==u?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:u,targetContainers:[i]},null!==t&&(null!==(t=ki(t))&&Et(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Lt(e){var t=gi(e.target);if(null!==t){var n=ze(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=qe(n)))return e.blockedOn=t,void _t(e.priority,(function(){xt(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function jt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Jt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=ki(n))&&Et(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);be=r,n.target.dispatchEvent(r),be=null,t.shift()}return!0}function Mt(e,t,n){jt(e)&&n.delete(t)}function Ut(){Ct=!1,null!==St&&jt(St)&&(St=null),null!==Tt&&jt(Tt)&&(Tt=null),null!==Dt&&jt(Dt)&&(Dt=null),Nt.forEach(Mt),Ft.forEach(Mt)}function Vt(e,t){e.blockedOn===t&&(e.blockedOn=null,Ct||(Ct=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Ut)))}function zt(e){function t(t){return Vt(t,e)}if(0<It.length){Vt(It[0],e);for(var n=1;n<It.length;n++){var r=It[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==St&&Vt(St,e),null!==Tt&&Vt(Tt,e),null!==Dt&&Vt(Dt,e),Nt.forEach(t),Ft.forEach(t),n=0;n<Rt.length;n++)(r=Rt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Rt.length&&null===(n=Rt[0]).blockedOn;)Lt(n),null===n.blockedOn&&Rt.shift()}var qt=b.ReactCurrentBatchConfig,Gt=!0;function Kt(e,t,n,r){var i=kt,u=qt.transition;qt.transition=null;try{kt=1,Wt(e,t,n,r)}finally{kt=i,qt.transition=u}}function Ht(e,t,n,r){var i=kt,u=qt.transition;qt.transition=null;try{kt=4,Wt(e,t,n,r)}finally{kt=i,qt.transition=u}}function Wt(e,t,n,r){if(Gt){var i=Jt(e,t,n,r);if(null===i)Gr(e,t,r,Qt,n),Ot(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return St=Bt(St,e,t,n,r,i),!0;case"dragenter":return Tt=Bt(Tt,e,t,n,r,i),!0;case"mouseover":return Dt=Bt(Dt,e,t,n,r,i),!0;case"pointerover":var u=i.pointerId;return Nt.set(u,Bt(Nt.get(u)||null,e,t,n,r,i)),!0;case"gotpointercapture":return u=i.pointerId,Ft.set(u,Bt(Ft.get(u)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Ot(e,r),4&t&&-1<Pt.indexOf(e)){for(;null!==i;){var u=ki(i);if(null!==u&&wt(u),null===(u=Jt(e,t,n,r))&&Gr(e,t,r,Qt,n),u===i)break;i=u}null!==i&&r.stopPropagation()}else Gr(e,t,r,null,n)}}var Qt=null;function Jt(e,t,n,r){if(Qt=null,null!==(e=gi(e=we(r))))if(null===(t=ze(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=qe(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Qt=e,null}function Yt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch($e()){case Ze:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Xt=null,$t=null,Zt=null;function en(){if(Zt)return Zt;var e,t,n=$t,r=n.length,i="value"in Xt?Xt.value:Xt.textContent,u=i.length;for(e=0;e<r&&n[e]===i[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===i[u-t];t++);return Zt=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function un(e){function t(t,n,r,i,u){for(var a in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=u,this.currentTarget=null,e)e.hasOwnProperty(a)&&(t=e[a],this[a]=t?t(i):i[a]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return L(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var an,on,sn,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ln=un(cn),fn=L({},cn,{view:0,detail:0}),hn=un(fn),dn=L({},fn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:_n,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==sn&&(sn&&"mousemove"===e.type?(an=e.screenX-sn.screenX,on=e.screenY-sn.screenY):on=an=0,sn=e),an)},movementY:function(e){return"movementY"in e?e.movementY:on}}),pn=un(dn),vn=un(L({},dn,{dataTransfer:0})),mn=un(L({},fn,{relatedTarget:0})),yn=un(L({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),gn=L({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),kn=un(gn),bn=un(L({},cn,{data:0})),wn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},En={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},xn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function An(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=xn[e])&&!!t[e]}function _n(){return An}var Cn=L({},fn,{key:function(e){if(e.key){var t=wn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?En[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:_n,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),In=un(Cn),Sn=un(L({},dn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Tn=un(L({},fn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:_n})),Dn=un(L({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Nn=L({},dn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Fn=un(Nn),Rn=[9,13,27,32],Pn=l&&"CompositionEvent"in window,On=null;l&&"documentMode"in document&&(On=document.documentMode);var Bn=l&&"TextEvent"in window&&!On,Ln=l&&(!Pn||On&&8<On&&11>=On),jn=String.fromCharCode(32),Mn=!1;function Un(e,t){switch(e){case"keyup":return-1!==Rn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Vn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var zn=!1;var qn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Gn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!qn[e.type]:"textarea"===t}function Kn(e,t,n,r){Ce(r),0<(t=Hr(t,"onChange")).length&&(n=new ln("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Hn=null,Wn=null;function Qn(e){jr(e,0)}function Jn(e){if(W(bi(e)))return e}function Yn(e,t){if("change"===e)return t}var Xn=!1;if(l){var $n;if(l){var Zn="oninput"in document;if(!Zn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Zn="function"===typeof er.oninput}$n=Zn}else $n=!1;Xn=$n&&(!document.documentMode||9<document.documentMode)}function tr(){Hn&&(Hn.detachEvent("onpropertychange",nr),Wn=Hn=null)}function nr(e){if("value"===e.propertyName&&Jn(Wn)){var t=[];Kn(t,Wn,e,we(e)),Ne(Qn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Wn=n,(Hn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Jn(Wn)}function ur(e,t){if("click"===e)return Jn(t)}function ar(e,t){if("input"===e||"change"===e)return Jn(t)}var or="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function sr(e,t){if(or(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!f.call(t,i)||!or(e[i],t[i]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function lr(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function fr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?fr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function hr(){for(var e=window,t=Q();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=Q((e=t.contentWindow).document)}return t}function dr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=hr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&fr(n.ownerDocument.documentElement,n)){if(null!==r&&dr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,u=Math.min(r.start,i);r=void 0===r.end?u:Math.min(r.end,i),!e.extend&&u>r&&(i=r,r=u,u=i),i=lr(n,u);var a=lr(n,r);i&&a&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),u>r?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var vr=l&&"documentMode"in document&&11>=document.documentMode,mr=null,yr=null,gr=null,kr=!1;function br(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;kr||null==mr||mr!==Q(r)||("selectionStart"in(r=mr)&&dr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},gr&&sr(gr,r)||(gr=r,0<(r=Hr(yr,"onSelect")).length&&(t=new ln("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=mr)))}function wr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Er={animationend:wr("Animation","AnimationEnd"),animationiteration:wr("Animation","AnimationIteration"),animationstart:wr("Animation","AnimationStart"),transitionend:wr("Transition","TransitionEnd")},xr={},Ar={};function _r(e){if(xr[e])return xr[e];if(!Er[e])return e;var t,n=Er[e];for(t in n)if(n.hasOwnProperty(t)&&t in Ar)return xr[e]=n[t];return e}l&&(Ar=document.createElement("div").style,"AnimationEvent"in window||(delete Er.animationend.animation,delete Er.animationiteration.animation,delete Er.animationstart.animation),"TransitionEvent"in window||delete Er.transitionend.transition);var Cr=_r("animationend"),Ir=_r("animationiteration"),Sr=_r("animationstart"),Tr=_r("transitionend"),Dr=new Map,Nr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Fr(e,t){Dr.set(e,t),s(t,[e])}for(var Rr=0;Rr<Nr.length;Rr++){var Pr=Nr[Rr];Fr(Pr.toLowerCase(),"on"+(Pr[0].toUpperCase()+Pr.slice(1)))}Fr(Cr,"onAnimationEnd"),Fr(Ir,"onAnimationIteration"),Fr(Sr,"onAnimationStart"),Fr("dblclick","onDoubleClick"),Fr("focusin","onFocus"),Fr("focusout","onBlur"),Fr(Tr,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),s("onBeforeInput",["compositionend","keypress","textInput","paste"]),s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Or="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Br=new Set("cancel close invalid load scroll toggle".split(" ").concat(Or));function Lr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,a,o,s,c){if(Ve.apply(this,arguments),Be){if(!Be)throw Error(u(198));var l=Le;Be=!1,Le=null,je||(je=!0,Me=l)}}(r,t,void 0,e),e.currentTarget=null}function jr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var u=void 0;if(t)for(var a=r.length-1;0<=a;a--){var o=r[a],s=o.instance,c=o.currentTarget;if(o=o.listener,s!==u&&i.isPropagationStopped())break e;Lr(i,o,c),u=s}else for(a=0;a<r.length;a++){if(s=(o=r[a]).instance,c=o.currentTarget,o=o.listener,s!==u&&i.isPropagationStopped())break e;Lr(i,o,c),u=s}}}if(je)throw e=Me,je=!1,Me=null,e}function Mr(e,t){var n=t[vi];void 0===n&&(n=t[vi]=new Set);var r=e+"__bubble";n.has(r)||(qr(t,e,2,!1),n.add(r))}function Ur(e,t,n){var r=0;t&&(r|=4),qr(n,e,r,t)}var Vr="_reactListening"+Math.random().toString(36).slice(2);function zr(e){if(!e[Vr]){e[Vr]=!0,a.forEach((function(t){"selectionchange"!==t&&(Br.has(t)||Ur(t,!1,e),Ur(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Vr]||(t[Vr]=!0,Ur("selectionchange",!1,t))}}function qr(e,t,n,r){switch(Yt(t)){case 1:var i=Kt;break;case 4:i=Ht;break;default:i=Wt}n=i.bind(null,t,n,e),i=void 0,!Re||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Gr(e,t,n,r,i){var u=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var a=r.tag;if(3===a||4===a){var o=r.stateNode.containerInfo;if(o===i||8===o.nodeType&&o.parentNode===i)break;if(4===a)for(a=r.return;null!==a;){var s=a.tag;if((3===s||4===s)&&((s=a.stateNode.containerInfo)===i||8===s.nodeType&&s.parentNode===i))return;a=a.return}for(;null!==o;){if(null===(a=gi(o)))return;if(5===(s=a.tag)||6===s){r=u=a;continue e}o=o.parentNode}}r=r.return}Ne((function(){var r=u,i=we(n),a=[];e:{var o=Dr.get(e);if(void 0!==o){var s=ln,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":s=In;break;case"focusin":c="focus",s=mn;break;case"focusout":c="blur",s=mn;break;case"beforeblur":case"afterblur":s=mn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":s=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":s=vn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":s=Tn;break;case Cr:case Ir:case Sr:s=yn;break;case Tr:s=Dn;break;case"scroll":s=hn;break;case"wheel":s=Fn;break;case"copy":case"cut":case"paste":s=kn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":s=Sn}var l=0!==(4&t),f=!l&&"scroll"===e,h=l?null!==o?o+"Capture":null:o;l=[];for(var d,p=r;null!==p;){var v=(d=p).stateNode;if(5===d.tag&&null!==v&&(d=v,null!==h&&(null!=(v=Fe(p,h))&&l.push(Kr(p,v,d)))),f)break;p=p.return}0<l.length&&(o=new s(o,c,null,n,i),a.push({event:o,listeners:l}))}}if(0===(7&t)){if(s="mouseout"===e||"pointerout"===e,(!(o="mouseover"===e||"pointerover"===e)||n===be||!(c=n.relatedTarget||n.fromElement)||!gi(c)&&!c[pi])&&(s||o)&&(o=i.window===i?i:(o=i.ownerDocument)?o.defaultView||o.parentWindow:window,s?(s=r,null!==(c=(c=n.relatedTarget||n.toElement)?gi(c):null)&&(c!==(f=ze(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(s=null,c=r),s!==c)){if(l=pn,v="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(l=Sn,v="onPointerLeave",h="onPointerEnter",p="pointer"),f=null==s?o:bi(s),d=null==c?o:bi(c),(o=new l(v,p+"leave",s,n,i)).target=f,o.relatedTarget=d,v=null,gi(i)===r&&((l=new l(h,p+"enter",c,n,i)).target=d,l.relatedTarget=f,v=l),f=v,s&&c)e:{for(h=c,p=0,d=l=s;d;d=Wr(d))p++;for(d=0,v=h;v;v=Wr(v))d++;for(;0<p-d;)l=Wr(l),p--;for(;0<d-p;)h=Wr(h),d--;for(;p--;){if(l===h||null!==h&&l===h.alternate)break e;l=Wr(l),h=Wr(h)}l=null}else l=null;null!==s&&Qr(a,o,s,l,!1),null!==c&&null!==f&&Qr(a,f,c,l,!0)}if("select"===(s=(o=r?bi(r):window).nodeName&&o.nodeName.toLowerCase())||"input"===s&&"file"===o.type)var m=Yn;else if(Gn(o))if(Xn)m=ar;else{m=ir;var y=rr}else(s=o.nodeName)&&"input"===s.toLowerCase()&&("checkbox"===o.type||"radio"===o.type)&&(m=ur);switch(m&&(m=m(e,r))?Kn(a,m,n,i):(y&&y(e,o,r),"focusout"===e&&(y=o._wrapperState)&&y.controlled&&"number"===o.type&&ee(o,"number",o.value)),y=r?bi(r):window,e){case"focusin":(Gn(y)||"true"===y.contentEditable)&&(mr=y,yr=r,gr=null);break;case"focusout":gr=yr=mr=null;break;case"mousedown":kr=!0;break;case"contextmenu":case"mouseup":case"dragend":kr=!1,br(a,n,i);break;case"selectionchange":if(vr)break;case"keydown":case"keyup":br(a,n,i)}var g;if(Pn)e:{switch(e){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else zn?Un(e,n)&&(k="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(k="onCompositionStart");k&&(Ln&&"ko"!==n.locale&&(zn||"onCompositionStart"!==k?"onCompositionEnd"===k&&zn&&(g=en()):($t="value"in(Xt=i)?Xt.value:Xt.textContent,zn=!0)),0<(y=Hr(r,k)).length&&(k=new bn(k,e,null,n,i),a.push({event:k,listeners:y}),g?k.data=g:null!==(g=Vn(n))&&(k.data=g))),(g=Bn?function(e,t){switch(e){case"compositionend":return Vn(t);case"keypress":return 32!==t.which?null:(Mn=!0,jn);case"textInput":return(e=t.data)===jn&&Mn?null:e;default:return null}}(e,n):function(e,t){if(zn)return"compositionend"===e||!Pn&&Un(e,t)?(e=en(),Zt=$t=Xt=null,zn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Ln&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Hr(r,"onBeforeInput")).length&&(i=new bn("onBeforeInput","beforeinput",null,n,i),a.push({event:i,listeners:r}),i.data=g))}jr(a,t)}))}function Kr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Hr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,u=i.stateNode;5===i.tag&&null!==u&&(i=u,null!=(u=Fe(e,n))&&r.unshift(Kr(e,u,i)),null!=(u=Fe(e,t))&&r.push(Kr(e,u,i))),e=e.return}return r}function Wr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Qr(e,t,n,r,i){for(var u=t._reactName,a=[];null!==n&&n!==r;){var o=n,s=o.alternate,c=o.stateNode;if(null!==s&&s===r)break;5===o.tag&&null!==c&&(o=c,i?null!=(s=Fe(n,u))&&a.unshift(Kr(n,s,o)):i||null!=(s=Fe(n,u))&&a.push(Kr(n,s,o))),n=n.return}0!==a.length&&e.push({event:t,listeners:a})}var Jr=/\r\n?/g,Yr=/\u0000|\uFFFD/g;function Xr(e){return("string"===typeof e?e:""+e).replace(Jr,"\n").replace(Yr,"")}function $r(e,t,n){if(t=Xr(t),Xr(e)!==t&&n)throw Error(u(425))}function Zr(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,ui="function"===typeof Promise?Promise:void 0,ai="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ui?function(e){return ui.resolve(null).then(e).catch(oi)}:ri;function oi(e){setTimeout((function(){throw e}))}function si(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void zt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);zt(t)}function ci(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function li(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var fi=Math.random().toString(36).slice(2),hi="__reactFiber$"+fi,di="__reactProps$"+fi,pi="__reactContainer$"+fi,vi="__reactEvents$"+fi,mi="__reactListeners$"+fi,yi="__reactHandles$"+fi;function gi(e){var t=e[hi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pi]||n[hi]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=li(e);null!==e;){if(n=e[hi])return n;e=li(e)}return t}n=(e=n).parentNode}return null}function ki(e){return!(e=e[hi]||e[pi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function bi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(u(33))}function wi(e){return e[di]||null}var Ei=[],xi=-1;function Ai(e){return{current:e}}function _i(e){0>xi||(e.current=Ei[xi],Ei[xi]=null,xi--)}function Ci(e,t){xi++,Ei[xi]=e.current,e.current=t}var Ii={},Si=Ai(Ii),Ti=Ai(!1),Di=Ii;function Ni(e,t){var n=e.type.contextTypes;if(!n)return Ii;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,u={};for(i in n)u[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=u),u}function Fi(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Ri(){_i(Ti),_i(Si)}function Pi(e,t,n){if(Si.current!==Ii)throw Error(u(168));Ci(Si,t),Ci(Ti,n)}function Oi(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(u(108,q(e)||"Unknown",i));return L({},n,r)}function Bi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ii,Di=Si.current,Ci(Si,e),Ci(Ti,Ti.current),!0}function Li(e,t,n){var r=e.stateNode;if(!r)throw Error(u(169));n?(e=Oi(e,t,Di),r.__reactInternalMemoizedMergedChildContext=e,_i(Ti),_i(Si),Ci(Si,e)):_i(Ti),Ci(Ti,n)}var ji=null,Mi=!1,Ui=!1;function Vi(e){null===ji?ji=[e]:ji.push(e)}function zi(){if(!Ui&&null!==ji){Ui=!0;var e=0,t=kt;try{var n=ji;for(kt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}ji=null,Mi=!1}catch(i){throw null!==ji&&(ji=ji.slice(e+1)),We(Ze,zi),i}finally{kt=t,Ui=!1}}return null}var qi=[],Gi=0,Ki=null,Hi=0,Wi=[],Qi=0,Ji=null,Yi=1,Xi="";function $i(e,t){qi[Gi++]=Hi,qi[Gi++]=Ki,Ki=e,Hi=t}function Zi(e,t,n){Wi[Qi++]=Yi,Wi[Qi++]=Xi,Wi[Qi++]=Ji,Ji=e;var r=Yi;e=Xi;var i=32-at(r)-1;r&=~(1<<i),n+=1;var u=32-at(t)+i;if(30<u){var a=i-i%5;u=(r&(1<<a)-1).toString(32),r>>=a,i-=a,Yi=1<<32-at(t)+i|n<<i|r,Xi=u+e}else Yi=1<<u|n<<i|r,Xi=e}function eu(e){null!==e.return&&($i(e,1),Zi(e,1,0))}function tu(e){for(;e===Ki;)Ki=qi[--Gi],qi[Gi]=null,Hi=qi[--Gi],qi[Gi]=null;for(;e===Ji;)Ji=Wi[--Qi],Wi[Qi]=null,Xi=Wi[--Qi],Wi[Qi]=null,Yi=Wi[--Qi],Wi[Qi]=null}var nu=null,ru=null,iu=!1,uu=null;function au(e,t){var n=Nc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function ou(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,nu=e,ru=ci(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,nu=e,ru=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Ji?{id:Yi,overflow:Xi}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Nc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,nu=e,ru=null,!0);default:return!1}}function su(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function cu(e){if(iu){var t=ru;if(t){var n=t;if(!ou(e,t)){if(su(e))throw Error(u(418));t=ci(n.nextSibling);var r=nu;t&&ou(e,t)?au(r,n):(e.flags=-4097&e.flags|2,iu=!1,nu=e)}}else{if(su(e))throw Error(u(418));e.flags=-4097&e.flags|2,iu=!1,nu=e}}}function lu(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;nu=e}function fu(e){if(e!==nu)return!1;if(!iu)return lu(e),iu=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=ru)){if(su(e))throw hu(),Error(u(418));for(;t;)au(e,t),t=ci(t.nextSibling)}if(lu(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(u(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ru=ci(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ru=null}}else ru=nu?ci(e.stateNode.nextSibling):null;return!0}function hu(){for(var e=ru;e;)e=ci(e.nextSibling)}function du(){ru=nu=null,iu=!1}function pu(e){null===uu?uu=[e]:uu.push(e)}var vu=b.ReactCurrentBatchConfig;function mu(e,t){if(e&&e.defaultProps){for(var n in t=L({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var yu=Ai(null),gu=null,ku=null,bu=null;function wu(){bu=ku=gu=null}function Eu(e){var t=yu.current;_i(yu),e._currentValue=t}function xu(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Au(e,t){gu=e,bu=ku=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(bo=!0),e.firstContext=null)}function _u(e){var t=e._currentValue;if(bu!==e)if(e={context:e,memoizedValue:t,next:null},null===ku){if(null===gu)throw Error(u(308));ku=e,gu.dependencies={lanes:0,firstContext:e}}else ku=ku.next=e;return t}var Cu=null;function Iu(e){null===Cu?Cu=[e]:Cu.push(e)}function Su(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,Iu(t)):(n.next=i.next,i.next=n),t.interleaved=n,Tu(e,r)}function Tu(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Du=!1;function Nu(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Fu(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Ru(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Pu(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Ss)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Tu(e,n)}return null===(i=r.interleaved)?(t.next=t,Iu(r)):(t.next=i.next,i.next=t),r.interleaved=t,Tu(e,n)}function Ou(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,gt(e,n)}}function Bu(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,u=null;if(null!==(n=n.firstBaseUpdate)){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===u?i=u=a:u=u.next=a,n=n.next}while(null!==n);null===u?i=u=t:u=u.next=t}else i=u=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:u,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Lu(e,t,n,r){var i=e.updateQueue;Du=!1;var u=i.firstBaseUpdate,a=i.lastBaseUpdate,o=i.shared.pending;if(null!==o){i.shared.pending=null;var s=o,c=s.next;s.next=null,null===a?u=c:a.next=c,a=s;var l=e.alternate;null!==l&&((o=(l=l.updateQueue).lastBaseUpdate)!==a&&(null===o?l.firstBaseUpdate=c:o.next=c,l.lastBaseUpdate=s))}if(null!==u){var f=i.baseState;for(a=0,l=c=s=null,o=u;;){var h=o.lane,d=o.eventTime;if((r&h)===h){null!==l&&(l=l.next={eventTime:d,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var p=e,v=o;switch(h=t,d=n,v.tag){case 1:if("function"===typeof(p=v.payload)){f=p.call(d,f,h);break e}f=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(h="function"===typeof(p=v.payload)?p.call(d,f,h):p)||void 0===h)break e;f=L({},f,h);break e;case 2:Du=!0}}null!==o.callback&&0!==o.lane&&(e.flags|=64,null===(h=i.effects)?i.effects=[o]:h.push(o))}else d={eventTime:d,lane:h,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===l?(c=l=d,s=f):l=l.next=d,a|=h;if(null===(o=o.next)){if(null===(o=i.shared.pending))break;o=(h=o).next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}if(null===l&&(s=f),i.baseState=s,i.firstBaseUpdate=c,i.lastBaseUpdate=l,null!==(t=i.shared.interleaved)){i=t;do{a|=i.lane,i=i.next}while(i!==t)}else null===u&&(i.shared.lanes=0);Bs|=a,e.lanes=a,e.memoizedState=f}}function ju(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(u(191,i));i.call(r)}}}var Mu=(new r.Component).refs;function Uu(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:L({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var Vu={isMounted:function(e){return!!(e=e._reactInternals)&&ze(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=ec(),i=tc(e),u=Ru(r,i);u.payload=t,void 0!==n&&null!==n&&(u.callback=n),null!==(t=Pu(e,u,i))&&(nc(t,e,i,r),Ou(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=ec(),i=tc(e),u=Ru(r,i);u.tag=1,u.payload=t,void 0!==n&&null!==n&&(u.callback=n),null!==(t=Pu(e,u,i))&&(nc(t,e,i,r),Ou(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ec(),r=tc(e),i=Ru(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=Pu(e,i,r))&&(nc(t,e,r,n),Ou(t,e,r))}};function zu(e,t,n,r,i,u,a){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,u,a):!t.prototype||!t.prototype.isPureReactComponent||(!sr(n,r)||!sr(i,u))}function qu(e,t,n){var r=!1,i=Ii,u=t.contextType;return"object"===typeof u&&null!==u?u=_u(u):(i=Fi(t)?Di:Si.current,u=(r=null!==(r=t.contextTypes)&&void 0!==r)?Ni(e,i):Ii),t=new t(n,u),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=Vu,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=u),t}function Gu(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Vu.enqueueReplaceState(t,t.state,null)}function Ku(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=Mu,Nu(e);var u=t.contextType;"object"===typeof u&&null!==u?i.context=_u(u):(u=Fi(t)?Di:Si.current,i.context=Ni(e,u)),i.state=e.memoizedState,"function"===typeof(u=t.getDerivedStateFromProps)&&(Uu(e,t,u,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&Vu.enqueueReplaceState(i,i.state,null),Lu(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function Hu(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(u(309));var r=n.stateNode}if(!r)throw Error(u(147,e));var i=r,a=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===a?t.ref:(t=function(e){var t=i.refs;t===Mu&&(t=i.refs={}),null===e?delete t[a]:t[a]=e},t._stringRef=a,t)}if("string"!==typeof e)throw Error(u(284));if(!n._owner)throw Error(u(290,e))}return e}function Wu(e,t){throw e=Object.prototype.toString.call(t),Error(u(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Qu(e){return(0,e._init)(e._payload)}function Ju(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Rc(e,t)).index=0,e.sibling=null,e}function a(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function o(t){return e&&null===t.alternate&&(t.flags|=2),t}function s(e,t,n,r){return null===t||6!==t.tag?((t=Lc(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var u=n.type;return u===x?f(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===u||"object"===typeof u&&null!==u&&u.$$typeof===F&&Qu(u)===t.type)?((r=i(t,n.props)).ref=Hu(e,t,n),r.return=e,r):((r=Pc(n.type,n.key,n.props,null,e.mode,r)).ref=Hu(e,t,n),r.return=e,r)}function l(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=jc(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function f(e,t,n,r,u){return null===t||7!==t.tag?((t=Oc(n,e.mode,r,u)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Lc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case w:return(n=Pc(t.type,t.key,t.props,null,e.mode,n)).ref=Hu(e,null,t),n.return=e,n;case E:return(t=jc(t,e.mode,n)).return=e,t;case F:return h(e,(0,t._init)(t._payload),n)}if(te(t)||O(t))return(t=Oc(t,e.mode,n,null)).return=e,t;Wu(e,t)}return null}function d(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:s(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case w:return n.key===i?c(e,t,n,r):null;case E:return n.key===i?l(e,t,n,r):null;case F:return d(e,t,(i=n._init)(n._payload),r)}if(te(n)||O(n))return null!==i?null:f(e,t,n,r,null);Wu(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return s(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case w:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case E:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i);case F:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||O(r))return f(t,e=e.get(n)||null,r,i,null);Wu(t,r)}return null}function v(i,u,o,s){for(var c=null,l=null,f=u,v=u=0,m=null;null!==f&&v<o.length;v++){f.index>v?(m=f,f=null):m=f.sibling;var y=d(i,f,o[v],s);if(null===y){null===f&&(f=m);break}e&&f&&null===y.alternate&&t(i,f),u=a(y,u,v),null===l?c=y:l.sibling=y,l=y,f=m}if(v===o.length)return n(i,f),iu&&$i(i,v),c;if(null===f){for(;v<o.length;v++)null!==(f=h(i,o[v],s))&&(u=a(f,u,v),null===l?c=f:l.sibling=f,l=f);return iu&&$i(i,v),c}for(f=r(i,f);v<o.length;v++)null!==(m=p(f,i,v,o[v],s))&&(e&&null!==m.alternate&&f.delete(null===m.key?v:m.key),u=a(m,u,v),null===l?c=m:l.sibling=m,l=m);return e&&f.forEach((function(e){return t(i,e)})),iu&&$i(i,v),c}function m(i,o,s,c){var l=O(s);if("function"!==typeof l)throw Error(u(150));if(null==(s=l.call(s)))throw Error(u(151));for(var f=l=null,v=o,m=o=0,y=null,g=s.next();null!==v&&!g.done;m++,g=s.next()){v.index>m?(y=v,v=null):y=v.sibling;var k=d(i,v,g.value,c);if(null===k){null===v&&(v=y);break}e&&v&&null===k.alternate&&t(i,v),o=a(k,o,m),null===f?l=k:f.sibling=k,f=k,v=y}if(g.done)return n(i,v),iu&&$i(i,m),l;if(null===v){for(;!g.done;m++,g=s.next())null!==(g=h(i,g.value,c))&&(o=a(g,o,m),null===f?l=g:f.sibling=g,f=g);return iu&&$i(i,m),l}for(v=r(i,v);!g.done;m++,g=s.next())null!==(g=p(v,i,m,g.value,c))&&(e&&null!==g.alternate&&v.delete(null===g.key?m:g.key),o=a(g,o,m),null===f?l=g:f.sibling=g,f=g);return e&&v.forEach((function(e){return t(i,e)})),iu&&$i(i,m),l}return function e(r,u,a,s){if("object"===typeof a&&null!==a&&a.type===x&&null===a.key&&(a=a.props.children),"object"===typeof a&&null!==a){switch(a.$$typeof){case w:e:{for(var c=a.key,l=u;null!==l;){if(l.key===c){if((c=a.type)===x){if(7===l.tag){n(r,l.sibling),(u=i(l,a.props.children)).return=r,r=u;break e}}else if(l.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===F&&Qu(c)===l.type){n(r,l.sibling),(u=i(l,a.props)).ref=Hu(r,l,a),u.return=r,r=u;break e}n(r,l);break}t(r,l),l=l.sibling}a.type===x?((u=Oc(a.props.children,r.mode,s,a.key)).return=r,r=u):((s=Pc(a.type,a.key,a.props,null,r.mode,s)).ref=Hu(r,u,a),s.return=r,r=s)}return o(r);case E:e:{for(l=a.key;null!==u;){if(u.key===l){if(4===u.tag&&u.stateNode.containerInfo===a.containerInfo&&u.stateNode.implementation===a.implementation){n(r,u.sibling),(u=i(u,a.children||[])).return=r,r=u;break e}n(r,u);break}t(r,u),u=u.sibling}(u=jc(a,r.mode,s)).return=r,r=u}return o(r);case F:return e(r,u,(l=a._init)(a._payload),s)}if(te(a))return v(r,u,a,s);if(O(a))return m(r,u,a,s);Wu(r,a)}return"string"===typeof a&&""!==a||"number"===typeof a?(a=""+a,null!==u&&6===u.tag?(n(r,u.sibling),(u=i(u,a)).return=r,r=u):(n(r,u),(u=Lc(a,r.mode,s)).return=r,r=u),o(r)):n(r,u)}}var Yu=Ju(!0),Xu=Ju(!1),$u={},Zu=Ai($u),ea=Ai($u),ta=Ai($u);function na(e){if(e===$u)throw Error(u(174));return e}function ra(e,t){switch(Ci(ta,t),Ci(ea,e),Ci(Zu,$u),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:se(null,"");break;default:t=se(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}_i(Zu),Ci(Zu,t)}function ia(){_i(Zu),_i(ea),_i(ta)}function ua(e){na(ta.current);var t=na(Zu.current),n=se(t,e.type);t!==n&&(Ci(ea,e),Ci(Zu,n))}function aa(e){ea.current===e&&(_i(Zu),_i(ea))}var oa=Ai(0);function sa(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ca=[];function la(){for(var e=0;e<ca.length;e++)ca[e]._workInProgressVersionPrimary=null;ca.length=0}var fa=b.ReactCurrentDispatcher,ha=b.ReactCurrentBatchConfig,da=0,pa=null,va=null,ma=null,ya=!1,ga=!1,ka=0,ba=0;function wa(){throw Error(u(321))}function Ea(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!or(e[n],t[n]))return!1;return!0}function xa(e,t,n,r,i,a){if(da=a,pa=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,fa.current=null===e||null===e.memoizedState?ao:oo,e=n(r,i),ga){a=0;do{if(ga=!1,ka=0,25<=a)throw Error(u(301));a+=1,ma=va=null,t.updateQueue=null,fa.current=so,e=n(r,i)}while(ga)}if(fa.current=uo,t=null!==va&&null!==va.next,da=0,ma=va=pa=null,ya=!1,t)throw Error(u(300));return e}function Aa(){var e=0!==ka;return ka=0,e}function _a(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===ma?pa.memoizedState=ma=e:ma=ma.next=e,ma}function Ca(){if(null===va){var e=pa.alternate;e=null!==e?e.memoizedState:null}else e=va.next;var t=null===ma?pa.memoizedState:ma.next;if(null!==t)ma=t,va=e;else{if(null===e)throw Error(u(310));e={memoizedState:(va=e).memoizedState,baseState:va.baseState,baseQueue:va.baseQueue,queue:va.queue,next:null},null===ma?pa.memoizedState=ma=e:ma=ma.next=e}return ma}function Ia(e,t){return"function"===typeof t?t(e):t}function Sa(e){var t=Ca(),n=t.queue;if(null===n)throw Error(u(311));n.lastRenderedReducer=e;var r=va,i=r.baseQueue,a=n.pending;if(null!==a){if(null!==i){var o=i.next;i.next=a.next,a.next=o}r.baseQueue=i=a,n.pending=null}if(null!==i){a=i.next,r=r.baseState;var s=o=null,c=null,l=a;do{var f=l.lane;if((da&f)===f)null!==c&&(c=c.next={lane:0,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null}),r=l.hasEagerState?l.eagerState:e(r,l.action);else{var h={lane:f,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null};null===c?(s=c=h,o=r):c=c.next=h,pa.lanes|=f,Bs|=f}l=l.next}while(null!==l&&l!==a);null===c?o=r:c.next=s,or(r,t.memoizedState)||(bo=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{a=i.lane,pa.lanes|=a,Bs|=a,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Ta(e){var t=Ca(),n=t.queue;if(null===n)throw Error(u(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,a=t.memoizedState;if(null!==i){n.pending=null;var o=i=i.next;do{a=e(a,o.action),o=o.next}while(o!==i);or(a,t.memoizedState)||(bo=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function Da(){}function Na(e,t){var n=pa,r=Ca(),i=t(),a=!or(r.memoizedState,i);if(a&&(r.memoizedState=i,bo=!0),r=r.queue,qa(Pa.bind(null,n,r,e),[e]),r.getSnapshot!==t||a||null!==ma&&1&ma.memoizedState.tag){if(n.flags|=2048,ja(9,Ra.bind(null,n,r,i,t),void 0,null),null===Ts)throw Error(u(349));0!==(30&da)||Fa(n,t,i)}return i}function Fa(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=pa.updateQueue)?(t={lastEffect:null,stores:null},pa.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Ra(e,t,n,r){t.value=n,t.getSnapshot=r,Oa(t)&&Ba(e)}function Pa(e,t,n){return n((function(){Oa(t)&&Ba(e)}))}function Oa(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!or(e,n)}catch(r){return!0}}function Ba(e){var t=Tu(e,1);null!==t&&nc(t,e,1,-1)}function La(e){var t=_a();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ia,lastRenderedState:e},t.queue=e,e=e.dispatch=to.bind(null,pa,e),[t.memoizedState,e]}function ja(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=pa.updateQueue)?(t={lastEffect:null,stores:null},pa.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Ma(){return Ca().memoizedState}function Ua(e,t,n,r){var i=_a();pa.flags|=e,i.memoizedState=ja(1|t,n,void 0,void 0===r?null:r)}function Va(e,t,n,r){var i=Ca();r=void 0===r?null:r;var u=void 0;if(null!==va){var a=va.memoizedState;if(u=a.destroy,null!==r&&Ea(r,a.deps))return void(i.memoizedState=ja(t,n,u,r))}pa.flags|=e,i.memoizedState=ja(1|t,n,u,r)}function za(e,t){return Ua(8390656,8,e,t)}function qa(e,t){return Va(2048,8,e,t)}function Ga(e,t){return Va(4,2,e,t)}function Ka(e,t){return Va(4,4,e,t)}function Ha(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Wa(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Va(4,4,Ha.bind(null,t,e),n)}function Qa(){}function Ja(e,t){var n=Ca();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Ea(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Ya(e,t){var n=Ca();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Ea(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Xa(e,t,n){return 0===(21&da)?(e.baseState&&(e.baseState=!1,bo=!0),e.memoizedState=n):(or(n,t)||(n=vt(),pa.lanes|=n,Bs|=n,e.baseState=!0),t)}function $a(e,t){var n=kt;kt=0!==n&&4>n?n:4,e(!0);var r=ha.transition;ha.transition={};try{e(!1),t()}finally{kt=n,ha.transition=r}}function Za(){return Ca().memoizedState}function eo(e,t,n){var r=tc(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},no(e))ro(t,n);else if(null!==(n=Su(e,t,n,r))){nc(n,e,r,ec()),io(n,t,r)}}function to(e,t,n){var r=tc(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(no(e))ro(t,i);else{var u=e.alternate;if(0===e.lanes&&(null===u||0===u.lanes)&&null!==(u=t.lastRenderedReducer))try{var a=t.lastRenderedState,o=u(a,n);if(i.hasEagerState=!0,i.eagerState=o,or(o,a)){var s=t.interleaved;return null===s?(i.next=i,Iu(t)):(i.next=s.next,s.next=i),void(t.interleaved=i)}}catch(c){}null!==(n=Su(e,t,i,r))&&(nc(n,e,r,i=ec()),io(n,t,r))}}function no(e){var t=e.alternate;return e===pa||null!==t&&t===pa}function ro(e,t){ga=ya=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function io(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,gt(e,n)}}var uo={readContext:_u,useCallback:wa,useContext:wa,useEffect:wa,useImperativeHandle:wa,useInsertionEffect:wa,useLayoutEffect:wa,useMemo:wa,useReducer:wa,useRef:wa,useState:wa,useDebugValue:wa,useDeferredValue:wa,useTransition:wa,useMutableSource:wa,useSyncExternalStore:wa,useId:wa,unstable_isNewReconciler:!1},ao={readContext:_u,useCallback:function(e,t){return _a().memoizedState=[e,void 0===t?null:t],e},useContext:_u,useEffect:za,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Ua(4194308,4,Ha.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Ua(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ua(4,2,e,t)},useMemo:function(e,t){var n=_a();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=_a();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=eo.bind(null,pa,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},_a().memoizedState=e},useState:La,useDebugValue:Qa,useDeferredValue:function(e){return _a().memoizedState=e},useTransition:function(){var e=La(!1),t=e[0];return e=$a.bind(null,e[1]),_a().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=pa,i=_a();if(iu){if(void 0===n)throw Error(u(407));n=n()}else{if(n=t(),null===Ts)throw Error(u(349));0!==(30&da)||Fa(r,t,n)}i.memoizedState=n;var a={value:n,getSnapshot:t};return i.queue=a,za(Pa.bind(null,r,a,e),[e]),r.flags|=2048,ja(9,Ra.bind(null,r,a,n,t),void 0,null),n},useId:function(){var e=_a(),t=Ts.identifierPrefix;if(iu){var n=Xi;t=":"+t+"R"+(n=(Yi&~(1<<32-at(Yi)-1)).toString(32)+n),0<(n=ka++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=ba++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},oo={readContext:_u,useCallback:Ja,useContext:_u,useEffect:qa,useImperativeHandle:Wa,useInsertionEffect:Ga,useLayoutEffect:Ka,useMemo:Ya,useReducer:Sa,useRef:Ma,useState:function(){return Sa(Ia)},useDebugValue:Qa,useDeferredValue:function(e){return Xa(Ca(),va.memoizedState,e)},useTransition:function(){return[Sa(Ia)[0],Ca().memoizedState]},useMutableSource:Da,useSyncExternalStore:Na,useId:Za,unstable_isNewReconciler:!1},so={readContext:_u,useCallback:Ja,useContext:_u,useEffect:qa,useImperativeHandle:Wa,useInsertionEffect:Ga,useLayoutEffect:Ka,useMemo:Ya,useReducer:Ta,useRef:Ma,useState:function(){return Ta(Ia)},useDebugValue:Qa,useDeferredValue:function(e){var t=Ca();return null===va?t.memoizedState=e:Xa(t,va.memoizedState,e)},useTransition:function(){return[Ta(Ia)[0],Ca().memoizedState]},useMutableSource:Da,useSyncExternalStore:Na,useId:Za,unstable_isNewReconciler:!1};function co(e,t){try{var n="",r=t;do{n+=V(r),r=r.return}while(r);var i=n}catch(u){i="\nError generating stack: "+u.message+"\n"+u.stack}return{value:e,source:t,stack:i,digest:null}}function lo(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function fo(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var ho="function"===typeof WeakMap?WeakMap:Map;function po(e,t,n){(n=Ru(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Gs||(Gs=!0,Ks=r),fo(0,t)},n}function vo(e,t,n){(n=Ru(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){fo(0,t)}}var u=e.stateNode;return null!==u&&"function"===typeof u.componentDidCatch&&(n.callback=function(){fo(0,t),"function"!==typeof r&&(null===Hs?Hs=new Set([this]):Hs.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function mo(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new ho;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=_c.bind(null,e,t,n),t.then(e,e))}function yo(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function go(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Ru(-1,1)).tag=2,Pu(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var ko=b.ReactCurrentOwner,bo=!1;function wo(e,t,n,r){t.child=null===e?Xu(t,null,n,r):Yu(t,e.child,n,r)}function Eo(e,t,n,r,i){n=n.render;var u=t.ref;return Au(t,i),r=xa(e,t,n,r,u,i),n=Aa(),null===e||bo?(iu&&n&&eu(t),t.flags|=1,wo(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Go(e,t,i))}function xo(e,t,n,r,i){if(null===e){var u=n.type;return"function"!==typeof u||Fc(u)||void 0!==u.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Pc(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=u,Ao(e,t,u,r,i))}if(u=e.child,0===(e.lanes&i)){var a=u.memoizedProps;if((n=null!==(n=n.compare)?n:sr)(a,r)&&e.ref===t.ref)return Go(e,t,i)}return t.flags|=1,(e=Rc(u,r)).ref=t.ref,e.return=t,t.child=e}function Ao(e,t,n,r,i){if(null!==e){var u=e.memoizedProps;if(sr(u,r)&&e.ref===t.ref){if(bo=!1,t.pendingProps=r=u,0===(e.lanes&i))return t.lanes=e.lanes,Go(e,t,i);0!==(131072&e.flags)&&(bo=!0)}}return Io(e,t,n,r,i)}function _o(e,t,n){var r=t.pendingProps,i=r.children,u=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ci(Rs,Fs),Fs|=n;else{if(0===(1073741824&n))return e=null!==u?u.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ci(Rs,Fs),Fs|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==u?u.baseLanes:n,Ci(Rs,Fs),Fs|=r}else null!==u?(r=u.baseLanes|n,t.memoizedState=null):r=n,Ci(Rs,Fs),Fs|=r;return wo(e,t,i,n),t.child}function Co(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Io(e,t,n,r,i){var u=Fi(n)?Di:Si.current;return u=Ni(t,u),Au(t,i),n=xa(e,t,n,r,u,i),r=Aa(),null===e||bo?(iu&&r&&eu(t),t.flags|=1,wo(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Go(e,t,i))}function So(e,t,n,r,i){if(Fi(n)){var u=!0;Bi(t)}else u=!1;if(Au(t,i),null===t.stateNode)qo(e,t),qu(t,n,r),Ku(t,n,r,i),r=!0;else if(null===e){var a=t.stateNode,o=t.memoizedProps;a.props=o;var s=a.context,c=n.contextType;"object"===typeof c&&null!==c?c=_u(c):c=Ni(t,c=Fi(n)?Di:Si.current);var l=n.getDerivedStateFromProps,f="function"===typeof l||"function"===typeof a.getSnapshotBeforeUpdate;f||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(o!==r||s!==c)&&Gu(t,a,r,c),Du=!1;var h=t.memoizedState;a.state=h,Lu(t,r,a,i),s=t.memoizedState,o!==r||h!==s||Ti.current||Du?("function"===typeof l&&(Uu(t,n,l,r),s=t.memoizedState),(o=Du||zu(t,n,o,r,h,s,c))?(f||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||("function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"===typeof a.componentDidMount&&(t.flags|=4194308)):("function"===typeof a.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=s),a.props=r,a.state=s,a.context=c,r=o):("function"===typeof a.componentDidMount&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,Fu(e,t),o=t.memoizedProps,c=t.type===t.elementType?o:mu(t.type,o),a.props=c,f=t.pendingProps,h=a.context,"object"===typeof(s=n.contextType)&&null!==s?s=_u(s):s=Ni(t,s=Fi(n)?Di:Si.current);var d=n.getDerivedStateFromProps;(l="function"===typeof d||"function"===typeof a.getSnapshotBeforeUpdate)||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(o!==f||h!==s)&&Gu(t,a,r,s),Du=!1,h=t.memoizedState,a.state=h,Lu(t,r,a,i);var p=t.memoizedState;o!==f||h!==p||Ti.current||Du?("function"===typeof d&&(Uu(t,n,d,r),p=t.memoizedState),(c=Du||zu(t,n,c,r,h,p,s)||!1)?(l||"function"!==typeof a.UNSAFE_componentWillUpdate&&"function"!==typeof a.componentWillUpdate||("function"===typeof a.componentWillUpdate&&a.componentWillUpdate(r,p,s),"function"===typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,p,s)),"function"===typeof a.componentDidUpdate&&(t.flags|=4),"function"===typeof a.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof a.componentDidUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),a.props=r,a.state=p,a.context=s,r=c):("function"!==typeof a.componentDidUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return To(e,t,n,r,u,i)}function To(e,t,n,r,i,u){Co(e,t);var a=0!==(128&t.flags);if(!r&&!a)return i&&Li(t,n,!1),Go(e,t,u);r=t.stateNode,ko.current=t;var o=a&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&a?(t.child=Yu(t,e.child,null,u),t.child=Yu(t,null,o,u)):wo(e,t,o,u),t.memoizedState=r.state,i&&Li(t,n,!0),t.child}function Do(e){var t=e.stateNode;t.pendingContext?Pi(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Pi(0,t.context,!1),ra(e,t.containerInfo)}function No(e,t,n,r,i){return du(),pu(i),t.flags|=256,wo(e,t,n,r),t.child}var Fo,Ro,Po,Oo={dehydrated:null,treeContext:null,retryLane:0};function Bo(e){return{baseLanes:e,cachePool:null,transitions:null}}function Lo(e,t,n){var r,i=t.pendingProps,a=oa.current,o=!1,s=0!==(128&t.flags);if((r=s)||(r=(null===e||null!==e.memoizedState)&&0!==(2&a)),r?(o=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(a|=1),Ci(oa,1&a),null===e)return cu(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(s=i.children,e=i.fallback,o?(i=t.mode,o=t.child,s={mode:"hidden",children:s},0===(1&i)&&null!==o?(o.childLanes=0,o.pendingProps=s):o=Bc(s,i,0,null),e=Oc(e,i,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=Bo(n),t.memoizedState=Oo,e):jo(t,s));if(null!==(a=e.memoizedState)&&null!==(r=a.dehydrated))return function(e,t,n,r,i,a,o){if(n)return 256&t.flags?(t.flags&=-257,Mo(e,t,o,r=lo(Error(u(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(a=r.fallback,i=t.mode,r=Bc({mode:"visible",children:r.children},i,0,null),(a=Oc(a,i,o,null)).flags|=2,r.return=t,a.return=t,r.sibling=a,t.child=r,0!==(1&t.mode)&&Yu(t,e.child,null,o),t.child.memoizedState=Bo(o),t.memoizedState=Oo,a);if(0===(1&t.mode))return Mo(e,t,o,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var s=r.dgst;return r=s,Mo(e,t,o,r=lo(a=Error(u(419)),r,void 0))}if(s=0!==(o&e.childLanes),bo||s){if(null!==(r=Ts)){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|o))?0:i)&&i!==a.retryLane&&(a.retryLane=i,Tu(e,i),nc(r,e,i,-1))}return vc(),Mo(e,t,o,r=lo(Error(u(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=Ic.bind(null,e),i._reactRetry=t,null):(e=a.treeContext,ru=ci(i.nextSibling),nu=t,iu=!0,uu=null,null!==e&&(Wi[Qi++]=Yi,Wi[Qi++]=Xi,Wi[Qi++]=Ji,Yi=e.id,Xi=e.overflow,Ji=t),(t=jo(t,r.children)).flags|=4096,t)}(e,t,s,i,r,a,n);if(o){o=i.fallback,s=t.mode,r=(a=e.child).sibling;var c={mode:"hidden",children:i.children};return 0===(1&s)&&t.child!==a?((i=t.child).childLanes=0,i.pendingProps=c,t.deletions=null):(i=Rc(a,c)).subtreeFlags=14680064&a.subtreeFlags,null!==r?o=Rc(r,o):(o=Oc(o,s,n,null)).flags|=2,o.return=t,i.return=t,i.sibling=o,t.child=i,i=o,o=t.child,s=null===(s=e.child.memoizedState)?Bo(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},o.memoizedState=s,o.childLanes=e.childLanes&~n,t.memoizedState=Oo,i}return e=(o=e.child).sibling,i=Rc(o,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function jo(e,t){return(t=Bc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Mo(e,t,n,r){return null!==r&&pu(r),Yu(t,e.child,null,n),(e=jo(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Uo(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),xu(e.return,t,n)}function Vo(e,t,n,r,i){var u=e.memoizedState;null===u?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(u.isBackwards=t,u.rendering=null,u.renderingStartTime=0,u.last=r,u.tail=n,u.tailMode=i)}function zo(e,t,n){var r=t.pendingProps,i=r.revealOrder,u=r.tail;if(wo(e,t,r.children,n),0!==(2&(r=oa.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Uo(e,n,t);else if(19===e.tag)Uo(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ci(oa,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===sa(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Vo(t,!1,i,n,u);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===sa(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Vo(t,!0,n,null,u);break;case"together":Vo(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function qo(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Go(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Bs|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(u(153));if(null!==t.child){for(n=Rc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Rc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Ko(e,t){if(!iu)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ho(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Wo(e,t,n){var r=t.pendingProps;switch(tu(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ho(t),null;case 1:case 17:return Fi(t.type)&&Ri(),Ho(t),null;case 3:return r=t.stateNode,ia(),_i(Ti),_i(Si),la(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(fu(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==uu&&(ac(uu),uu=null))),Ho(t),null;case 5:aa(t);var i=na(ta.current);if(n=t.type,null!==e&&null!=t.stateNode)Ro(e,t,n,r),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(u(166));return Ho(t),null}if(e=na(Zu.current),fu(t)){r=t.stateNode,n=t.type;var a=t.memoizedProps;switch(r[hi]=t,r[di]=a,e=0!==(1&t.mode),n){case"dialog":Mr("cancel",r),Mr("close",r);break;case"iframe":case"object":case"embed":Mr("load",r);break;case"video":case"audio":for(i=0;i<Or.length;i++)Mr(Or[i],r);break;case"source":Mr("error",r);break;case"img":case"image":case"link":Mr("error",r),Mr("load",r);break;case"details":Mr("toggle",r);break;case"input":Y(r,a),Mr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},Mr("invalid",r);break;case"textarea":ie(r,a),Mr("invalid",r)}for(var s in ge(n,a),i=null,a)if(a.hasOwnProperty(s)){var c=a[s];"children"===s?"string"===typeof c?r.textContent!==c&&(!0!==a.suppressHydrationWarning&&$r(r.textContent,c,e),i=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==a.suppressHydrationWarning&&$r(r.textContent,c,e),i=["children",""+c]):o.hasOwnProperty(s)&&null!=c&&"onScroll"===s&&Mr("scroll",r)}switch(n){case"input":H(r),Z(r,a,!0);break;case"textarea":H(r),ae(r);break;case"select":case"option":break;default:"function"===typeof a.onClick&&(r.onclick=Zr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{s=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=oe(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=s.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=s.createElement(n,{is:r.is}):(e=s.createElement(n),"select"===n&&(s=e,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):e=s.createElementNS(e,n),e[hi]=t,e[di]=r,Fo(e,t),t.stateNode=e;e:{switch(s=ke(n,r),n){case"dialog":Mr("cancel",e),Mr("close",e),i=r;break;case"iframe":case"object":case"embed":Mr("load",e),i=r;break;case"video":case"audio":for(i=0;i<Or.length;i++)Mr(Or[i],e);i=r;break;case"source":Mr("error",e),i=r;break;case"img":case"image":case"link":Mr("error",e),Mr("load",e),i=r;break;case"details":Mr("toggle",e),i=r;break;case"input":Y(e,r),i=J(e,r),Mr("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=L({},r,{value:void 0}),Mr("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),Mr("invalid",e)}for(a in ge(n,i),c=i)if(c.hasOwnProperty(a)){var l=c[a];"style"===a?me(e,l):"dangerouslySetInnerHTML"===a?null!=(l=l?l.__html:void 0)&&fe(e,l):"children"===a?"string"===typeof l?("textarea"!==n||""!==l)&&he(e,l):"number"===typeof l&&he(e,""+l):"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&"autoFocus"!==a&&(o.hasOwnProperty(a)?null!=l&&"onScroll"===a&&Mr("scroll",e):null!=l&&k(e,a,l,s))}switch(n){case"input":H(e),Z(e,r,!1);break;case"textarea":H(e),ae(e);break;case"option":null!=r.value&&e.setAttribute("value",""+G(r.value));break;case"select":e.multiple=!!r.multiple,null!=(a=r.value)?ne(e,!!r.multiple,a,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Zr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Ho(t),null;case 6:if(e&&null!=t.stateNode)Po(0,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(u(166));if(n=na(ta.current),na(Zu.current),fu(t)){if(r=t.stateNode,n=t.memoizedProps,r[hi]=t,(a=r.nodeValue!==n)&&null!==(e=nu))switch(e.tag){case 3:$r(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&$r(r.nodeValue,n,0!==(1&e.mode))}a&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[hi]=t,t.stateNode=r}return Ho(t),null;case 13:if(_i(oa),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(iu&&null!==ru&&0!==(1&t.mode)&&0===(128&t.flags))hu(),du(),t.flags|=98560,a=!1;else if(a=fu(t),null!==r&&null!==r.dehydrated){if(null===e){if(!a)throw Error(u(318));if(!(a=null!==(a=t.memoizedState)?a.dehydrated:null))throw Error(u(317));a[hi]=t}else du(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Ho(t),a=!1}else null!==uu&&(ac(uu),uu=null),a=!0;if(!a)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&oa.current)?0===Ps&&(Ps=3):vc())),null!==t.updateQueue&&(t.flags|=4),Ho(t),null);case 4:return ia(),null===e&&zr(t.stateNode.containerInfo),Ho(t),null;case 10:return Eu(t.type._context),Ho(t),null;case 19:if(_i(oa),null===(a=t.memoizedState))return Ho(t),null;if(r=0!==(128&t.flags),null===(s=a.rendering))if(r)Ko(a,!1);else{if(0!==Ps||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(s=sa(e))){for(t.flags|=128,Ko(a,!1),null!==(r=s.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(a=n).flags&=14680066,null===(s=a.alternate)?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=s.childLanes,a.lanes=s.lanes,a.child=s.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=s.memoizedProps,a.memoizedState=s.memoizedState,a.updateQueue=s.updateQueue,a.type=s.type,e=s.dependencies,a.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ci(oa,1&oa.current|2),t.child}e=e.sibling}null!==a.tail&&Xe()>zs&&(t.flags|=128,r=!0,Ko(a,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=sa(s))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Ko(a,!0),null===a.tail&&"hidden"===a.tailMode&&!s.alternate&&!iu)return Ho(t),null}else 2*Xe()-a.renderingStartTime>zs&&1073741824!==n&&(t.flags|=128,r=!0,Ko(a,!1),t.lanes=4194304);a.isBackwards?(s.sibling=t.child,t.child=s):(null!==(n=a.last)?n.sibling=s:t.child=s,a.last=s)}return null!==a.tail?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=Xe(),t.sibling=null,n=oa.current,Ci(oa,r?1&n|2:1&n),t):(Ho(t),null);case 22:case 23:return fc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Fs)&&(Ho(t),6&t.subtreeFlags&&(t.flags|=8192)):Ho(t),null;case 24:case 25:return null}throw Error(u(156,t.tag))}function Qo(e,t){switch(tu(t),t.tag){case 1:return Fi(t.type)&&Ri(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return ia(),_i(Ti),_i(Si),la(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return aa(t),null;case 13:if(_i(oa),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(u(340));du()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return _i(oa),null;case 4:return ia(),null;case 10:return Eu(t.type._context),null;case 22:case 23:return fc(),null;default:return null}}Fo=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Ro=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,na(Zu.current);var u,a=null;switch(n){case"input":i=J(e,i),r=J(e,r),a=[];break;case"select":i=L({},i,{value:void 0}),r=L({},r,{value:void 0}),a=[];break;case"textarea":i=re(e,i),r=re(e,r),a=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=Zr)}for(l in ge(n,r),n=null,i)if(!r.hasOwnProperty(l)&&i.hasOwnProperty(l)&&null!=i[l])if("style"===l){var s=i[l];for(u in s)s.hasOwnProperty(u)&&(n||(n={}),n[u]="")}else"dangerouslySetInnerHTML"!==l&&"children"!==l&&"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&"autoFocus"!==l&&(o.hasOwnProperty(l)?a||(a=[]):(a=a||[]).push(l,null));for(l in r){var c=r[l];if(s=null!=i?i[l]:void 0,r.hasOwnProperty(l)&&c!==s&&(null!=c||null!=s))if("style"===l)if(s){for(u in s)!s.hasOwnProperty(u)||c&&c.hasOwnProperty(u)||(n||(n={}),n[u]="");for(u in c)c.hasOwnProperty(u)&&s[u]!==c[u]&&(n||(n={}),n[u]=c[u])}else n||(a||(a=[]),a.push(l,n)),n=c;else"dangerouslySetInnerHTML"===l?(c=c?c.__html:void 0,s=s?s.__html:void 0,null!=c&&s!==c&&(a=a||[]).push(l,c)):"children"===l?"string"!==typeof c&&"number"!==typeof c||(a=a||[]).push(l,""+c):"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&(o.hasOwnProperty(l)?(null!=c&&"onScroll"===l&&Mr("scroll",e),a||s===c||(a=[])):(a=a||[]).push(l,c))}n&&(a=a||[]).push("style",n);var l=a;(t.updateQueue=l)&&(t.flags|=4)}},Po=function(e,t,n,r){n!==r&&(t.flags|=4)};var Jo=!1,Yo=!1,Xo="function"===typeof WeakSet?WeakSet:Set,$o=null;function Zo(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){Ac(e,t,r)}else n.current=null}function es(e,t,n){try{n()}catch(r){Ac(e,t,r)}}var ts=!1;function ns(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var u=i.destroy;i.destroy=void 0,void 0!==u&&es(t,n,u)}i=i.next}while(i!==r)}}function rs(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function is(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function us(e){var t=e.alternate;null!==t&&(e.alternate=null,us(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[hi],delete t[di],delete t[vi],delete t[mi],delete t[yi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function as(e){return 5===e.tag||3===e.tag||4===e.tag}function os(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||as(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ss(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Zr));else if(4!==r&&null!==(e=e.child))for(ss(e,t,n),e=e.sibling;null!==e;)ss(e,t,n),e=e.sibling}function cs(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(cs(e,t,n),e=e.sibling;null!==e;)cs(e,t,n),e=e.sibling}var ls=null,fs=!1;function hs(e,t,n){for(n=n.child;null!==n;)ds(e,t,n),n=n.sibling}function ds(e,t,n){if(ut&&"function"===typeof ut.onCommitFiberUnmount)try{ut.onCommitFiberUnmount(it,n)}catch(o){}switch(n.tag){case 5:Yo||Zo(n,t);case 6:var r=ls,i=fs;ls=null,hs(e,t,n),fs=i,null!==(ls=r)&&(fs?(e=ls,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):ls.removeChild(n.stateNode));break;case 18:null!==ls&&(fs?(e=ls,n=n.stateNode,8===e.nodeType?si(e.parentNode,n):1===e.nodeType&&si(e,n),zt(e)):si(ls,n.stateNode));break;case 4:r=ls,i=fs,ls=n.stateNode.containerInfo,fs=!0,hs(e,t,n),ls=r,fs=i;break;case 0:case 11:case 14:case 15:if(!Yo&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var u=i,a=u.destroy;u=u.tag,void 0!==a&&(0!==(2&u)||0!==(4&u))&&es(n,t,a),i=i.next}while(i!==r)}hs(e,t,n);break;case 1:if(!Yo&&(Zo(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(o){Ac(n,t,o)}hs(e,t,n);break;case 21:hs(e,t,n);break;case 22:1&n.mode?(Yo=(r=Yo)||null!==n.memoizedState,hs(e,t,n),Yo=r):hs(e,t,n);break;default:hs(e,t,n)}}function ps(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Xo),t.forEach((function(t){var r=Sc.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function vs(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var a=e,o=t,s=o;e:for(;null!==s;){switch(s.tag){case 5:ls=s.stateNode,fs=!1;break e;case 3:case 4:ls=s.stateNode.containerInfo,fs=!0;break e}s=s.return}if(null===ls)throw Error(u(160));ds(a,o,i),ls=null,fs=!1;var c=i.alternate;null!==c&&(c.return=null),i.return=null}catch(l){Ac(i,t,l)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)ms(t,e),t=t.sibling}function ms(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(vs(t,e),ys(e),4&r){try{ns(3,e,e.return),rs(3,e)}catch(m){Ac(e,e.return,m)}try{ns(5,e,e.return)}catch(m){Ac(e,e.return,m)}}break;case 1:vs(t,e),ys(e),512&r&&null!==n&&Zo(n,n.return);break;case 5:if(vs(t,e),ys(e),512&r&&null!==n&&Zo(n,n.return),32&e.flags){var i=e.stateNode;try{he(i,"")}catch(m){Ac(e,e.return,m)}}if(4&r&&null!=(i=e.stateNode)){var a=e.memoizedProps,o=null!==n?n.memoizedProps:a,s=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===s&&"radio"===a.type&&null!=a.name&&X(i,a),ke(s,o);var l=ke(s,a);for(o=0;o<c.length;o+=2){var f=c[o],h=c[o+1];"style"===f?me(i,h):"dangerouslySetInnerHTML"===f?fe(i,h):"children"===f?he(i,h):k(i,f,h,l)}switch(s){case"input":$(i,a);break;case"textarea":ue(i,a);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var p=a.value;null!=p?ne(i,!!a.multiple,p,!1):d!==!!a.multiple&&(null!=a.defaultValue?ne(i,!!a.multiple,a.defaultValue,!0):ne(i,!!a.multiple,a.multiple?[]:"",!1))}i[di]=a}catch(m){Ac(e,e.return,m)}}break;case 6:if(vs(t,e),ys(e),4&r){if(null===e.stateNode)throw Error(u(162));i=e.stateNode,a=e.memoizedProps;try{i.nodeValue=a}catch(m){Ac(e,e.return,m)}}break;case 3:if(vs(t,e),ys(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{zt(t.containerInfo)}catch(m){Ac(e,e.return,m)}break;case 4:default:vs(t,e),ys(e);break;case 13:vs(t,e),ys(e),8192&(i=e.child).flags&&(a=null!==i.memoizedState,i.stateNode.isHidden=a,!a||null!==i.alternate&&null!==i.alternate.memoizedState||(Vs=Xe())),4&r&&ps(e);break;case 22:if(f=null!==n&&null!==n.memoizedState,1&e.mode?(Yo=(l=Yo)||f,vs(t,e),Yo=l):vs(t,e),ys(e),8192&r){if(l=null!==e.memoizedState,(e.stateNode.isHidden=l)&&!f&&0!==(1&e.mode))for($o=e,f=e.child;null!==f;){for(h=$o=f;null!==$o;){switch(p=(d=$o).child,d.tag){case 0:case 11:case 14:case 15:ns(4,d,d.return);break;case 1:Zo(d,d.return);var v=d.stateNode;if("function"===typeof v.componentWillUnmount){r=d,n=d.return;try{t=r,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(m){Ac(r,n,m)}}break;case 5:Zo(d,d.return);break;case 22:if(null!==d.memoizedState){ws(h);continue}}null!==p?(p.return=d,$o=p):ws(h)}f=f.sibling}e:for(f=null,h=e;;){if(5===h.tag){if(null===f){f=h;try{i=h.stateNode,l?"function"===typeof(a=i.style).setProperty?a.setProperty("display","none","important"):a.display="none":(s=h.stateNode,o=void 0!==(c=h.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,s.style.display=ve("display",o))}catch(m){Ac(e,e.return,m)}}}else if(6===h.tag){if(null===f)try{h.stateNode.nodeValue=l?"":h.memoizedProps}catch(m){Ac(e,e.return,m)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;f===h&&(f=null),h=h.return}f===h&&(f=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:vs(t,e),ys(e),4&r&&ps(e);case 21:}}function ys(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(as(n)){var r=n;break e}n=n.return}throw Error(u(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(he(i,""),r.flags&=-33),cs(e,os(e),i);break;case 3:case 4:var a=r.stateNode.containerInfo;ss(e,os(e),a);break;default:throw Error(u(161))}}catch(o){Ac(e,e.return,o)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function gs(e,t,n){$o=e,ks(e,t,n)}function ks(e,t,n){for(var r=0!==(1&e.mode);null!==$o;){var i=$o,u=i.child;if(22===i.tag&&r){var a=null!==i.memoizedState||Jo;if(!a){var o=i.alternate,s=null!==o&&null!==o.memoizedState||Yo;o=Jo;var c=Yo;if(Jo=a,(Yo=s)&&!c)for($o=i;null!==$o;)s=(a=$o).child,22===a.tag&&null!==a.memoizedState?Es(i):null!==s?(s.return=a,$o=s):Es(i);for(;null!==u;)$o=u,ks(u,t,n),u=u.sibling;$o=i,Jo=o,Yo=c}bs(e)}else 0!==(8772&i.subtreeFlags)&&null!==u?(u.return=i,$o=u):bs(e)}}function bs(e){for(;null!==$o;){var t=$o;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Yo||rs(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Yo)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:mu(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;null!==a&&ju(t,a,r);break;case 3:var o=t.updateQueue;if(null!==o){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}ju(t,o,n)}break;case 5:var s=t.stateNode;if(null===n&&4&t.flags){n=s;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var l=t.alternate;if(null!==l){var f=l.memoizedState;if(null!==f){var h=f.dehydrated;null!==h&&zt(h)}}}break;default:throw Error(u(163))}Yo||512&t.flags&&is(t)}catch(d){Ac(t,t.return,d)}}if(t===e){$o=null;break}if(null!==(n=t.sibling)){n.return=t.return,$o=n;break}$o=t.return}}function ws(e){for(;null!==$o;){var t=$o;if(t===e){$o=null;break}var n=t.sibling;if(null!==n){n.return=t.return,$o=n;break}$o=t.return}}function Es(e){for(;null!==$o;){var t=$o;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{rs(4,t)}catch(s){Ac(t,n,s)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(s){Ac(t,i,s)}}var u=t.return;try{is(t)}catch(s){Ac(t,u,s)}break;case 5:var a=t.return;try{is(t)}catch(s){Ac(t,a,s)}}}catch(s){Ac(t,t.return,s)}if(t===e){$o=null;break}var o=t.sibling;if(null!==o){o.return=t.return,$o=o;break}$o=t.return}}var xs,As=Math.ceil,_s=b.ReactCurrentDispatcher,Cs=b.ReactCurrentOwner,Is=b.ReactCurrentBatchConfig,Ss=0,Ts=null,Ds=null,Ns=0,Fs=0,Rs=Ai(0),Ps=0,Os=null,Bs=0,Ls=0,js=0,Ms=null,Us=null,Vs=0,zs=1/0,qs=null,Gs=!1,Ks=null,Hs=null,Ws=!1,Qs=null,Js=0,Ys=0,Xs=null,$s=-1,Zs=0;function ec(){return 0!==(6&Ss)?Xe():-1!==$s?$s:$s=Xe()}function tc(e){return 0===(1&e.mode)?1:0!==(2&Ss)&&0!==Ns?Ns&-Ns:null!==vu.transition?(0===Zs&&(Zs=vt()),Zs):0!==(e=kt)?e:e=void 0===(e=window.event)?16:Yt(e.type)}function nc(e,t,n,r){if(50<Ys)throw Ys=0,Xs=null,Error(u(185));yt(e,n,r),0!==(2&Ss)&&e===Ts||(e===Ts&&(0===(2&Ss)&&(Ls|=n),4===Ps&&oc(e,Ns)),rc(e,r),1===n&&0===Ss&&0===(1&t.mode)&&(zs=Xe()+500,Mi&&zi()))}function rc(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,u=e.pendingLanes;0<u;){var a=31-at(u),o=1<<a,s=i[a];-1===s?0!==(o&n)&&0===(o&r)||(i[a]=dt(o,t)):s<=t&&(e.expiredLanes|=o),u&=~o}}(e,t);var r=ht(e,e===Ts?Ns:0);if(0===r)null!==n&&Qe(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Qe(n),1===t)0===e.tag?function(e){Mi=!0,Vi(e)}(sc.bind(null,e)):Vi(sc.bind(null,e)),ai((function(){0===(6&Ss)&&zi()})),n=null;else{switch(bt(r)){case 1:n=Ze;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Tc(n,ic.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function ic(e,t){if($s=-1,Zs=0,0!==(6&Ss))throw Error(u(327));var n=e.callbackNode;if(Ec()&&e.callbackNode!==n)return null;var r=ht(e,e===Ts?Ns:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=mc(e,r);else{t=r;var i=Ss;Ss|=2;var a=pc();for(Ts===e&&Ns===t||(qs=null,zs=Xe()+500,hc(e,t));;)try{gc();break}catch(s){dc(e,s)}wu(),_s.current=a,Ss=i,null!==Ds?t=0:(Ts=null,Ns=0,t=Ps)}if(0!==t){if(2===t&&(0!==(i=pt(e))&&(r=i,t=uc(e,i))),1===t)throw n=Os,hc(e,0),oc(e,r),rc(e,Xe()),n;if(6===t)oc(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],u=i.getSnapshot;i=i.value;try{if(!or(u(),i))return!1}catch(o){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=mc(e,r))&&(0!==(a=pt(e))&&(r=a,t=uc(e,a))),1===t))throw n=Os,hc(e,0),oc(e,r),rc(e,Xe()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(u(345));case 2:case 5:wc(e,Us,qs);break;case 3:if(oc(e,r),(130023424&r)===r&&10<(t=Vs+500-Xe())){if(0!==ht(e,0))break;if(((i=e.suspendedLanes)&r)!==r){ec(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(wc.bind(null,e,Us,qs),t);break}wc(e,Us,qs);break;case 4:if(oc(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var o=31-at(r);a=1<<o,(o=t[o])>i&&(i=o),r&=~a}if(r=i,10<(r=(120>(r=Xe()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*As(r/1960))-r)){e.timeoutHandle=ri(wc.bind(null,e,Us,qs),r);break}wc(e,Us,qs);break;default:throw Error(u(329))}}}return rc(e,Xe()),e.callbackNode===n?ic.bind(null,e):null}function uc(e,t){var n=Ms;return e.current.memoizedState.isDehydrated&&(hc(e,t).flags|=256),2!==(e=mc(e,t))&&(t=Us,Us=n,null!==t&&ac(t)),e}function ac(e){null===Us?Us=e:Us.push.apply(Us,e)}function oc(e,t){for(t&=~js,t&=~Ls,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-at(t),r=1<<n;e[n]=-1,t&=~r}}function sc(e){if(0!==(6&Ss))throw Error(u(327));Ec();var t=ht(e,0);if(0===(1&t))return rc(e,Xe()),null;var n=mc(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=uc(e,r))}if(1===n)throw n=Os,hc(e,0),oc(e,t),rc(e,Xe()),n;if(6===n)throw Error(u(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,wc(e,Us,qs),rc(e,Xe()),null}function cc(e,t){var n=Ss;Ss|=1;try{return e(t)}finally{0===(Ss=n)&&(zs=Xe()+500,Mi&&zi())}}function lc(e){null!==Qs&&0===Qs.tag&&0===(6&Ss)&&Ec();var t=Ss;Ss|=1;var n=Is.transition,r=kt;try{if(Is.transition=null,kt=1,e)return e()}finally{kt=r,Is.transition=n,0===(6&(Ss=t))&&zi()}}function fc(){Fs=Rs.current,_i(Rs)}function hc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==Ds)for(n=Ds.return;null!==n;){var r=n;switch(tu(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Ri();break;case 3:ia(),_i(Ti),_i(Si),la();break;case 5:aa(r);break;case 4:ia();break;case 13:case 19:_i(oa);break;case 10:Eu(r.type._context);break;case 22:case 23:fc()}n=n.return}if(Ts=e,Ds=e=Rc(e.current,null),Ns=Fs=t,Ps=0,Os=null,js=Ls=Bs=0,Us=Ms=null,null!==Cu){for(t=0;t<Cu.length;t++)if(null!==(r=(n=Cu[t]).interleaved)){n.interleaved=null;var i=r.next,u=n.pending;if(null!==u){var a=u.next;u.next=i,r.next=a}n.pending=r}Cu=null}return e}function dc(e,t){for(;;){var n=Ds;try{if(wu(),fa.current=uo,ya){for(var r=pa.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}ya=!1}if(da=0,ma=va=pa=null,ga=!1,ka=0,Cs.current=null,null===n||null===n.return){Ps=1,Os=t,Ds=null;break}e:{var a=e,o=n.return,s=n,c=t;if(t=Ns,s.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var l=c,f=s,h=f.tag;if(0===(1&f.mode)&&(0===h||11===h||15===h)){var d=f.alternate;d?(f.updateQueue=d.updateQueue,f.memoizedState=d.memoizedState,f.lanes=d.lanes):(f.updateQueue=null,f.memoizedState=null)}var p=yo(o);if(null!==p){p.flags&=-257,go(p,o,s,0,t),1&p.mode&&mo(a,l,t),c=l;var v=(t=p).updateQueue;if(null===v){var m=new Set;m.add(c),t.updateQueue=m}else v.add(c);break e}if(0===(1&t)){mo(a,l,t),vc();break e}c=Error(u(426))}else if(iu&&1&s.mode){var y=yo(o);if(null!==y){0===(65536&y.flags)&&(y.flags|=256),go(y,o,s,0,t),pu(co(c,s));break e}}a=c=co(c,s),4!==Ps&&(Ps=2),null===Ms?Ms=[a]:Ms.push(a),a=o;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t,Bu(a,po(0,c,t));break e;case 1:s=c;var g=a.type,k=a.stateNode;if(0===(128&a.flags)&&("function"===typeof g.getDerivedStateFromError||null!==k&&"function"===typeof k.componentDidCatch&&(null===Hs||!Hs.has(k)))){a.flags|=65536,t&=-t,a.lanes|=t,Bu(a,vo(a,s,t));break e}}a=a.return}while(null!==a)}bc(n)}catch(b){t=b,Ds===n&&null!==n&&(Ds=n=n.return);continue}break}}function pc(){var e=_s.current;return _s.current=uo,null===e?uo:e}function vc(){0!==Ps&&3!==Ps&&2!==Ps||(Ps=4),null===Ts||0===(268435455&Bs)&&0===(268435455&Ls)||oc(Ts,Ns)}function mc(e,t){var n=Ss;Ss|=2;var r=pc();for(Ts===e&&Ns===t||(qs=null,hc(e,t));;)try{yc();break}catch(i){dc(e,i)}if(wu(),Ss=n,_s.current=r,null!==Ds)throw Error(u(261));return Ts=null,Ns=0,Ps}function yc(){for(;null!==Ds;)kc(Ds)}function gc(){for(;null!==Ds&&!Je();)kc(Ds)}function kc(e){var t=xs(e.alternate,e,Fs);e.memoizedProps=e.pendingProps,null===t?bc(e):Ds=t,Cs.current=null}function bc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Wo(n,t,Fs)))return void(Ds=n)}else{if(null!==(n=Qo(n,t)))return n.flags&=32767,void(Ds=n);if(null===e)return Ps=6,void(Ds=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Ds=t);Ds=t=e}while(null!==t);0===Ps&&(Ps=5)}function wc(e,t,n){var r=kt,i=Is.transition;try{Is.transition=null,kt=1,function(e,t,n,r){do{Ec()}while(null!==Qs);if(0!==(6&Ss))throw Error(u(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(u(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-at(n),u=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~u}}(e,a),e===Ts&&(Ds=Ts=null,Ns=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Ws||(Ws=!0,Tc(tt,(function(){return Ec(),null}))),a=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||a){a=Is.transition,Is.transition=null;var o=kt;kt=1;var s=Ss;Ss|=4,Cs.current=null,function(e,t){if(ei=Gt,dr(e=hr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch(w){n=null;break e}var o=0,s=-1,c=-1,l=0,f=0,h=e,d=null;t:for(;;){for(var p;h!==n||0!==i&&3!==h.nodeType||(s=o+i),h!==a||0!==r&&3!==h.nodeType||(c=o+r),3===h.nodeType&&(o+=h.nodeValue.length),null!==(p=h.firstChild);)d=h,h=p;for(;;){if(h===e)break t;if(d===n&&++l===i&&(s=o),d===a&&++f===r&&(c=o),null!==(p=h.nextSibling))break;d=(h=d).parentNode}h=p}n=-1===s||-1===c?null:{start:s,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},Gt=!1,$o=t;null!==$o;)if(e=(t=$o).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,$o=e;else for(;null!==$o;){t=$o;try{var v=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==v){var m=v.memoizedProps,y=v.memoizedState,g=t.stateNode,k=g.getSnapshotBeforeUpdate(t.elementType===t.type?m:mu(t.type,m),y);g.__reactInternalSnapshotBeforeUpdate=k}break;case 3:var b=t.stateNode.containerInfo;1===b.nodeType?b.textContent="":9===b.nodeType&&b.documentElement&&b.removeChild(b.documentElement);break;default:throw Error(u(163))}}catch(w){Ac(t,t.return,w)}if(null!==(e=t.sibling)){e.return=t.return,$o=e;break}$o=t.return}v=ts,ts=!1}(e,n),ms(n,e),pr(ti),Gt=!!ei,ti=ei=null,e.current=n,gs(n,e,i),Ye(),Ss=s,kt=o,Is.transition=a}else e.current=n;if(Ws&&(Ws=!1,Qs=e,Js=i),0===(a=e.pendingLanes)&&(Hs=null),function(e){if(ut&&"function"===typeof ut.onCommitFiberRoot)try{ut.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),rc(e,Xe()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)r((i=t[n]).value,{componentStack:i.stack,digest:i.digest});if(Gs)throw Gs=!1,e=Ks,Ks=null,e;0!==(1&Js)&&0!==e.tag&&Ec(),0!==(1&(a=e.pendingLanes))?e===Xs?Ys++:(Ys=0,Xs=e):Ys=0,zi()}(e,t,n,r)}finally{Is.transition=i,kt=r}return null}function Ec(){if(null!==Qs){var e=bt(Js),t=Is.transition,n=kt;try{if(Is.transition=null,kt=16>e?16:e,null===Qs)var r=!1;else{if(e=Qs,Qs=null,Js=0,0!==(6&Ss))throw Error(u(331));var i=Ss;for(Ss|=4,$o=e.current;null!==$o;){var a=$o,o=a.child;if(0!==(16&$o.flags)){var s=a.deletions;if(null!==s){for(var c=0;c<s.length;c++){var l=s[c];for($o=l;null!==$o;){var f=$o;switch(f.tag){case 0:case 11:case 15:ns(8,f,a)}var h=f.child;if(null!==h)h.return=f,$o=h;else for(;null!==$o;){var d=(f=$o).sibling,p=f.return;if(us(f),f===l){$o=null;break}if(null!==d){d.return=p,$o=d;break}$o=p}}}var v=a.alternate;if(null!==v){var m=v.child;if(null!==m){v.child=null;do{var y=m.sibling;m.sibling=null,m=y}while(null!==m)}}$o=a}}if(0!==(2064&a.subtreeFlags)&&null!==o)o.return=a,$o=o;else e:for(;null!==$o;){if(0!==(2048&(a=$o).flags))switch(a.tag){case 0:case 11:case 15:ns(9,a,a.return)}var g=a.sibling;if(null!==g){g.return=a.return,$o=g;break e}$o=a.return}}var k=e.current;for($o=k;null!==$o;){var b=(o=$o).child;if(0!==(2064&o.subtreeFlags)&&null!==b)b.return=o,$o=b;else e:for(o=k;null!==$o;){if(0!==(2048&(s=$o).flags))try{switch(s.tag){case 0:case 11:case 15:rs(9,s)}}catch(E){Ac(s,s.return,E)}if(s===o){$o=null;break e}var w=s.sibling;if(null!==w){w.return=s.return,$o=w;break e}$o=s.return}}if(Ss=i,zi(),ut&&"function"===typeof ut.onPostCommitFiberRoot)try{ut.onPostCommitFiberRoot(it,e)}catch(E){}r=!0}return r}finally{kt=n,Is.transition=t}}return!1}function xc(e,t,n){e=Pu(e,t=po(0,t=co(n,t),1),1),t=ec(),null!==e&&(yt(e,1,t),rc(e,t))}function Ac(e,t,n){if(3===e.tag)xc(e,e,n);else for(;null!==t;){if(3===t.tag){xc(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Hs||!Hs.has(r))){t=Pu(t,e=vo(t,e=co(n,e),1),1),e=ec(),null!==t&&(yt(t,1,e),rc(t,e));break}}t=t.return}}function _c(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=ec(),e.pingedLanes|=e.suspendedLanes&n,Ts===e&&(Ns&n)===n&&(4===Ps||3===Ps&&(130023424&Ns)===Ns&&500>Xe()-Vs?hc(e,0):js|=n),rc(e,t)}function Cc(e,t){0===t&&(0===(1&e.mode)?t=1:(t=lt,0===(130023424&(lt<<=1))&&(lt=4194304)));var n=ec();null!==(e=Tu(e,t))&&(yt(e,t,n),rc(e,n))}function Ic(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Cc(e,n)}function Sc(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(u(314))}null!==r&&r.delete(t),Cc(e,n)}function Tc(e,t){return We(e,t)}function Dc(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Nc(e,t,n,r){return new Dc(e,t,n,r)}function Fc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Rc(e,t){var n=e.alternate;return null===n?((n=Nc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Pc(e,t,n,r,i,a){var o=2;if(r=e,"function"===typeof e)Fc(e)&&(o=1);else if("string"===typeof e)o=5;else e:switch(e){case x:return Oc(n.children,i,a,t);case A:o=8,i|=8;break;case _:return(e=Nc(12,n,t,2|i)).elementType=_,e.lanes=a,e;case T:return(e=Nc(13,n,t,i)).elementType=T,e.lanes=a,e;case D:return(e=Nc(19,n,t,i)).elementType=D,e.lanes=a,e;case R:return Bc(n,i,a,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case C:o=10;break e;case I:o=9;break e;case S:o=11;break e;case N:o=14;break e;case F:o=16,r=null;break e}throw Error(u(130,null==e?e:typeof e,""))}return(t=Nc(o,n,t,i)).elementType=e,t.type=r,t.lanes=a,t}function Oc(e,t,n,r){return(e=Nc(7,e,r,t)).lanes=n,e}function Bc(e,t,n,r){return(e=Nc(22,e,r,t)).elementType=R,e.lanes=n,e.stateNode={isHidden:!1},e}function Lc(e,t,n){return(e=Nc(6,e,null,t)).lanes=n,e}function jc(e,t,n){return(t=Nc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Mc(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=mt(0),this.expirationTimes=mt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Uc(e,t,n,r,i,u,a,o,s){return e=new Mc(e,t,n,o,s),1===t?(t=1,!0===u&&(t|=8)):t=0,u=Nc(3,null,null,t),e.current=u,u.stateNode=e,u.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Nu(u),e}function Vc(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:E,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function zc(e){if(!e)return Ii;e:{if(ze(e=e._reactInternals)!==e||1!==e.tag)throw Error(u(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Fi(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(u(171))}if(1===e.tag){var n=e.type;if(Fi(n))return Oi(e,n,t)}return t}function qc(e,t,n,r,i,u,a,o,s){return(e=Uc(n,r,!0,e,0,u,0,o,s)).context=zc(null),n=e.current,(u=Ru(r=ec(),i=tc(n))).callback=void 0!==t&&null!==t?t:null,Pu(n,u,i),e.current.lanes=i,yt(e,i,r),rc(e,r),e}function Gc(e,t,n,r){var i=t.current,u=ec(),a=tc(i);return n=zc(n),null===t.context?t.context=n:t.pendingContext=n,(t=Ru(u,a)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Pu(i,t,a))&&(nc(e,i,a,u),Ou(e,i,a)),a}function Kc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Hc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Wc(e,t){Hc(e,t),(e=e.alternate)&&Hc(e,t)}xs=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ti.current)bo=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return bo=!1,function(e,t,n){switch(t.tag){case 3:Do(t),du();break;case 5:ua(t);break;case 1:Fi(t.type)&&Bi(t);break;case 4:ra(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Ci(yu,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Ci(oa,1&oa.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Lo(e,t,n):(Ci(oa,1&oa.current),null!==(e=Go(e,t,n))?e.sibling:null);Ci(oa,1&oa.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return zo(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ci(oa,oa.current),r)break;return null;case 22:case 23:return t.lanes=0,_o(e,t,n)}return Go(e,t,n)}(e,t,n);bo=0!==(131072&e.flags)}else bo=!1,iu&&0!==(1048576&t.flags)&&Zi(t,Hi,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;qo(e,t),e=t.pendingProps;var i=Ni(t,Si.current);Au(t,n),i=xa(null,t,r,e,i,n);var a=Aa();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Fi(r)?(a=!0,Bi(t)):a=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Nu(t),i.updater=Vu,t.stateNode=i,i._reactInternals=t,Ku(t,r,e,n),t=To(null,t,r,!0,a,n)):(t.tag=0,iu&&a&&eu(t),wo(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(qo(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Fc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===S)return 11;if(e===N)return 14}return 2}(r),e=mu(r,e),i){case 0:t=Io(null,t,r,e,n);break e;case 1:t=So(null,t,r,e,n);break e;case 11:t=Eo(null,t,r,e,n);break e;case 14:t=xo(null,t,r,mu(r.type,e),n);break e}throw Error(u(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Io(e,t,r,i=t.elementType===r?i:mu(r,i),n);case 1:return r=t.type,i=t.pendingProps,So(e,t,r,i=t.elementType===r?i:mu(r,i),n);case 3:e:{if(Do(t),null===e)throw Error(u(387));r=t.pendingProps,i=(a=t.memoizedState).element,Fu(e,t),Lu(t,r,null,n);var o=t.memoizedState;if(r=o.element,a.isDehydrated){if(a={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=a,t.memoizedState=a,256&t.flags){t=No(e,t,r,n,i=co(Error(u(423)),t));break e}if(r!==i){t=No(e,t,r,n,i=co(Error(u(424)),t));break e}for(ru=ci(t.stateNode.containerInfo.firstChild),nu=t,iu=!0,uu=null,n=Xu(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(du(),r===i){t=Go(e,t,n);break e}wo(e,t,r,n)}t=t.child}return t;case 5:return ua(t),null===e&&cu(t),r=t.type,i=t.pendingProps,a=null!==e?e.memoizedProps:null,o=i.children,ni(r,i)?o=null:null!==a&&ni(r,a)&&(t.flags|=32),Co(e,t),wo(e,t,o,n),t.child;case 6:return null===e&&cu(t),null;case 13:return Lo(e,t,n);case 4:return ra(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Yu(t,null,r,n):wo(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,Eo(e,t,r,i=t.elementType===r?i:mu(r,i),n);case 7:return wo(e,t,t.pendingProps,n),t.child;case 8:case 12:return wo(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,a=t.memoizedProps,o=i.value,Ci(yu,r._currentValue),r._currentValue=o,null!==a)if(or(a.value,o)){if(a.children===i.children&&!Ti.current){t=Go(e,t,n);break e}}else for(null!==(a=t.child)&&(a.return=t);null!==a;){var s=a.dependencies;if(null!==s){o=a.child;for(var c=s.firstContext;null!==c;){if(c.context===r){if(1===a.tag){(c=Ru(-1,n&-n)).tag=2;var l=a.updateQueue;if(null!==l){var f=(l=l.shared).pending;null===f?c.next=c:(c.next=f.next,f.next=c),l.pending=c}}a.lanes|=n,null!==(c=a.alternate)&&(c.lanes|=n),xu(a.return,n,t),s.lanes|=n;break}c=c.next}}else if(10===a.tag)o=a.type===t.type?null:a.child;else if(18===a.tag){if(null===(o=a.return))throw Error(u(341));o.lanes|=n,null!==(s=o.alternate)&&(s.lanes|=n),xu(o,n,t),o=a.sibling}else o=a.child;if(null!==o)o.return=a;else for(o=a;null!==o;){if(o===t){o=null;break}if(null!==(a=o.sibling)){a.return=o.return,o=a;break}o=o.return}a=o}wo(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Au(t,n),r=r(i=_u(i)),t.flags|=1,wo(e,t,r,n),t.child;case 14:return i=mu(r=t.type,t.pendingProps),xo(e,t,r,i=mu(r.type,i),n);case 15:return Ao(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:mu(r,i),qo(e,t),t.tag=1,Fi(r)?(e=!0,Bi(t)):e=!1,Au(t,n),qu(t,r,i),Ku(t,r,i,n),To(null,t,r,!0,e,n);case 19:return zo(e,t,n);case 22:return _o(e,t,n)}throw Error(u(156,t.tag))};var Qc="function"===typeof reportError?reportError:function(e){console.error(e)};function Jc(e){this._internalRoot=e}function Yc(e){this._internalRoot=e}function Xc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function $c(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Zc(){}function el(e,t,n,r,i){var u=n._reactRootContainer;if(u){var a=u;if("function"===typeof i){var o=i;i=function(){var e=Kc(a);o.call(e)}}Gc(t,a,e,i)}else a=function(e,t,n,r,i){if(i){if("function"===typeof r){var u=r;r=function(){var e=Kc(a);u.call(e)}}var a=qc(t,r,e,0,null,!1,0,"",Zc);return e._reactRootContainer=a,e[pi]=a.current,zr(8===e.nodeType?e.parentNode:e),lc(),a}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var o=r;r=function(){var e=Kc(s);o.call(e)}}var s=Uc(e,0,!1,null,0,!1,0,"",Zc);return e._reactRootContainer=s,e[pi]=s.current,zr(8===e.nodeType?e.parentNode:e),lc((function(){Gc(t,s,n,r)})),s}(n,t,e,i,r);return Kc(a)}Yc.prototype.render=Jc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(u(409));Gc(e,t,null,null)},Yc.prototype.unmount=Jc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;lc((function(){Gc(null,e,null,null)})),t[pi]=null}},Yc.prototype.unstable_scheduleHydration=function(e){if(e){var t=At();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Rt.length&&0!==t&&t<Rt[n].priority;n++);Rt.splice(n,0,e),0===n&&Lt(e)}},wt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ft(t.pendingLanes);0!==n&&(gt(t,1|n),rc(t,Xe()),0===(6&Ss)&&(zs=Xe()+500,zi()))}break;case 13:lc((function(){var t=Tu(e,1);if(null!==t){var n=ec();nc(t,e,1,n)}})),Wc(e,1)}},Et=function(e){if(13===e.tag){var t=Tu(e,134217728);if(null!==t)nc(t,e,134217728,ec());Wc(e,134217728)}},xt=function(e){if(13===e.tag){var t=tc(e),n=Tu(e,t);if(null!==n)nc(n,e,t,ec());Wc(e,t)}},At=function(){return kt},_t=function(e,t){var n=kt;try{return kt=e,t()}finally{kt=n}},Ee=function(e,t,n){switch(t){case"input":if($(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=wi(r);if(!i)throw Error(u(90));W(r),$(r,i)}}}break;case"textarea":ue(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Se=cc,Te=lc;var tl={usingClientEntryPoint:!1,Events:[ki,bi,wi,Ce,Ie,cc]},nl={findFiberByHostInstance:gi,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},rl={bundleType:nl.bundleType,version:nl.version,rendererPackageName:nl.rendererPackageName,rendererConfig:nl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:b.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ke(e))?null:e.stateNode},findFiberByHostInstance:nl.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var il=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!il.isDisabled&&il.supportsFiber)try{it=il.inject(rl),ut=il}catch(le){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tl,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Xc(t))throw Error(u(200));return Vc(e,t,null,n)},t.createRoot=function(e,t){if(!Xc(e))throw Error(u(299));var n=!1,r="",i=Qc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=Uc(e,1,!1,null,0,n,0,r,i),e[pi]=t.current,zr(8===e.nodeType?e.parentNode:e),new Jc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(u(188));throw e=Object.keys(e).join(","),Error(u(268,e))}return e=null===(e=Ke(t))?null:e.stateNode},t.flushSync=function(e){return lc(e)},t.hydrate=function(e,t,n){if(!$c(t))throw Error(u(200));return el(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Xc(e))throw Error(u(405));var r=null!=n&&n.hydratedSources||null,i=!1,a="",o=Qc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(a=n.identifierPrefix),void 0!==n.onRecoverableError&&(o=n.onRecoverableError)),t=qc(t,null,e,1,null!=n?n:null,i,0,a,o),e[pi]=t.current,zr(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Yc(t)},t.render=function(e,t,n){if(!$c(t))throw Error(u(200));return el(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!$c(e))throw Error(u(40));return!!e._reactRootContainer&&(lc((function(){el(null,null,e,!1,(function(){e._reactRootContainer=null,e[pi]=null}))})),!0)},t.unstable_batchedUpdates=cc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!$c(n))throw Error(u(200));if(null==e||void 0===e._reactInternals)throw Error(u(38));return el(e,t,n,!1,r)},t.version="18.2.0-next-9e3b772b8-20220608"},250:function(e,t,n){"use strict";var r=n(164);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},164:function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(463)},751:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.withBaseIcon=t.Icon=void 0;var r=a(n(791)),i=a(n(7)),u=a(n(329));function a(e){return e&&e.__esModule?e:{default:e}}function o(){return o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o.apply(this,arguments)}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){c(e,t,n[t])}))}return e}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},u=Object.keys(e);for(r=0;r<u.length;r++)n=u[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(e);for(r=0;r<u.length;r++)n=u[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var f=function(e){var t=e.style,n=e.className,i=(e.icon,e.size,e.tag),a=l(e,["style","className","icon","size","tag"]),c=i;return r.default.createElement(c,o({},a,{style:s({display:"inline-block"},t),className:n}),r.default.createElement(u.default,{size:e.size,icon:e.icon,title:e.title}))};t.Icon=f;t.withBaseIcon=function(e){return function(t){var n=s({},e);return r.default.createElement(f,o({},n,t))}},f.defaultProps={size:16,fill:"currentColor",tag:"i"},f.propTypes={icon:i.default.object.isRequired,size:i.default.oneOfType([i.default.number,i.default.string]),style:i.default.object,tag:i.default.oneOf(["i","span","div"]),className:i.default.string};var h=f;t.default=h},329:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.SvgIcon=void 0;var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(791)),i=a(n(7)),u=a(n(384));function a(e){return e&&e.__esModule?e:{default:e}}function o(){return o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o.apply(this,arguments)}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,i=!1,u=void 0;try{for(var a,o=e[Symbol.iterator]();!(r=(a=o.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(s){i=!0,u=s}finally{try{r||null==o.return||o.return()}finally{if(i)throw u}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function l(e){return null!==e&&void 0!==e}var f=function e(t){return t.map((function(t,n){var i=t.name,a=t.attribs,o=t.children,f=void 0===o?null:o,h=Object.keys(a).filter((function(e){return"fill"!==e&&"stroke"!==e&&"none"!==a[e]})).reduce((function(e,t){return"style"===t?e.style=function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"").split(";").reduce((function(e,t){var n=c(t.split(":"),2),r=n[0],i=n[1];return l(r)&&l(i)&&(e[(0,u.default)(r)]=i),e}),{})}(a[t]):e[(0,u.default)(t)]=a[t],e}),{}),d={};return"none"===a.fill&&a.stroke?d={fill:"none",stroke:"currentColor"}:"none"===a.fill&&(d={fill:"none"}),(0,r.createElement)(i,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){s(e,t,n[t])}))}return e}({key:n},h,d),null===f?f:e(f))}))},h=function(e){var t=e.size,n=e.icon,i=n.children,a=n.viewBox,s=n.attribs,c=void 0===s?{}:s,l=Object.keys(c).reduce((function(e,t){return e[(0,u.default)(t)]=c[t],e}),{});return r.default.createElement("svg",o({fill:"currentColor",style:{display:"inline-block",verticalAlign:"middle"},height:t,width:t,viewBox:a},l),e.title?r.default.createElement("title",null,e.title):null,f(i))};t.SvgIcon=h,h.defaultProps={size:16},h.propTypes={icon:i.default.object.isRequired,size:i.default.oneOfType([i.default.number,i.default.string]),title:i.default.string};var d=h;t.default=d},299:function(e,t){"use strict";t.h=void 0;t.h={viewBox:"0 0 24 24",children:[{name:"line",attribs:{x1:"5",y1:"12",x2:"19",y2:"12"},children:[]}],attribs:{fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"}}},99:function(e,t){"use strict";t.P=void 0;t.P={viewBox:"0 0 24 24",children:[{name:"line",attribs:{x1:"12",y1:"5",x2:"12",y2:"19"},children:[]},{name:"line",attribs:{x1:"5",y1:"12",x2:"19",y2:"12"},children:[]}],attribs:{fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"}}},14:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.horizontalCenter=void 0;var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(791));function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var u=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.rAlign,u=void 0!==n&&n,a=t.space,o=void 0===a?4:a;return function(t){return r.default.createElement(e,t,r.default.createElement("div",{style:{display:"inline-flex",justifyContent:"center",alignItems:"center"}},r.Children.toArray(t.children).map((function(e,t){var n=u?"paddingLeft":"paddingRight";return r.default.createElement("div",{key:t,style:i({display:"inline-block"},n,o)},e)}))))}};t.horizontalCenter=u;var a=u;t.default=a},199:function(e,t,n){"use strict";Object.defineProperty(t,"JO",{enumerable:!0,get:function(){return r.Icon}});var r=n(751),i=n(14);r.Icon},384:function(e,t,n){var r=n(59),i=n(801);e.exports=function(e,t,n){var u=i(e,t);return n||(u=u.replace(/ (?=\d)/g,"_")),u.replace(/ (.)/g,(function(e,n){return r(n,t)}))}},818:function(e){var t={tr:{regexp:/\u0130|\u0049|\u0049\u0307/g,map:{"\u0130":"i",I:"\u0131","I\u0307":"i"}},az:{regexp:/[\u0130]/g,map:{"\u0130":"i",I:"\u0131","I\u0307":"i"}},lt:{regexp:/[\u0049\u004A\u012E\u00CC\u00CD\u0128]/g,map:{I:"i\u0307",J:"j\u0307","\u012e":"\u012f\u0307","\xcc":"i\u0307\u0300","\xcd":"i\u0307\u0301","\u0128":"i\u0307\u0303"}}};e.exports=function(e,n){var r=t[n];return e=null==e?"":String(e),r&&(e=e.replace(r.regexp,(function(e){return r.map[e]}))),e.toLowerCase()}},801:function(e,t,n){var r=n(818),i=n(458),u=n(707),a=n(429);e.exports=function(e,t,n){if(null==e)return"";return n="string"!==typeof n?" ":n,e=String(e).replace(u,"$1 $2").replace(a,"$1 $2").replace(i,(function(e,t,r){return 0===t||t===r.length-e.length?"":n})),r(e,t)}},707:function(e){e.exports=/([a-z\xB5\xDF-\xF6\xF8-\xFF\u0101\u0103\u0105\u0107\u0109\u010B\u010D\u010F\u0111\u0113\u0115\u0117\u0119\u011B\u011D\u011F\u0121\u0123\u0125\u0127\u0129\u012B\u012D\u012F\u0131\u0133\u0135\u0137\u0138\u013A\u013C\u013E\u0140\u0142\u0144\u0146\u0148\u0149\u014B\u014D\u014F\u0151\u0153\u0155\u0157\u0159\u015B\u015D\u015F\u0161\u0163\u0165\u0167\u0169\u016B\u016D\u016F\u0171\u0173\u0175\u0177\u017A\u017C\u017E-\u0180\u0183\u0185\u0188\u018C\u018D\u0192\u0195\u0199-\u019B\u019E\u01A1\u01A3\u01A5\u01A8\u01AA\u01AB\u01AD\u01B0\u01B4\u01B6\u01B9\u01BA\u01BD-\u01BF\u01C6\u01C9\u01CC\u01CE\u01D0\u01D2\u01D4\u01D6\u01D8\u01DA\u01DC\u01DD\u01DF\u01E1\u01E3\u01E5\u01E7\u01E9\u01EB\u01ED\u01EF\u01F0\u01F3\u01F5\u01F9\u01FB\u01FD\u01FF\u0201\u0203\u0205\u0207\u0209\u020B\u020D\u020F\u0211\u0213\u0215\u0217\u0219\u021B\u021D\u021F\u0221\u0223\u0225\u0227\u0229\u022B\u022D\u022F\u0231\u0233-\u0239\u023C\u023F\u0240\u0242\u0247\u0249\u024B\u024D\u024F-\u0293\u0295-\u02AF\u0371\u0373\u0377\u037B-\u037D\u0390\u03AC-\u03CE\u03D0\u03D1\u03D5-\u03D7\u03D9\u03DB\u03DD\u03DF\u03E1\u03E3\u03E5\u03E7\u03E9\u03EB\u03ED\u03EF-\u03F3\u03F5\u03F8\u03FB\u03FC\u0430-\u045F\u0461\u0463\u0465\u0467\u0469\u046B\u046D\u046F\u0471\u0473\u0475\u0477\u0479\u047B\u047D\u047F\u0481\u048B\u048D\u048F\u0491\u0493\u0495\u0497\u0499\u049B\u049D\u049F\u04A1\u04A3\u04A5\u04A7\u04A9\u04AB\u04AD\u04AF\u04B1\u04B3\u04B5\u04B7\u04B9\u04BB\u04BD\u04BF\u04C2\u04C4\u04C6\u04C8\u04CA\u04CC\u04CE\u04CF\u04D1\u04D3\u04D5\u04D7\u04D9\u04DB\u04DD\u04DF\u04E1\u04E3\u04E5\u04E7\u04E9\u04EB\u04ED\u04EF\u04F1\u04F3\u04F5\u04F7\u04F9\u04FB\u04FD\u04FF\u0501\u0503\u0505\u0507\u0509\u050B\u050D\u050F\u0511\u0513\u0515\u0517\u0519\u051B\u051D\u051F\u0521\u0523\u0525\u0527\u0529\u052B\u052D\u052F\u0561-\u0587\u13F8-\u13FD\u1D00-\u1D2B\u1D6B-\u1D77\u1D79-\u1D9A\u1E01\u1E03\u1E05\u1E07\u1E09\u1E0B\u1E0D\u1E0F\u1E11\u1E13\u1E15\u1E17\u1E19\u1E1B\u1E1D\u1E1F\u1E21\u1E23\u1E25\u1E27\u1E29\u1E2B\u1E2D\u1E2F\u1E31\u1E33\u1E35\u1E37\u1E39\u1E3B\u1E3D\u1E3F\u1E41\u1E43\u1E45\u1E47\u1E49\u1E4B\u1E4D\u1E4F\u1E51\u1E53\u1E55\u1E57\u1E59\u1E5B\u1E5D\u1E5F\u1E61\u1E63\u1E65\u1E67\u1E69\u1E6B\u1E6D\u1E6F\u1E71\u1E73\u1E75\u1E77\u1E79\u1E7B\u1E7D\u1E7F\u1E81\u1E83\u1E85\u1E87\u1E89\u1E8B\u1E8D\u1E8F\u1E91\u1E93\u1E95-\u1E9D\u1E9F\u1EA1\u1EA3\u1EA5\u1EA7\u1EA9\u1EAB\u1EAD\u1EAF\u1EB1\u1EB3\u1EB5\u1EB7\u1EB9\u1EBB\u1EBD\u1EBF\u1EC1\u1EC3\u1EC5\u1EC7\u1EC9\u1ECB\u1ECD\u1ECF\u1ED1\u1ED3\u1ED5\u1ED7\u1ED9\u1EDB\u1EDD\u1EDF\u1EE1\u1EE3\u1EE5\u1EE7\u1EE9\u1EEB\u1EED\u1EEF\u1EF1\u1EF3\u1EF5\u1EF7\u1EF9\u1EFB\u1EFD\u1EFF-\u1F07\u1F10-\u1F15\u1F20-\u1F27\u1F30-\u1F37\u1F40-\u1F45\u1F50-\u1F57\u1F60-\u1F67\u1F70-\u1F7D\u1F80-\u1F87\u1F90-\u1F97\u1FA0-\u1FA7\u1FB0-\u1FB4\u1FB6\u1FB7\u1FBE\u1FC2-\u1FC4\u1FC6\u1FC7\u1FD0-\u1FD3\u1FD6\u1FD7\u1FE0-\u1FE7\u1FF2-\u1FF4\u1FF6\u1FF7\u210A\u210E\u210F\u2113\u212F\u2134\u2139\u213C\u213D\u2146-\u2149\u214E\u2184\u2C30-\u2C5E\u2C61\u2C65\u2C66\u2C68\u2C6A\u2C6C\u2C71\u2C73\u2C74\u2C76-\u2C7B\u2C81\u2C83\u2C85\u2C87\u2C89\u2C8B\u2C8D\u2C8F\u2C91\u2C93\u2C95\u2C97\u2C99\u2C9B\u2C9D\u2C9F\u2CA1\u2CA3\u2CA5\u2CA7\u2CA9\u2CAB\u2CAD\u2CAF\u2CB1\u2CB3\u2CB5\u2CB7\u2CB9\u2CBB\u2CBD\u2CBF\u2CC1\u2CC3\u2CC5\u2CC7\u2CC9\u2CCB\u2CCD\u2CCF\u2CD1\u2CD3\u2CD5\u2CD7\u2CD9\u2CDB\u2CDD\u2CDF\u2CE1\u2CE3\u2CE4\u2CEC\u2CEE\u2CF3\u2D00-\u2D25\u2D27\u2D2D\uA641\uA643\uA645\uA647\uA649\uA64B\uA64D\uA64F\uA651\uA653\uA655\uA657\uA659\uA65B\uA65D\uA65F\uA661\uA663\uA665\uA667\uA669\uA66B\uA66D\uA681\uA683\uA685\uA687\uA689\uA68B\uA68D\uA68F\uA691\uA693\uA695\uA697\uA699\uA69B\uA723\uA725\uA727\uA729\uA72B\uA72D\uA72F-\uA731\uA733\uA735\uA737\uA739\uA73B\uA73D\uA73F\uA741\uA743\uA745\uA747\uA749\uA74B\uA74D\uA74F\uA751\uA753\uA755\uA757\uA759\uA75B\uA75D\uA75F\uA761\uA763\uA765\uA767\uA769\uA76B\uA76D\uA76F\uA771-\uA778\uA77A\uA77C\uA77F\uA781\uA783\uA785\uA787\uA78C\uA78E\uA791\uA793-\uA795\uA797\uA799\uA79B\uA79D\uA79F\uA7A1\uA7A3\uA7A5\uA7A7\uA7A9\uA7B5\uA7B7\uA7FA\uAB30-\uAB5A\uAB60-\uAB65\uAB70-\uABBF\uFB00-\uFB06\uFB13-\uFB17\uFF41-\uFF5A0-9\xB2\xB3\xB9\xBC-\xBE\u0660-\u0669\u06F0-\u06F9\u07C0-\u07C9\u0966-\u096F\u09E6-\u09EF\u09F4-\u09F9\u0A66-\u0A6F\u0AE6-\u0AEF\u0B66-\u0B6F\u0B72-\u0B77\u0BE6-\u0BF2\u0C66-\u0C6F\u0C78-\u0C7E\u0CE6-\u0CEF\u0D66-\u0D75\u0DE6-\u0DEF\u0E50-\u0E59\u0ED0-\u0ED9\u0F20-\u0F33\u1040-\u1049\u1090-\u1099\u1369-\u137C\u16EE-\u16F0\u17E0-\u17E9\u17F0-\u17F9\u1810-\u1819\u1946-\u194F\u19D0-\u19DA\u1A80-\u1A89\u1A90-\u1A99\u1B50-\u1B59\u1BB0-\u1BB9\u1C40-\u1C49\u1C50-\u1C59\u2070\u2074-\u2079\u2080-\u2089\u2150-\u2182\u2185-\u2189\u2460-\u249B\u24EA-\u24FF\u2776-\u2793\u2CFD\u3007\u3021-\u3029\u3038-\u303A\u3192-\u3195\u3220-\u3229\u3248-\u324F\u3251-\u325F\u3280-\u3289\u32B1-\u32BF\uA620-\uA629\uA6E6-\uA6EF\uA830-\uA835\uA8D0-\uA8D9\uA900-\uA909\uA9D0-\uA9D9\uA9F0-\uA9F9\uAA50-\uAA59\uABF0-\uABF9\uFF10-\uFF19])([A-Z\xC0-\xD6\xD8-\xDE\u0100\u0102\u0104\u0106\u0108\u010A\u010C\u010E\u0110\u0112\u0114\u0116\u0118\u011A\u011C\u011E\u0120\u0122\u0124\u0126\u0128\u012A\u012C\u012E\u0130\u0132\u0134\u0136\u0139\u013B\u013D\u013F\u0141\u0143\u0145\u0147\u014A\u014C\u014E\u0150\u0152\u0154\u0156\u0158\u015A\u015C\u015E\u0160\u0162\u0164\u0166\u0168\u016A\u016C\u016E\u0170\u0172\u0174\u0176\u0178\u0179\u017B\u017D\u0181\u0182\u0184\u0186\u0187\u0189-\u018B\u018E-\u0191\u0193\u0194\u0196-\u0198\u019C\u019D\u019F\u01A0\u01A2\u01A4\u01A6\u01A7\u01A9\u01AC\u01AE\u01AF\u01B1-\u01B3\u01B5\u01B7\u01B8\u01BC\u01C4\u01C7\u01CA\u01CD\u01CF\u01D1\u01D3\u01D5\u01D7\u01D9\u01DB\u01DE\u01E0\u01E2\u01E4\u01E6\u01E8\u01EA\u01EC\u01EE\u01F1\u01F4\u01F6-\u01F8\u01FA\u01FC\u01FE\u0200\u0202\u0204\u0206\u0208\u020A\u020C\u020E\u0210\u0212\u0214\u0216\u0218\u021A\u021C\u021E\u0220\u0222\u0224\u0226\u0228\u022A\u022C\u022E\u0230\u0232\u023A\u023B\u023D\u023E\u0241\u0243-\u0246\u0248\u024A\u024C\u024E\u0370\u0372\u0376\u037F\u0386\u0388-\u038A\u038C\u038E\u038F\u0391-\u03A1\u03A3-\u03AB\u03CF\u03D2-\u03D4\u03D8\u03DA\u03DC\u03DE\u03E0\u03E2\u03E4\u03E6\u03E8\u03EA\u03EC\u03EE\u03F4\u03F7\u03F9\u03FA\u03FD-\u042F\u0460\u0462\u0464\u0466\u0468\u046A\u046C\u046E\u0470\u0472\u0474\u0476\u0478\u047A\u047C\u047E\u0480\u048A\u048C\u048E\u0490\u0492\u0494\u0496\u0498\u049A\u049C\u049E\u04A0\u04A2\u04A4\u04A6\u04A8\u04AA\u04AC\u04AE\u04B0\u04B2\u04B4\u04B6\u04B8\u04BA\u04BC\u04BE\u04C0\u04C1\u04C3\u04C5\u04C7\u04C9\u04CB\u04CD\u04D0\u04D2\u04D4\u04D6\u04D8\u04DA\u04DC\u04DE\u04E0\u04E2\u04E4\u04E6\u04E8\u04EA\u04EC\u04EE\u04F0\u04F2\u04F4\u04F6\u04F8\u04FA\u04FC\u04FE\u0500\u0502\u0504\u0506\u0508\u050A\u050C\u050E\u0510\u0512\u0514\u0516\u0518\u051A\u051C\u051E\u0520\u0522\u0524\u0526\u0528\u052A\u052C\u052E\u0531-\u0556\u10A0-\u10C5\u10C7\u10CD\u13A0-\u13F5\u1E00\u1E02\u1E04\u1E06\u1E08\u1E0A\u1E0C\u1E0E\u1E10\u1E12\u1E14\u1E16\u1E18\u1E1A\u1E1C\u1E1E\u1E20\u1E22\u1E24\u1E26\u1E28\u1E2A\u1E2C\u1E2E\u1E30\u1E32\u1E34\u1E36\u1E38\u1E3A\u1E3C\u1E3E\u1E40\u1E42\u1E44\u1E46\u1E48\u1E4A\u1E4C\u1E4E\u1E50\u1E52\u1E54\u1E56\u1E58\u1E5A\u1E5C\u1E5E\u1E60\u1E62\u1E64\u1E66\u1E68\u1E6A\u1E6C\u1E6E\u1E70\u1E72\u1E74\u1E76\u1E78\u1E7A\u1E7C\u1E7E\u1E80\u1E82\u1E84\u1E86\u1E88\u1E8A\u1E8C\u1E8E\u1E90\u1E92\u1E94\u1E9E\u1EA0\u1EA2\u1EA4\u1EA6\u1EA8\u1EAA\u1EAC\u1EAE\u1EB0\u1EB2\u1EB4\u1EB6\u1EB8\u1EBA\u1EBC\u1EBE\u1EC0\u1EC2\u1EC4\u1EC6\u1EC8\u1ECA\u1ECC\u1ECE\u1ED0\u1ED2\u1ED4\u1ED6\u1ED8\u1EDA\u1EDC\u1EDE\u1EE0\u1EE2\u1EE4\u1EE6\u1EE8\u1EEA\u1EEC\u1EEE\u1EF0\u1EF2\u1EF4\u1EF6\u1EF8\u1EFA\u1EFC\u1EFE\u1F08-\u1F0F\u1F18-\u1F1D\u1F28-\u1F2F\u1F38-\u1F3F\u1F48-\u1F4D\u1F59\u1F5B\u1F5D\u1F5F\u1F68-\u1F6F\u1FB8-\u1FBB\u1FC8-\u1FCB\u1FD8-\u1FDB\u1FE8-\u1FEC\u1FF8-\u1FFB\u2102\u2107\u210B-\u210D\u2110-\u2112\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u2130-\u2133\u213E\u213F\u2145\u2183\u2C00-\u2C2E\u2C60\u2C62-\u2C64\u2C67\u2C69\u2C6B\u2C6D-\u2C70\u2C72\u2C75\u2C7E-\u2C80\u2C82\u2C84\u2C86\u2C88\u2C8A\u2C8C\u2C8E\u2C90\u2C92\u2C94\u2C96\u2C98\u2C9A\u2C9C\u2C9E\u2CA0\u2CA2\u2CA4\u2CA6\u2CA8\u2CAA\u2CAC\u2CAE\u2CB0\u2CB2\u2CB4\u2CB6\u2CB8\u2CBA\u2CBC\u2CBE\u2CC0\u2CC2\u2CC4\u2CC6\u2CC8\u2CCA\u2CCC\u2CCE\u2CD0\u2CD2\u2CD4\u2CD6\u2CD8\u2CDA\u2CDC\u2CDE\u2CE0\u2CE2\u2CEB\u2CED\u2CF2\uA640\uA642\uA644\uA646\uA648\uA64A\uA64C\uA64E\uA650\uA652\uA654\uA656\uA658\uA65A\uA65C\uA65E\uA660\uA662\uA664\uA666\uA668\uA66A\uA66C\uA680\uA682\uA684\uA686\uA688\uA68A\uA68C\uA68E\uA690\uA692\uA694\uA696\uA698\uA69A\uA722\uA724\uA726\uA728\uA72A\uA72C\uA72E\uA732\uA734\uA736\uA738\uA73A\uA73C\uA73E\uA740\uA742\uA744\uA746\uA748\uA74A\uA74C\uA74E\uA750\uA752\uA754\uA756\uA758\uA75A\uA75C\uA75E\uA760\uA762\uA764\uA766\uA768\uA76A\uA76C\uA76E\uA779\uA77B\uA77D\uA77E\uA780\uA782\uA784\uA786\uA78B\uA78D\uA790\uA792\uA796\uA798\uA79A\uA79C\uA79E\uA7A0\uA7A2\uA7A4\uA7A6\uA7A8\uA7AA-\uA7AD\uA7B0-\uA7B4\uA7B6\uFF21-\uFF3A])/g},429:function(e){e.exports=/([A-Z\xC0-\xD6\xD8-\xDE\u0100\u0102\u0104\u0106\u0108\u010A\u010C\u010E\u0110\u0112\u0114\u0116\u0118\u011A\u011C\u011E\u0120\u0122\u0124\u0126\u0128\u012A\u012C\u012E\u0130\u0132\u0134\u0136\u0139\u013B\u013D\u013F\u0141\u0143\u0145\u0147\u014A\u014C\u014E\u0150\u0152\u0154\u0156\u0158\u015A\u015C\u015E\u0160\u0162\u0164\u0166\u0168\u016A\u016C\u016E\u0170\u0172\u0174\u0176\u0178\u0179\u017B\u017D\u0181\u0182\u0184\u0186\u0187\u0189-\u018B\u018E-\u0191\u0193\u0194\u0196-\u0198\u019C\u019D\u019F\u01A0\u01A2\u01A4\u01A6\u01A7\u01A9\u01AC\u01AE\u01AF\u01B1-\u01B3\u01B5\u01B7\u01B8\u01BC\u01C4\u01C7\u01CA\u01CD\u01CF\u01D1\u01D3\u01D5\u01D7\u01D9\u01DB\u01DE\u01E0\u01E2\u01E4\u01E6\u01E8\u01EA\u01EC\u01EE\u01F1\u01F4\u01F6-\u01F8\u01FA\u01FC\u01FE\u0200\u0202\u0204\u0206\u0208\u020A\u020C\u020E\u0210\u0212\u0214\u0216\u0218\u021A\u021C\u021E\u0220\u0222\u0224\u0226\u0228\u022A\u022C\u022E\u0230\u0232\u023A\u023B\u023D\u023E\u0241\u0243-\u0246\u0248\u024A\u024C\u024E\u0370\u0372\u0376\u037F\u0386\u0388-\u038A\u038C\u038E\u038F\u0391-\u03A1\u03A3-\u03AB\u03CF\u03D2-\u03D4\u03D8\u03DA\u03DC\u03DE\u03E0\u03E2\u03E4\u03E6\u03E8\u03EA\u03EC\u03EE\u03F4\u03F7\u03F9\u03FA\u03FD-\u042F\u0460\u0462\u0464\u0466\u0468\u046A\u046C\u046E\u0470\u0472\u0474\u0476\u0478\u047A\u047C\u047E\u0480\u048A\u048C\u048E\u0490\u0492\u0494\u0496\u0498\u049A\u049C\u049E\u04A0\u04A2\u04A4\u04A6\u04A8\u04AA\u04AC\u04AE\u04B0\u04B2\u04B4\u04B6\u04B8\u04BA\u04BC\u04BE\u04C0\u04C1\u04C3\u04C5\u04C7\u04C9\u04CB\u04CD\u04D0\u04D2\u04D4\u04D6\u04D8\u04DA\u04DC\u04DE\u04E0\u04E2\u04E4\u04E6\u04E8\u04EA\u04EC\u04EE\u04F0\u04F2\u04F4\u04F6\u04F8\u04FA\u04FC\u04FE\u0500\u0502\u0504\u0506\u0508\u050A\u050C\u050E\u0510\u0512\u0514\u0516\u0518\u051A\u051C\u051E\u0520\u0522\u0524\u0526\u0528\u052A\u052C\u052E\u0531-\u0556\u10A0-\u10C5\u10C7\u10CD\u13A0-\u13F5\u1E00\u1E02\u1E04\u1E06\u1E08\u1E0A\u1E0C\u1E0E\u1E10\u1E12\u1E14\u1E16\u1E18\u1E1A\u1E1C\u1E1E\u1E20\u1E22\u1E24\u1E26\u1E28\u1E2A\u1E2C\u1E2E\u1E30\u1E32\u1E34\u1E36\u1E38\u1E3A\u1E3C\u1E3E\u1E40\u1E42\u1E44\u1E46\u1E48\u1E4A\u1E4C\u1E4E\u1E50\u1E52\u1E54\u1E56\u1E58\u1E5A\u1E5C\u1E5E\u1E60\u1E62\u1E64\u1E66\u1E68\u1E6A\u1E6C\u1E6E\u1E70\u1E72\u1E74\u1E76\u1E78\u1E7A\u1E7C\u1E7E\u1E80\u1E82\u1E84\u1E86\u1E88\u1E8A\u1E8C\u1E8E\u1E90\u1E92\u1E94\u1E9E\u1EA0\u1EA2\u1EA4\u1EA6\u1EA8\u1EAA\u1EAC\u1EAE\u1EB0\u1EB2\u1EB4\u1EB6\u1EB8\u1EBA\u1EBC\u1EBE\u1EC0\u1EC2\u1EC4\u1EC6\u1EC8\u1ECA\u1ECC\u1ECE\u1ED0\u1ED2\u1ED4\u1ED6\u1ED8\u1EDA\u1EDC\u1EDE\u1EE0\u1EE2\u1EE4\u1EE6\u1EE8\u1EEA\u1EEC\u1EEE\u1EF0\u1EF2\u1EF4\u1EF6\u1EF8\u1EFA\u1EFC\u1EFE\u1F08-\u1F0F\u1F18-\u1F1D\u1F28-\u1F2F\u1F38-\u1F3F\u1F48-\u1F4D\u1F59\u1F5B\u1F5D\u1F5F\u1F68-\u1F6F\u1FB8-\u1FBB\u1FC8-\u1FCB\u1FD8-\u1FDB\u1FE8-\u1FEC\u1FF8-\u1FFB\u2102\u2107\u210B-\u210D\u2110-\u2112\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u2130-\u2133\u213E\u213F\u2145\u2183\u2C00-\u2C2E\u2C60\u2C62-\u2C64\u2C67\u2C69\u2C6B\u2C6D-\u2C70\u2C72\u2C75\u2C7E-\u2C80\u2C82\u2C84\u2C86\u2C88\u2C8A\u2C8C\u2C8E\u2C90\u2C92\u2C94\u2C96\u2C98\u2C9A\u2C9C\u2C9E\u2CA0\u2CA2\u2CA4\u2CA6\u2CA8\u2CAA\u2CAC\u2CAE\u2CB0\u2CB2\u2CB4\u2CB6\u2CB8\u2CBA\u2CBC\u2CBE\u2CC0\u2CC2\u2CC4\u2CC6\u2CC8\u2CCA\u2CCC\u2CCE\u2CD0\u2CD2\u2CD4\u2CD6\u2CD8\u2CDA\u2CDC\u2CDE\u2CE0\u2CE2\u2CEB\u2CED\u2CF2\uA640\uA642\uA644\uA646\uA648\uA64A\uA64C\uA64E\uA650\uA652\uA654\uA656\uA658\uA65A\uA65C\uA65E\uA660\uA662\uA664\uA666\uA668\uA66A\uA66C\uA680\uA682\uA684\uA686\uA688\uA68A\uA68C\uA68E\uA690\uA692\uA694\uA696\uA698\uA69A\uA722\uA724\uA726\uA728\uA72A\uA72C\uA72E\uA732\uA734\uA736\uA738\uA73A\uA73C\uA73E\uA740\uA742\uA744\uA746\uA748\uA74A\uA74C\uA74E\uA750\uA752\uA754\uA756\uA758\uA75A\uA75C\uA75E\uA760\uA762\uA764\uA766\uA768\uA76A\uA76C\uA76E\uA779\uA77B\uA77D\uA77E\uA780\uA782\uA784\uA786\uA78B\uA78D\uA790\uA792\uA796\uA798\uA79A\uA79C\uA79E\uA7A0\uA7A2\uA7A4\uA7A6\uA7A8\uA7AA-\uA7AD\uA7B0-\uA7B4\uA7B6\uFF21-\uFF3A])([A-Z\xC0-\xD6\xD8-\xDE\u0100\u0102\u0104\u0106\u0108\u010A\u010C\u010E\u0110\u0112\u0114\u0116\u0118\u011A\u011C\u011E\u0120\u0122\u0124\u0126\u0128\u012A\u012C\u012E\u0130\u0132\u0134\u0136\u0139\u013B\u013D\u013F\u0141\u0143\u0145\u0147\u014A\u014C\u014E\u0150\u0152\u0154\u0156\u0158\u015A\u015C\u015E\u0160\u0162\u0164\u0166\u0168\u016A\u016C\u016E\u0170\u0172\u0174\u0176\u0178\u0179\u017B\u017D\u0181\u0182\u0184\u0186\u0187\u0189-\u018B\u018E-\u0191\u0193\u0194\u0196-\u0198\u019C\u019D\u019F\u01A0\u01A2\u01A4\u01A6\u01A7\u01A9\u01AC\u01AE\u01AF\u01B1-\u01B3\u01B5\u01B7\u01B8\u01BC\u01C4\u01C7\u01CA\u01CD\u01CF\u01D1\u01D3\u01D5\u01D7\u01D9\u01DB\u01DE\u01E0\u01E2\u01E4\u01E6\u01E8\u01EA\u01EC\u01EE\u01F1\u01F4\u01F6-\u01F8\u01FA\u01FC\u01FE\u0200\u0202\u0204\u0206\u0208\u020A\u020C\u020E\u0210\u0212\u0214\u0216\u0218\u021A\u021C\u021E\u0220\u0222\u0224\u0226\u0228\u022A\u022C\u022E\u0230\u0232\u023A\u023B\u023D\u023E\u0241\u0243-\u0246\u0248\u024A\u024C\u024E\u0370\u0372\u0376\u037F\u0386\u0388-\u038A\u038C\u038E\u038F\u0391-\u03A1\u03A3-\u03AB\u03CF\u03D2-\u03D4\u03D8\u03DA\u03DC\u03DE\u03E0\u03E2\u03E4\u03E6\u03E8\u03EA\u03EC\u03EE\u03F4\u03F7\u03F9\u03FA\u03FD-\u042F\u0460\u0462\u0464\u0466\u0468\u046A\u046C\u046E\u0470\u0472\u0474\u0476\u0478\u047A\u047C\u047E\u0480\u048A\u048C\u048E\u0490\u0492\u0494\u0496\u0498\u049A\u049C\u049E\u04A0\u04A2\u04A4\u04A6\u04A8\u04AA\u04AC\u04AE\u04B0\u04B2\u04B4\u04B6\u04B8\u04BA\u04BC\u04BE\u04C0\u04C1\u04C3\u04C5\u04C7\u04C9\u04CB\u04CD\u04D0\u04D2\u04D4\u04D6\u04D8\u04DA\u04DC\u04DE\u04E0\u04E2\u04E4\u04E6\u04E8\u04EA\u04EC\u04EE\u04F0\u04F2\u04F4\u04F6\u04F8\u04FA\u04FC\u04FE\u0500\u0502\u0504\u0506\u0508\u050A\u050C\u050E\u0510\u0512\u0514\u0516\u0518\u051A\u051C\u051E\u0520\u0522\u0524\u0526\u0528\u052A\u052C\u052E\u0531-\u0556\u10A0-\u10C5\u10C7\u10CD\u13A0-\u13F5\u1E00\u1E02\u1E04\u1E06\u1E08\u1E0A\u1E0C\u1E0E\u1E10\u1E12\u1E14\u1E16\u1E18\u1E1A\u1E1C\u1E1E\u1E20\u1E22\u1E24\u1E26\u1E28\u1E2A\u1E2C\u1E2E\u1E30\u1E32\u1E34\u1E36\u1E38\u1E3A\u1E3C\u1E3E\u1E40\u1E42\u1E44\u1E46\u1E48\u1E4A\u1E4C\u1E4E\u1E50\u1E52\u1E54\u1E56\u1E58\u1E5A\u1E5C\u1E5E\u1E60\u1E62\u1E64\u1E66\u1E68\u1E6A\u1E6C\u1E6E\u1E70\u1E72\u1E74\u1E76\u1E78\u1E7A\u1E7C\u1E7E\u1E80\u1E82\u1E84\u1E86\u1E88\u1E8A\u1E8C\u1E8E\u1E90\u1E92\u1E94\u1E9E\u1EA0\u1EA2\u1EA4\u1EA6\u1EA8\u1EAA\u1EAC\u1EAE\u1EB0\u1EB2\u1EB4\u1EB6\u1EB8\u1EBA\u1EBC\u1EBE\u1EC0\u1EC2\u1EC4\u1EC6\u1EC8\u1ECA\u1ECC\u1ECE\u1ED0\u1ED2\u1ED4\u1ED6\u1ED8\u1EDA\u1EDC\u1EDE\u1EE0\u1EE2\u1EE4\u1EE6\u1EE8\u1EEA\u1EEC\u1EEE\u1EF0\u1EF2\u1EF4\u1EF6\u1EF8\u1EFA\u1EFC\u1EFE\u1F08-\u1F0F\u1F18-\u1F1D\u1F28-\u1F2F\u1F38-\u1F3F\u1F48-\u1F4D\u1F59\u1F5B\u1F5D\u1F5F\u1F68-\u1F6F\u1FB8-\u1FBB\u1FC8-\u1FCB\u1FD8-\u1FDB\u1FE8-\u1FEC\u1FF8-\u1FFB\u2102\u2107\u210B-\u210D\u2110-\u2112\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u2130-\u2133\u213E\u213F\u2145\u2183\u2C00-\u2C2E\u2C60\u2C62-\u2C64\u2C67\u2C69\u2C6B\u2C6D-\u2C70\u2C72\u2C75\u2C7E-\u2C80\u2C82\u2C84\u2C86\u2C88\u2C8A\u2C8C\u2C8E\u2C90\u2C92\u2C94\u2C96\u2C98\u2C9A\u2C9C\u2C9E\u2CA0\u2CA2\u2CA4\u2CA6\u2CA8\u2CAA\u2CAC\u2CAE\u2CB0\u2CB2\u2CB4\u2CB6\u2CB8\u2CBA\u2CBC\u2CBE\u2CC0\u2CC2\u2CC4\u2CC6\u2CC8\u2CCA\u2CCC\u2CCE\u2CD0\u2CD2\u2CD4\u2CD6\u2CD8\u2CDA\u2CDC\u2CDE\u2CE0\u2CE2\u2CEB\u2CED\u2CF2\uA640\uA642\uA644\uA646\uA648\uA64A\uA64C\uA64E\uA650\uA652\uA654\uA656\uA658\uA65A\uA65C\uA65E\uA660\uA662\uA664\uA666\uA668\uA66A\uA66C\uA680\uA682\uA684\uA686\uA688\uA68A\uA68C\uA68E\uA690\uA692\uA694\uA696\uA698\uA69A\uA722\uA724\uA726\uA728\uA72A\uA72C\uA72E\uA732\uA734\uA736\uA738\uA73A\uA73C\uA73E\uA740\uA742\uA744\uA746\uA748\uA74A\uA74C\uA74E\uA750\uA752\uA754\uA756\uA758\uA75A\uA75C\uA75E\uA760\uA762\uA764\uA766\uA768\uA76A\uA76C\uA76E\uA779\uA77B\uA77D\uA77E\uA780\uA782\uA784\uA786\uA78B\uA78D\uA790\uA792\uA796\uA798\uA79A\uA79C\uA79E\uA7A0\uA7A2\uA7A4\uA7A6\uA7A8\uA7AA-\uA7AD\uA7B0-\uA7B4\uA7B6\uFF21-\uFF3A][a-z\xB5\xDF-\xF6\xF8-\xFF\u0101\u0103\u0105\u0107\u0109\u010B\u010D\u010F\u0111\u0113\u0115\u0117\u0119\u011B\u011D\u011F\u0121\u0123\u0125\u0127\u0129\u012B\u012D\u012F\u0131\u0133\u0135\u0137\u0138\u013A\u013C\u013E\u0140\u0142\u0144\u0146\u0148\u0149\u014B\u014D\u014F\u0151\u0153\u0155\u0157\u0159\u015B\u015D\u015F\u0161\u0163\u0165\u0167\u0169\u016B\u016D\u016F\u0171\u0173\u0175\u0177\u017A\u017C\u017E-\u0180\u0183\u0185\u0188\u018C\u018D\u0192\u0195\u0199-\u019B\u019E\u01A1\u01A3\u01A5\u01A8\u01AA\u01AB\u01AD\u01B0\u01B4\u01B6\u01B9\u01BA\u01BD-\u01BF\u01C6\u01C9\u01CC\u01CE\u01D0\u01D2\u01D4\u01D6\u01D8\u01DA\u01DC\u01DD\u01DF\u01E1\u01E3\u01E5\u01E7\u01E9\u01EB\u01ED\u01EF\u01F0\u01F3\u01F5\u01F9\u01FB\u01FD\u01FF\u0201\u0203\u0205\u0207\u0209\u020B\u020D\u020F\u0211\u0213\u0215\u0217\u0219\u021B\u021D\u021F\u0221\u0223\u0225\u0227\u0229\u022B\u022D\u022F\u0231\u0233-\u0239\u023C\u023F\u0240\u0242\u0247\u0249\u024B\u024D\u024F-\u0293\u0295-\u02AF\u0371\u0373\u0377\u037B-\u037D\u0390\u03AC-\u03CE\u03D0\u03D1\u03D5-\u03D7\u03D9\u03DB\u03DD\u03DF\u03E1\u03E3\u03E5\u03E7\u03E9\u03EB\u03ED\u03EF-\u03F3\u03F5\u03F8\u03FB\u03FC\u0430-\u045F\u0461\u0463\u0465\u0467\u0469\u046B\u046D\u046F\u0471\u0473\u0475\u0477\u0479\u047B\u047D\u047F\u0481\u048B\u048D\u048F\u0491\u0493\u0495\u0497\u0499\u049B\u049D\u049F\u04A1\u04A3\u04A5\u04A7\u04A9\u04AB\u04AD\u04AF\u04B1\u04B3\u04B5\u04B7\u04B9\u04BB\u04BD\u04BF\u04C2\u04C4\u04C6\u04C8\u04CA\u04CC\u04CE\u04CF\u04D1\u04D3\u04D5\u04D7\u04D9\u04DB\u04DD\u04DF\u04E1\u04E3\u04E5\u04E7\u04E9\u04EB\u04ED\u04EF\u04F1\u04F3\u04F5\u04F7\u04F9\u04FB\u04FD\u04FF\u0501\u0503\u0505\u0507\u0509\u050B\u050D\u050F\u0511\u0513\u0515\u0517\u0519\u051B\u051D\u051F\u0521\u0523\u0525\u0527\u0529\u052B\u052D\u052F\u0561-\u0587\u13F8-\u13FD\u1D00-\u1D2B\u1D6B-\u1D77\u1D79-\u1D9A\u1E01\u1E03\u1E05\u1E07\u1E09\u1E0B\u1E0D\u1E0F\u1E11\u1E13\u1E15\u1E17\u1E19\u1E1B\u1E1D\u1E1F\u1E21\u1E23\u1E25\u1E27\u1E29\u1E2B\u1E2D\u1E2F\u1E31\u1E33\u1E35\u1E37\u1E39\u1E3B\u1E3D\u1E3F\u1E41\u1E43\u1E45\u1E47\u1E49\u1E4B\u1E4D\u1E4F\u1E51\u1E53\u1E55\u1E57\u1E59\u1E5B\u1E5D\u1E5F\u1E61\u1E63\u1E65\u1E67\u1E69\u1E6B\u1E6D\u1E6F\u1E71\u1E73\u1E75\u1E77\u1E79\u1E7B\u1E7D\u1E7F\u1E81\u1E83\u1E85\u1E87\u1E89\u1E8B\u1E8D\u1E8F\u1E91\u1E93\u1E95-\u1E9D\u1E9F\u1EA1\u1EA3\u1EA5\u1EA7\u1EA9\u1EAB\u1EAD\u1EAF\u1EB1\u1EB3\u1EB5\u1EB7\u1EB9\u1EBB\u1EBD\u1EBF\u1EC1\u1EC3\u1EC5\u1EC7\u1EC9\u1ECB\u1ECD\u1ECF\u1ED1\u1ED3\u1ED5\u1ED7\u1ED9\u1EDB\u1EDD\u1EDF\u1EE1\u1EE3\u1EE5\u1EE7\u1EE9\u1EEB\u1EED\u1EEF\u1EF1\u1EF3\u1EF5\u1EF7\u1EF9\u1EFB\u1EFD\u1EFF-\u1F07\u1F10-\u1F15\u1F20-\u1F27\u1F30-\u1F37\u1F40-\u1F45\u1F50-\u1F57\u1F60-\u1F67\u1F70-\u1F7D\u1F80-\u1F87\u1F90-\u1F97\u1FA0-\u1FA7\u1FB0-\u1FB4\u1FB6\u1FB7\u1FBE\u1FC2-\u1FC4\u1FC6\u1FC7\u1FD0-\u1FD3\u1FD6\u1FD7\u1FE0-\u1FE7\u1FF2-\u1FF4\u1FF6\u1FF7\u210A\u210E\u210F\u2113\u212F\u2134\u2139\u213C\u213D\u2146-\u2149\u214E\u2184\u2C30-\u2C5E\u2C61\u2C65\u2C66\u2C68\u2C6A\u2C6C\u2C71\u2C73\u2C74\u2C76-\u2C7B\u2C81\u2C83\u2C85\u2C87\u2C89\u2C8B\u2C8D\u2C8F\u2C91\u2C93\u2C95\u2C97\u2C99\u2C9B\u2C9D\u2C9F\u2CA1\u2CA3\u2CA5\u2CA7\u2CA9\u2CAB\u2CAD\u2CAF\u2CB1\u2CB3\u2CB5\u2CB7\u2CB9\u2CBB\u2CBD\u2CBF\u2CC1\u2CC3\u2CC5\u2CC7\u2CC9\u2CCB\u2CCD\u2CCF\u2CD1\u2CD3\u2CD5\u2CD7\u2CD9\u2CDB\u2CDD\u2CDF\u2CE1\u2CE3\u2CE4\u2CEC\u2CEE\u2CF3\u2D00-\u2D25\u2D27\u2D2D\uA641\uA643\uA645\uA647\uA649\uA64B\uA64D\uA64F\uA651\uA653\uA655\uA657\uA659\uA65B\uA65D\uA65F\uA661\uA663\uA665\uA667\uA669\uA66B\uA66D\uA681\uA683\uA685\uA687\uA689\uA68B\uA68D\uA68F\uA691\uA693\uA695\uA697\uA699\uA69B\uA723\uA725\uA727\uA729\uA72B\uA72D\uA72F-\uA731\uA733\uA735\uA737\uA739\uA73B\uA73D\uA73F\uA741\uA743\uA745\uA747\uA749\uA74B\uA74D\uA74F\uA751\uA753\uA755\uA757\uA759\uA75B\uA75D\uA75F\uA761\uA763\uA765\uA767\uA769\uA76B\uA76D\uA76F\uA771-\uA778\uA77A\uA77C\uA77F\uA781\uA783\uA785\uA787\uA78C\uA78E\uA791\uA793-\uA795\uA797\uA799\uA79B\uA79D\uA79F\uA7A1\uA7A3\uA7A5\uA7A7\uA7A9\uA7B5\uA7B7\uA7FA\uAB30-\uAB5A\uAB60-\uAB65\uAB70-\uABBF\uFB00-\uFB06\uFB13-\uFB17\uFF41-\uFF5A])/g},458:function(e){e.exports=/[^A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0-\u08B4\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C60\u0C61\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FD5\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AD\uA7B0-\uA7B7\uA7F7-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC0-9\xB2\xB3\xB9\xBC-\xBE\u0660-\u0669\u06F0-\u06F9\u07C0-\u07C9\u0966-\u096F\u09E6-\u09EF\u09F4-\u09F9\u0A66-\u0A6F\u0AE6-\u0AEF\u0B66-\u0B6F\u0B72-\u0B77\u0BE6-\u0BF2\u0C66-\u0C6F\u0C78-\u0C7E\u0CE6-\u0CEF\u0D66-\u0D75\u0DE6-\u0DEF\u0E50-\u0E59\u0ED0-\u0ED9\u0F20-\u0F33\u1040-\u1049\u1090-\u1099\u1369-\u137C\u16EE-\u16F0\u17E0-\u17E9\u17F0-\u17F9\u1810-\u1819\u1946-\u194F\u19D0-\u19DA\u1A80-\u1A89\u1A90-\u1A99\u1B50-\u1B59\u1BB0-\u1BB9\u1C40-\u1C49\u1C50-\u1C59\u2070\u2074-\u2079\u2080-\u2089\u2150-\u2182\u2185-\u2189\u2460-\u249B\u24EA-\u24FF\u2776-\u2793\u2CFD\u3007\u3021-\u3029\u3038-\u303A\u3192-\u3195\u3220-\u3229\u3248-\u324F\u3251-\u325F\u3280-\u3289\u32B1-\u32BF\uA620-\uA629\uA6E6-\uA6EF\uA830-\uA835\uA8D0-\uA8D9\uA900-\uA909\uA9D0-\uA9D9\uA9F0-\uA9F9\uAA50-\uAA59\uABF0-\uABF9\uFF10-\uFF19]+/g},374:function(e,t,n){"use strict";var r=n(791),i=Symbol.for("react.element"),u=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,o=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,u={},c=null,l=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(l=t.ref),t)a.call(t,r)&&!s.hasOwnProperty(r)&&(u[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===u[r]&&(u[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:l,props:u,_owner:o.current}}t.Fragment=u,t.jsx=c,t.jsxs=c},117:function(e,t){"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),u=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),s=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),d=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,m={};function y(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}function g(){}function k(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},g.prototype=y.prototype;var b=k.prototype=new g;b.constructor=k,v(b,y.prototype),b.isPureReactComponent=!0;var w=Array.isArray,E=Object.prototype.hasOwnProperty,x={current:null},A={key:!0,ref:!0,__self:!0,__source:!0};function _(e,t,r){var i,u={},a=null,o=null;if(null!=t)for(i in void 0!==t.ref&&(o=t.ref),void 0!==t.key&&(a=""+t.key),t)E.call(t,i)&&!A.hasOwnProperty(i)&&(u[i]=t[i]);var s=arguments.length-2;if(1===s)u.children=r;else if(1<s){for(var c=Array(s),l=0;l<s;l++)c[l]=arguments[l+2];u.children=c}if(e&&e.defaultProps)for(i in s=e.defaultProps)void 0===u[i]&&(u[i]=s[i]);return{$$typeof:n,type:e,key:a,ref:o,props:u,_owner:x.current}}function C(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var I=/\/+/g;function S(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function T(e,t,i,u,a){var o=typeof e;"undefined"!==o&&"boolean"!==o||(e=null);var s=!1;if(null===e)s=!0;else switch(o){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case n:case r:s=!0}}if(s)return a=a(s=e),e=""===u?"."+S(s,0):u,w(a)?(i="",null!=e&&(i=e.replace(I,"$&/")+"/"),T(a,t,i,"",(function(e){return e}))):null!=a&&(C(a)&&(a=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(a,i+(!a.key||s&&s.key===a.key?"":(""+a.key).replace(I,"$&/")+"/")+e)),t.push(a)),1;if(s=0,u=""===u?".":u+":",w(e))for(var c=0;c<e.length;c++){var l=u+S(o=e[c],c);s+=T(o,t,i,l,a)}else if(l=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=d&&e[d]||e["@@iterator"])?e:null}(e),"function"===typeof l)for(e=l.call(e),c=0;!(o=e.next()).done;)s+=T(o=o.value,t,i,l=u+S(o,c++),a);else if("object"===o)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function D(e,t,n){if(null==e)return e;var r=[],i=0;return T(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function N(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var F={current:null},R={transition:null},P={ReactCurrentDispatcher:F,ReactCurrentBatchConfig:R,ReactCurrentOwner:x};t.Children={map:D,forEach:function(e,t,n){D(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return D(e,(function(){t++})),t},toArray:function(e){return D(e,(function(e){return e}))||[]},only:function(e){if(!C(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=y,t.Fragment=i,t.Profiler=a,t.PureComponent=k,t.StrictMode=u,t.Suspense=l,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=P,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=v({},e.props),u=e.key,a=e.ref,o=e._owner;if(null!=t){if(void 0!==t.ref&&(a=t.ref,o=x.current),void 0!==t.key&&(u=""+t.key),e.type&&e.type.defaultProps)var s=e.type.defaultProps;for(c in t)E.call(t,c)&&!A.hasOwnProperty(c)&&(i[c]=void 0===t[c]&&void 0!==s?s[c]:t[c])}var c=arguments.length-2;if(1===c)i.children=r;else if(1<c){s=Array(c);for(var l=0;l<c;l++)s[l]=arguments[l+2];i.children=s}return{$$typeof:n,type:e.type,key:u,ref:a,props:i,_owner:o}},t.createContext=function(e){return(e={$$typeof:s,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:o,_context:e},e.Consumer=e},t.createElement=_,t.createFactory=function(e){var t=_.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=C,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:N}},t.memo=function(e,t){return{$$typeof:f,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=R.transition;R.transition={};try{e()}finally{R.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return F.current.useCallback(e,t)},t.useContext=function(e){return F.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return F.current.useDeferredValue(e)},t.useEffect=function(e,t){return F.current.useEffect(e,t)},t.useId=function(){return F.current.useId()},t.useImperativeHandle=function(e,t,n){return F.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return F.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return F.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return F.current.useMemo(e,t)},t.useReducer=function(e,t,n){return F.current.useReducer(e,t,n)},t.useRef=function(e){return F.current.useRef(e)},t.useState=function(e){return F.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return F.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return F.current.useTransition()},t.version="18.2.0"},791:function(e,t,n){"use strict";e.exports=n(117)},184:function(e,t,n){"use strict";e.exports=n(374)},813:function(e,t){"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<u(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,a=i>>>1;r<a;){var o=2*(r+1)-1,s=e[o],c=o+1,l=e[c];if(0>u(s,n))c<i&&0>u(l,s)?(e[r]=l,e[c]=n,r=c):(e[r]=s,e[o]=n,r=o);else{if(!(c<i&&0>u(l,n)))break e;e[r]=l,e[c]=n,r=c}}}return t}function u(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var a=performance;t.unstable_now=function(){return a.now()}}else{var o=Date,s=o.now();t.unstable_now=function(){return o.now()-s}}var c=[],l=[],f=1,h=null,d=3,p=!1,v=!1,m=!1,y="function"===typeof setTimeout?setTimeout:null,g="function"===typeof clearTimeout?clearTimeout:null,k="undefined"!==typeof setImmediate?setImmediate:null;function b(e){for(var t=r(l);null!==t;){if(null===t.callback)i(l);else{if(!(t.startTime<=e))break;i(l),t.sortIndex=t.expirationTime,n(c,t)}t=r(l)}}function w(e){if(m=!1,b(e),!v)if(null!==r(c))v=!0,R(E);else{var t=r(l);null!==t&&P(w,t.startTime-e)}}function E(e,n){v=!1,m&&(m=!1,g(C),C=-1),p=!0;var u=d;try{for(b(n),h=r(c);null!==h&&(!(h.expirationTime>n)||e&&!T());){var a=h.callback;if("function"===typeof a){h.callback=null,d=h.priorityLevel;var o=a(h.expirationTime<=n);n=t.unstable_now(),"function"===typeof o?h.callback=o:h===r(c)&&i(c),b(n)}else i(c);h=r(c)}if(null!==h)var s=!0;else{var f=r(l);null!==f&&P(w,f.startTime-n),s=!1}return s}finally{h=null,d=u,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var x,A=!1,_=null,C=-1,I=5,S=-1;function T(){return!(t.unstable_now()-S<I)}function D(){if(null!==_){var e=t.unstable_now();S=e;var n=!0;try{n=_(!0,e)}finally{n?x():(A=!1,_=null)}}else A=!1}if("function"===typeof k)x=function(){k(D)};else if("undefined"!==typeof MessageChannel){var N=new MessageChannel,F=N.port2;N.port1.onmessage=D,x=function(){F.postMessage(null)}}else x=function(){y(D,0)};function R(e){_=e,A||(A=!0,x())}function P(e,n){C=y((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){v||p||(v=!0,R(E))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(d){case 1:case 2:case 3:var t=3;break;default:t=d}var n=d;d=t;try{return e()}finally{d=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=d;d=e;try{return t()}finally{d=n}},t.unstable_scheduleCallback=function(e,i,u){var a=t.unstable_now();switch("object"===typeof u&&null!==u?u="number"===typeof(u=u.delay)&&0<u?a+u:a:u=a,e){case 1:var o=-1;break;case 2:o=250;break;case 5:o=1073741823;break;case 4:o=1e4;break;default:o=5e3}return e={id:f++,callback:i,priorityLevel:e,startTime:u,expirationTime:o=u+o,sortIndex:-1},u>a?(e.sortIndex=u,n(l,e),null===r(c)&&e===r(l)&&(m?(g(C),C=-1):m=!0,P(w,u-a))):(e.sortIndex=o,n(c,e),v||p||(v=!0,R(E))),e},t.unstable_shouldYield=T,t.unstable_wrapCallback=function(e){var t=d;return function(){var n=d;d=t;try{return e.apply(this,arguments)}finally{d=n}}}},296:function(e,t,n){"use strict";e.exports=n(813)},59:function(e){var t={tr:{regexp:/[\u0069]/g,map:{i:"\u0130"}},az:{regexp:/[\u0069]/g,map:{i:"\u0130"}},lt:{regexp:/[\u0069\u006A\u012F]\u0307|\u0069\u0307[\u0300\u0301\u0303]/g,map:{"i\u0307":"I","j\u0307":"J","\u012f\u0307":"\u012e","i\u0307\u0300":"\xcc","i\u0307\u0301":"\xcd","i\u0307\u0303":"\u0128"}}};e.exports=function(e,n){var r=t[n];return e=null==e?"":String(e),r&&(e=e.replace(r.regexp,(function(e){return r.map[e]}))),e.toUpperCase()}}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var u=t[r]={exports:{}};return e[r](u,u.exports,n),u.exports}n.m=e,n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.f={},n.e=function(e){return Promise.all(Object.keys(n.f).reduce((function(t,r){return n.f[r](e,t),t}),[]))},n.u=function(e){return"static/js/"+e+".6d152395.chunk.js"},n.miniCssF=function(e){},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},function(){var e={},t="bake_with_love:";n.l=function(r,i,u,a){if(e[r])e[r].push(i);else{var o,s;if(void 0!==u)for(var c=document.getElementsByTagName("script"),l=0;l<c.length;l++){var f=c[l];if(f.getAttribute("src")==r||f.getAttribute("data-webpack")==t+u){o=f;break}}o||(s=!0,(o=document.createElement("script")).charset="utf-8",o.timeout=120,n.nc&&o.setAttribute("nonce",n.nc),o.setAttribute("data-webpack",t+u),o.src=r),e[r]=[i];var h=function(t,n){o.onerror=o.onload=null,clearTimeout(d);var i=e[r];if(delete e[r],o.parentNode&&o.parentNode.removeChild(o),i&&i.forEach((function(e){return e(n)})),t)return t(n)},d=setTimeout(h.bind(null,void 0,{type:"timeout",target:o}),12e4);o.onerror=h.bind(null,o.onerror),o.onload=h.bind(null,o.onload),s&&document.head.appendChild(o)}}}(),n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/",function(){var e={179:0};n.f.j=function(t,r){var i=n.o(e,t)?e[t]:void 0;if(0!==i)if(i)r.push(i[2]);else{var u=new Promise((function(n,r){i=e[t]=[n,r]}));r.push(i[2]=u);var a=n.p+n.u(t),o=new Error;n.l(a,(function(r){if(n.o(e,t)&&(0!==(i=e[t])&&(e[t]=void 0),i)){var u=r&&("load"===r.type?"missing":r.type),a=r&&r.target&&r.target.src;o.message="Loading chunk "+t+" failed.\n("+u+": "+a+")",o.name="ChunkLoadError",o.type=u,o.request=a,i[1](o)}}),"chunk-"+t,t)}};var t=function(t,r){var i,u,a=r[0],o=r[1],s=r[2],c=0;if(a.some((function(t){return 0!==e[t]}))){for(i in o)n.o(o,i)&&(n.m[i]=o[i]);if(s)s(n)}for(t&&t(r);c<a.length;c++)u=a[c],n.o(e,u)&&e[u]&&e[u][0](),e[u]=0},r=self.webpackChunkbake_with_love=self.webpackChunkbake_with_love||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))}(),function(){"use strict";var e={};n.r(e),n.d(e,{FirebaseError:function(){return Se},SDK_VERSION:function(){return zt},_DEFAULT_ENTRY_NAME:function(){return Tt},_addComponent:function(){return Rt},_addOrOverwriteComponent:function(){return Pt},_apps:function(){return Nt},_clearComponents:function(){return jt},_components:function(){return Ft},_getProvider:function(){return Bt},_registerComponent:function(){return Ot},_removeServiceInstance:function(){return Lt},deleteApp:function(){return Ht},getApp:function(){return Gt},getApps:function(){return Kt},initializeApp:function(){return qt},onLog:function(){return Jt},registerVersion:function(){return Qt},setLogLevel:function(){return Yt}});var t,r=n(791),i=n(250);function u(e){if(Array.isArray(e))return e}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function o(e,t){if(e){if("string"===typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?a(e,t):void 0}}function s(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function c(e,t){return u(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,u=[],a=!0,o=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(u.push(r.value),!t||u.length!==t);a=!0);}catch(s){o=!0,i=s}finally{try{a||null==n.return||n.return()}finally{if(o)throw i}}return u}}(e,t)||o(e,t)||s()}function l(){return l=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(t||(t={}));var f=function(e){return e};var h="beforeunload",d="popstate";function p(e){e.preventDefault(),e.returnValue=""}function v(){var e=[];return{get length(){return e.length},push:function(t){return e.push(t),function(){e=e.filter((function(e){return e!==t}))}},call:function(t){e.forEach((function(e){return e&&e(t)}))}}}function m(){return Math.random().toString(36).substr(2,8)}function y(e){var t=e.pathname,n=void 0===t?"/":t,r=e.search,i=void 0===r?"":r,u=e.hash,a=void 0===u?"":u;return i&&"?"!==i&&(n+="?"===i.charAt(0)?i:"?"+i),a&&"#"!==a&&(n+="#"===a.charAt(0)?a:"#"+a),n}function g(e){var t={};if(e){var n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));var r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}var k=(0,r.createContext)(null);var b=(0,r.createContext)(null);var w=(0,r.createContext)({outlet:null,matches:[]});function E(e,t){if(!e)throw new Error(t)}function x(e,t,n){void 0===n&&(n="/");var r=N(("string"===typeof t?g(t):t).pathname||"/",n);if(null==r)return null;var i=A(e);!function(e){e.sort((function(e,t){return e.score!==t.score?t.score-e.score:function(e,t){var n=e.length===t.length&&e.slice(0,-1).every((function(e,n){return e===t[n]}));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((function(e){return e.childrenIndex})),t.routesMeta.map((function(e){return e.childrenIndex})))}))}(i);for(var u=null,a=0;null==u&&a<i.length;++a)u=S(i[a],r);return u}function A(e,t,n,r){return void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r=""),e.forEach((function(e,i){var u={relativePath:e.path||"",caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};u.relativePath.startsWith("/")&&(u.relativePath.startsWith(r)||E(!1),u.relativePath=u.relativePath.slice(r.length));var a=F([r,u.relativePath]),o=n.concat(u);e.children&&e.children.length>0&&(!0===e.index&&E(!1),A(e.children,t,o,a)),(null!=e.path||e.index)&&t.push({path:a,score:I(a,e.index),routesMeta:o})})),t}var _=/^:\w+$/,C=function(e){return"*"===e};function I(e,t){var n=e.split("/"),r=n.length;return n.some(C)&&(r+=-2),t&&(r+=2),n.filter((function(e){return!C(e)})).reduce((function(e,t){return e+(_.test(t)?3:""===t?1:10)}),r)}function S(e,t){for(var n=e.routesMeta,r={},i="/",u=[],a=0;a<n.length;++a){var o=n[a],s=a===n.length-1,c="/"===i?t:t.slice(i.length)||"/",l=T({path:o.relativePath,caseSensitive:o.caseSensitive,end:s},c);if(!l)return null;Object.assign(r,l.params);var f=o.route;u.push({params:r,pathname:F([i,l.pathname]),pathnameBase:R(F([i,l.pathnameBase])),route:f}),"/"!==l.pathnameBase&&(i=F([i,l.pathnameBase]))}return u}function T(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});var n=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);var r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/:(\w+)/g,(function(e,t){return r.push(t),"([^\\/]+)"}));e.endsWith("*")?(r.push("*"),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):i+=n?"\\/*$":"(?:(?=[.~-]|%[0-9A-F]{2})|\\b|\\/|$)";return[new RegExp(i,t?void 0:"i"),r]}(e.path,e.caseSensitive,e.end),r=c(n,2),i=r[0],u=r[1],a=t.match(i);if(!a)return null;var o=a[0],s=o.replace(/(.)\/+$/,"$1"),l=a.slice(1);return{params:u.reduce((function(e,t,n){if("*"===t){var r=l[n]||"";s=o.slice(0,o.length-r.length).replace(/(.)\/+$/,"$1")}return e[t]=function(e,t){try{return decodeURIComponent(e)}catch(n){return e}}(l[n]||""),e}),{}),pathname:o,pathnameBase:s,pattern:e}}function D(e,t,n){var r,i="string"===typeof e?g(e):e,u=""===e||""===i.pathname?"/":i.pathname;if(null==u)r=n;else{var a=t.length-1;if(u.startsWith("..")){for(var o=u.split("/");".."===o[0];)o.shift(),a-=1;i.pathname=o.join("/")}r=a>=0?t[a]:"/"}var s=function(e,t){void 0===t&&(t="/");var n="string"===typeof e?g(e):e,r=n.pathname,i=n.search,u=void 0===i?"":i,a=n.hash,o=void 0===a?"":a,s=r?r.startsWith("/")?r:function(e,t){var n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((function(e){".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(r,t):t;return{pathname:s,search:P(u),hash:O(o)}}(i,r);return u&&"/"!==u&&u.endsWith("/")&&!s.pathname.endsWith("/")&&(s.pathname+="/"),s}function N(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;var n=e.charAt(t.length);return n&&"/"!==n?null:e.slice(t.length)||"/"}var F=function(e){return e.join("/").replace(/\/\/+/g,"/")},R=function(e){return e.replace(/\/+$/,"").replace(/^\/*/,"/")},P=function(e){return e&&"?"!==e?e.startsWith("?")?e:"?"+e:""},O=function(e){return e&&"#"!==e?e.startsWith("#")?e:"#"+e:""};function B(e){L()||E(!1);var t=(0,r.useContext)(k),n=t.basename,i=t.navigator,u=U(e),a=u.hash,o=u.pathname,s=u.search,c=o;if("/"!==n){var l=function(e){return""===e||""===e.pathname?"/":"string"===typeof e?g(e).pathname:e.pathname}(e),f=null!=l&&l.endsWith("/");c="/"===o?n+(f?"/":""):F([n,o])}return i.createHref({pathname:c,search:s,hash:a})}function L(){return null!=(0,r.useContext)(b)}function j(){return L()||E(!1),(0,r.useContext)(b).location}function M(){L()||E(!1);var e=(0,r.useContext)(k),t=e.basename,n=e.navigator,i=(0,r.useContext)(w).matches,u=j().pathname,a=JSON.stringify(i.map((function(e){return e.pathnameBase}))),o=(0,r.useRef)(!1);(0,r.useEffect)((function(){o.current=!0}));var s=(0,r.useCallback)((function(e,r){if(void 0===r&&(r={}),o.current)if("number"!==typeof e){var i=D(e,JSON.parse(a),u);"/"!==t&&(i.pathname=F([t,i.pathname])),(r.replace?n.replace:n.push)(i,r.state)}else n.go(e)}),[t,n,a,u]);return s}function U(e){var t=(0,r.useContext)(w).matches,n=j().pathname,i=JSON.stringify(t.map((function(e){return e.pathnameBase})));return(0,r.useMemo)((function(){return D(e,JSON.parse(i),n)}),[e,i,n])}function V(e,t){return void 0===t&&(t=[]),null==e?null:e.reduceRight((function(n,i,u){return(0,r.createElement)(w.Provider,{children:void 0!==i.route.element?i.route.element:n,value:{outlet:n,matches:t.concat(e.slice(0,u+1))}})}),null)}function z(e){E(!1)}function q(e){var n=e.basename,i=void 0===n?"/":n,u=e.children,a=void 0===u?null:u,o=e.location,s=e.navigationType,c=void 0===s?t.Pop:s,l=e.navigator,f=e.static,h=void 0!==f&&f;L()&&E(!1);var d=R(i),p=(0,r.useMemo)((function(){return{basename:d,navigator:l,static:h}}),[d,l,h]);"string"===typeof o&&(o=g(o));var v=o,m=v.pathname,y=void 0===m?"/":m,w=v.search,x=void 0===w?"":w,A=v.hash,_=void 0===A?"":A,C=v.state,I=void 0===C?null:C,S=v.key,T=void 0===S?"default":S,D=(0,r.useMemo)((function(){var e=N(y,d);return null==e?null:{pathname:e,search:x,hash:_,state:I,key:T}}),[d,y,x,_,I,T]);return null==D?null:(0,r.createElement)(k.Provider,{value:p},(0,r.createElement)(b.Provider,{children:a,value:{location:D,navigationType:c}}))}function G(e){var t=e.children,n=e.location;return function(e,t){L()||E(!1);var n,i=(0,r.useContext)(w).matches,u=i[i.length-1],a=u?u.params:{},o=(u&&u.pathname,u?u.pathnameBase:"/"),s=(u&&u.route,j());if(t){var c,l="string"===typeof t?g(t):t;"/"===o||(null==(c=l.pathname)?void 0:c.startsWith(o))||E(!1),n=l}else n=s;var f=n.pathname||"/",h=x(e,{pathname:"/"===o?f:f.slice(o.length)||"/"});return V(h&&h.map((function(e){return Object.assign({},e,{params:Object.assign({},a,e.params),pathname:F([o,e.pathname]),pathnameBase:"/"===e.pathnameBase?o:F([o,e.pathnameBase])})})),i)}(K(t),n)}function K(e){var t=[];return r.Children.forEach(e,(function(e){if((0,r.isValidElement)(e))if(e.type!==r.Fragment){e.type!==z&&E(!1);var n={caseSensitive:e.props.caseSensitive,element:e.props.element,index:e.props.index,path:e.props.path};e.props.children&&(n.children=K(e.props.children)),t.push(n)}else t.push.apply(t,K(e.props.children))})),t}function H(){return H=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},H.apply(this,arguments)}function W(e,t){if(null==e)return{};var n,r,i={},u=Object.keys(e);for(r=0;r<u.length;r++)n=u[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}var Q=["onClick","reloadDocument","replace","state","target","to"];function J(e){var n=e.basename,i=e.children,u=e.window,a=(0,r.useRef)();null==a.current&&(a.current=function(e){void 0===e&&(e={});var n=e.window,r=void 0===n?document.defaultView:n,i=r.history;function u(){var e=r.location,t=e.pathname,n=e.search,u=e.hash,a=i.state||{};return[a.idx,f({pathname:t,search:n,hash:u,state:a.usr||null,key:a.key||"default"})]}var a=null;r.addEventListener(d,(function(){if(a)w.call(a),a=null;else{var e=t.Pop,n=u(),r=n[0],i=n[1];if(w.length){if(null!=r){var o=c-r;o&&(a={action:e,location:i,retry:function(){I(-1*o)}},I(o))}}else C(e)}}));var o=t.Pop,s=u(),c=s[0],k=s[1],b=v(),w=v();function E(e){return"string"===typeof e?e:y(e)}function x(e,t){return void 0===t&&(t=null),f(l({pathname:k.pathname,hash:"",search:""},"string"===typeof e?g(e):e,{state:t,key:m()}))}function A(e,t){return[{usr:e.state,key:e.key,idx:t},E(e)]}function _(e,t,n){return!w.length||(w.call({action:e,location:t,retry:n}),!1)}function C(e){o=e;var t=u();c=t[0],k=t[1],b.call({action:o,location:k})}function I(e){i.go(e)}null==c&&(c=0,i.replaceState(l({},i.state,{idx:c}),""));var S={get action(){return o},get location(){return k},createHref:E,push:function e(n,u){var a=t.Push,o=x(n,u);if(_(a,o,(function(){e(n,u)}))){var s=A(o,c+1),l=s[0],f=s[1];try{i.pushState(l,"",f)}catch(h){r.location.assign(f)}C(a)}},replace:function e(n,r){var u=t.Replace,a=x(n,r);if(_(u,a,(function(){e(n,r)}))){var o=A(a,c),s=o[0],l=o[1];i.replaceState(s,"",l),C(u)}},go:I,back:function(){I(-1)},forward:function(){I(1)},listen:function(e){return b.push(e)},block:function(e){var t=w.push(e);return 1===w.length&&r.addEventListener(h,p),function(){t(),w.length||r.removeEventListener(h,p)}}};return S}({window:u}));var o=a.current,s=c((0,r.useState)({action:o.action,location:o.location}),2),k=s[0],b=s[1];return(0,r.useLayoutEffect)((function(){return o.listen(b)}),[o]),(0,r.createElement)(q,{basename:n,children:i,location:k.location,navigationType:k.action,navigator:o})}var Y=(0,r.forwardRef)((function(e,t){var n=e.onClick,i=e.reloadDocument,u=e.replace,a=void 0!==u&&u,o=e.state,s=e.target,c=e.to,l=W(e,Q),f=B(c),h=function(e,t){var n=void 0===t?{}:t,i=n.target,u=n.replace,a=n.state,o=M(),s=j(),c=U(e);return(0,r.useCallback)((function(t){if(0===t.button&&(!i||"_self"===i)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(t)){t.preventDefault();var n=!!u||y(s)===y(c);o(e,{replace:n,state:a})}}),[s,o,c,u,a,i,e])}(c,{replace:a,state:o,target:s});return(0,r.createElement)("a",H({},l,{href:f,onClick:function(e){n&&n(e),e.defaultPrevented||i||h(e)},ref:t,target:s}))}));var X=n.p+"static/media/Bake_with_love.e140ef85ba86b12c43e6.png",$="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAABmJLR0QA/wD/AP+gvaeTAAAEdUlEQVRogd2az2tcVRTHP+fOD2OaRZvUppPOBIogQjYWtVCcgFDEhREbZP4BhW4UQSy6zVbFlSAotLo2qGhSXGihkAmubFEIpRsXmTST1Ca60CRNM++4ePdNMpn7Mj/uNH34Xb15997zvl/OuefcHwP/E0ivDS6UxrJDm0cnFbkAnAHytmlJlRtG9Pu1x//+bmx6YbuX3+2pkOorxRLCh8DpFl3/UJH3R2bmvunVt3siREul1OrG8scq8q59cxO4opq6Zh70LQIEma1Rkdp5Qd5UeMZ+/ZOTfbkPZHq65ssh7WsAYI+ILVHeGr46/6WA7ut2C7ilU3y2+uv4G6r6Kcp7K1tVgEu+HLw9YsPpa2AzMPLSqR/m5tsZt/xqsSjKT0Cfqr4+cnX+Wx8exmfwQmksa+cEorzdrgiAkZlyWZF3AMTIRwulsawPFy8hQ5tHJ4HToDeHny9/1en43HNzlxV+Q3lycOPYaz5cvIQoZjJ8kssyRdDpeJkiMMIVABUu+HDxEgJ6JiRRu9a1BSM/Awg868PEUwgjAOm+x5a6NZDKphbt4ykfIr5CBgBOTF//p1sDe8YO+BDxFZIYHFhHqhPFf4H+Q+LSChu52fKRuMZYjyxNnh0iOSIA+isvnxuMa4xfotxPF6zM27nZ8tOuLtWJogLkZsteK4RWdqoTxdvAU9lMqgCsu/rEeiRtTAFAlcW4PocFJeSgQiGuT6yQaJAIztS6MjF+3vXcKdqxI1ABUBiNs3NQ1ooGOT2i6Bf1Z9HPDyJ7ENqyoxoK0S48Iip5ABGJK3a7izzFZ8HX0o4YUwEwSDehFRQAAmruOSJ6EVgCKhpwsR3G3dqJOEScXIjPWgGjYZVRp5DczPyPEO/qdtGWnSBdQQLQDj2iUxhEvNdRvUK6PwwthLxOuTk7X9678cJJwthd91lH9QqWw18omXu/jA+7+jiF1HZCF6pNewlBBWAn4w5Dd2hJmHolJvU+IkRcnLUkTkioWhPkEbFFMaa6uyeOhKElJjlCxBZFE7hTsNsjamuIHZwEBGqsR9wpOKYgmjAOE7BgrEOl8zkCGoZWJpMYj5gUUS1pzyP2oOwEEKxn/lx+qOw6wFrf2h0gQBl2HeY1CTm+cSxv36/0+ujfB2PTC9sIq4AZ2hpqOnFpEhIYO5kkORmrDlsOglpzeDUJ0aDeKTkTfRchJ1NrLcRES+UkFUOLei1xpOBmj9hOmqAaEiGwG6w9UVOHK/2GedoOShJE6ym4qZY0C7H7YonbGT5ahDtFx0bM5ZECQKqWTZxH0g9Cj0grIXdLLw4Ax4DtJ85ev3s49NrH8XNzq8A2MGi51tEgZGejvrJc6ubi5mHDcroDsLN1P7+3rTG0zE4kJHFhVYeE2TQlpiG8TOMPSXIxBHZ3rVqTeCFqj1tUkldDIuzuSxpT8P6sFe1DEitEdrkd4BHbKJq8YhhBjPscuEGI1IVIcueIhNxk3wZr/5FpHkBN8Ht1onhI1DpDENT/4uL2iL1qi72jSyCO7L2K+w+6Lo1H42ziNAAAAABJRU5ErkJggg==";function Z(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ee(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function te(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ne(e,t,n){return t&&te(e.prototype,t),n&&te(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function re(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=o(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var u,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,u=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw u}}}}function ie(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ue(e,t){return ue=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},ue(e,t)}function ae(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ue(e,t)}function oe(e){return oe=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},oe(e)}function se(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function ce(e){return ce="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ce(e)}function le(e,t){if(t&&("object"===ce(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return ie(e)}function fe(e){var t=se();return function(){var n,r=oe(e);if(t){var i=oe(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return le(this,n)}}function he(e,t,n){return he=se()?Reflect.construct.bind():function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&ue(i,n.prototype),i},he.apply(null,arguments)}function de(e){var t="function"===typeof Map?new Map:void 0;return de=function(e){if(null===e||!function(e){return-1!==Function.toString.call(e).indexOf("[native code]")}(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return he(e,arguments,oe(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),ue(n,e)},de(e)}var pe=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},ve={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var u=e[i],a=i+1<e.length,o=a?e[i+1]:0,s=i+2<e.length,c=s?e[i+2]:0,l=u>>2,f=(3&u)<<4|o>>4,h=(15&o)<<2|c>>6,d=63&c;s||(d=64,a||(h=64)),r.push(n[l],n[f],n[h],n[d])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(pe(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var u=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&u)}else if(i>239&&i<365){var a=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(a>>10)),t[r++]=String.fromCharCode(56320+(1023&a))}else{var o=e[n++],s=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&s)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var u=n[e.charAt(i++)],a=i<e.length?n[e.charAt(i)]:0,o=++i<e.length?n[e.charAt(i)]:64,s=++i<e.length?n[e.charAt(i)]:64;if(++i,null==u||null==a||null==o||null==s)throw Error();var c=u<<2|a>>4;if(r.push(c),64!==o){var l=a<<4&240|o>>2;if(r.push(l),64!==s){var f=o<<6&192|s;r.push(f)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},me=function(e){return function(e){var t=pe(e);return ve.encodeByteArray(t,!0)}(e).replace(/\./g,"")},ye=function(e){try{return ve.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function ge(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=ge(e[n],t[n]));return e}var ke=function(){function e(){var t=this;ee(this,e),this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return ne(e,[{key:"wrapCallback",value:function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"===typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}}}]),e}();function be(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var u=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[me(JSON.stringify({alg:"none",type:"JWT"})),me(JSON.stringify(u)),""].join(".")}function we(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function Ee(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(we())}function xe(){try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(e){return!1}}function Ae(){var e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function _e(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function Ce(){var e=we();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function Ie(){return"object"===typeof indexedDB}var Se=function(e){ae(n,e);var t=fe(n);function n(e,r,i){var u;return ee(this,n),(u=t.call(this,r)).code=e,u.customData=i,u.name="FirebaseError",Object.setPrototypeOf(ie(u),n.prototype),Error.captureStackTrace&&Error.captureStackTrace(ie(u),Te.prototype.create),u}return ne(n)}(de(Error)),Te=function(){function e(t,n,r){ee(this,e),this.service=t,this.serviceName=n,this.errors=r}return ne(e,[{key:"create",value:function(e){var t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?De(r,t):"Error",u="".concat(this.serviceName,": ").concat(i," (").concat(n,")."),a=new Se(n,u,t);return a}}]),e}();function De(e,t){return e.replace(Ne,(function(e,n){var r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}var Ne=/\{\$([^}]+)}/g;function Fe(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function Re(e,t){if(e===t)return!0;for(var n=Object.keys(e),r=Object.keys(t),i=0,u=n;i<u.length;i++){var a=u[i];if(!r.includes(a))return!1;var o=e[a],s=t[a];if(Pe(o)&&Pe(s)){if(!Re(o,s))return!1}else if(o!==s)return!1}for(var c=0,l=r;c<l.length;c++){var f=l[c];if(!n.includes(f))return!1}return!0}function Pe(e){return null!==e&&"object"===typeof e}function Oe(e){for(var t=[],n=function(){var e=c(i[r],2),n=e[0],u=e[1];Array.isArray(u)?u.forEach((function(e){t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(u))},r=0,i=Object.entries(e);r<i.length;r++)n();return t.length?"&"+t.join("&"):""}function Be(e){var t={};return e.replace(/^\?/,"").split("&").forEach((function(e){if(e){var n=c(e.split("="),2),r=n[0],i=n[1];t[decodeURIComponent(r)]=decodeURIComponent(i)}})),t}function Le(e){var t=e.indexOf("?");if(!t)return"";var n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}function je(e,t){var n=new Me(e,t);return n.subscribe.bind(n)}var Me=function(){function e(t,n){var r=this;ee(this,e),this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then((function(){t(r)})).catch((function(e){r.error(e)}))}return ne(e,[{key:"next",value:function(e){this.forEachObserver((function(t){t.next(e)}))}},{key:"error",value:function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)}},{key:"complete",value:function(){this.forEachObserver((function(e){e.complete()})),this.close()}},{key:"subscribe",value:function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=re(t);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i in e&&"function"===typeof e[i])return!0}}catch(u){r.e(u)}finally{r.f()}return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n}).next&&(r.next=Ue),void 0===r.error&&(r.error=Ue),void 0===r.complete&&(r.complete=Ue);var u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(e){}})),this.observers.push(r),u}},{key:"unsubscribeOne",value:function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}},{key:"forEachObserver",value:function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)}},{key:"sendOne",value:function(e,t){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(r){"undefined"!==typeof console&&console.error&&console.error(r)}}))}},{key:"close",value:function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))}}]),e}();function Ue(){}function Ve(e){return e&&e._delegate?e._delegate:e}function ze(){ze=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},i=r.iterator||"@@iterator",u=r.asyncIterator||"@@asyncIterator",a=r.toStringTag||"@@toStringTag";function o(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{o({},"")}catch(C){o=function(e,t,n){return e[t]=n}}function s(e,t,n,r){var i=t&&t.prototype instanceof f?t:f,u=Object.create(i.prototype),a=new x(r||[]);return u._invoke=function(e,t,n){var r="suspendedStart";return function(i,u){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw u;return _()}for(n.method=i,n.arg=u;;){var a=n.delegate;if(a){var o=b(a,n);if(o){if(o===l)continue;return o}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var s=c(e,t,n);if("normal"===s.type){if(r=n.done?"completed":"suspendedYield",s.arg===l)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r="completed",n.method="throw",n.arg=s.arg)}}}(e,n,a),u}function c(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(C){return{type:"throw",arg:C}}}e.wrap=s;var l={};function f(){}function h(){}function d(){}var p={};o(p,i,(function(){return this}));var v=Object.getPrototypeOf,m=v&&v(v(A([])));m&&m!==t&&n.call(m,i)&&(p=m);var y=d.prototype=f.prototype=Object.create(p);function g(e){["next","throw","return"].forEach((function(t){o(e,t,(function(e){return this._invoke(t,e)}))}))}function k(e,t){function r(i,u,a,o){var s=c(e[i],e,u);if("throw"!==s.type){var l=s.arg,f=l.value;return f&&"object"==ce(f)&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){r("next",e,a,o)}),(function(e){r("throw",e,a,o)})):t.resolve(f).then((function(e){l.value=e,a(l)}),(function(e){return r("throw",e,a,o)}))}o(s.arg)}var i;this._invoke=function(e,n){function u(){return new t((function(t,i){r(e,n,t,i)}))}return i=i?i.then(u,u):u()}}function b(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,b(e,t),"throw"===t.method))return l;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var r=c(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,l;var i=r.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,l):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,l)}function w(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function E(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function x(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(w,this),this.reset(!0)}function A(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,u=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return u.next=u}}return{next:_}}function _(){return{value:void 0,done:!0}}return h.prototype=d,o(y,"constructor",d),o(d,"constructor",h),h.displayName=o(d,a,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,o(e,a,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},g(k.prototype),o(k.prototype,u,(function(){return this})),e.AsyncIterator=k,e.async=function(t,n,r,i,u){void 0===u&&(u=Promise);var a=new k(s(t,n,r,i),u);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},g(y),o(y,a,"Generator"),o(y,i,(function(){return this})),o(y,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=A,x.prototype={constructor:x,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return a.type="throw",a.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var u=this.tryEntries[i],a=u.completion;if("root"===u.tryLoc)return r("end");if(u.tryLoc<=this.prev){var o=n.call(u,"catchLoc"),s=n.call(u,"finallyLoc");if(o&&s){if(this.prev<u.catchLoc)return r(u.catchLoc,!0);if(this.prev<u.finallyLoc)return r(u.finallyLoc)}else if(o){if(this.prev<u.catchLoc)return r(u.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<u.finallyLoc)return r(u.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var u=i;break}}u&&("break"===e||"continue"===e)&&u.tryLoc<=t&&t<=u.finallyLoc&&(u=null);var a=u?u.completion:{};return a.type=e,a.arg=t,u?(this.method="next",this.next=u.finallyLoc,l):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),l},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),E(n),l}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;E(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:A(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),l}},e}function qe(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function Ge(e){return function(e){if(Array.isArray(e))return a(e)}(e)||qe(e)||o(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ke(e,t,n,r,i,u,a){try{var o=e[u](a),s=o.value}catch(c){return void n(c)}o.done?t(s):Promise.resolve(s).then(r,i)}function He(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var u=e.apply(t,n);function a(e){Ke(u,r,i,a,o,"next",e)}function o(e){Ke(u,r,i,a,o,"throw",e)}a(void 0)}))}}var We=function(){function e(t,n,r){ee(this,e),this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return ne(e,[{key:"setInstantiationMode",value:function(e){return this.instantiationMode=e,this}},{key:"setMultipleInstances",value:function(e){return this.multipleInstances=e,this}},{key:"setServiceProps",value:function(e){return this.serviceProps=e,this}},{key:"setInstanceCreatedCallback",value:function(e){return this.onInstanceCreated=e,this}}]),e}(),Qe="[DEFAULT]",Je=function(){function e(t,n){ee(this,e),this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return ne(e,[{key:"get",value:function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new ke;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(i){}}return this.instancesDeferred.get(t).promise}},{key:"getImmediate",value:function(e){var t,n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}}},{key:"getComponent",value:function(){return this.component}},{key:"setComponent",value:function(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:Qe})}catch(s){}var t,n=re(this.instancesDeferred.entries());try{for(n.s();!(t=n.n()).done;){var r=c(t.value,2),i=r[0],u=r[1],a=this.normalizeInstanceIdentifier(i);try{var o=this.getOrInitializeService({instanceIdentifier:a});u.resolve(o)}catch(s){}}}catch(l){n.e(l)}finally{n.f()}}}},{key:"clearInstance",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Qe;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}},{key:"delete",value:function(){var e=He(ze().mark((function e(){var t;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Array.from(this.instances.values()),e.next=3,Promise.all([].concat(Ge(t.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()}))),Ge(t.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()})))));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"isComponentSet",value:function(){return null!=this.component}},{key:"isInitialized",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Qe;return this.instances.has(e)}},{key:"getOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Qe;return this.instancesOptions.get(e)||{}}},{key:"initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.options,n=void 0===t?{}:t,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error("".concat(this.name,"(").concat(r,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));var i,u=this.getOrInitializeService({instanceIdentifier:r,options:n}),a=re(this.instancesDeferred.entries());try{for(a.s();!(i=a.n()).done;){var o=c(i.value,2),s=o[0],l=o[1],f=this.normalizeInstanceIdentifier(s);r===f&&l.resolve(u)}}catch(h){a.e(h)}finally{a.f()}return u}},{key:"onInit",value:function(e,t){var n,r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);var u=this.instances.get(r);return u&&e(u,r),function(){i.delete(e)}}},{key:"invokeOnInitCallbacks",value:function(e,t){var n=this.onInitCallbacks.get(t);if(n){var r,i=re(n);try{for(i.s();!(r=i.n()).done;){var u=r.value;try{u(e,t)}catch(rA){}}}catch(a){i.e(a)}finally{i.f()}}}},{key:"getOrInitializeService",value:function(e){var t,n=e.instanceIdentifier,r=e.options,i=void 0===r?{}:r,u=this.instances.get(n);if(!u&&this.component&&(u=this.component.instanceFactory(this.container,{instanceIdentifier:(t=n,t===Qe?void 0:t),options:i}),this.instances.set(n,u),this.instancesOptions.set(n,i),this.invokeOnInitCallbacks(u,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,u)}catch(rA){}return u||null}},{key:"normalizeInstanceIdentifier",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Qe;return this.component?this.component.multipleInstances?e:Qe:e}},{key:"shouldAutoInitialize",value:function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}]),e}();var Ye,Xe,$e=function(){function e(t){ee(this,e),this.name=t,this.providers=new Map}return ne(e,[{key:"addComponent",value:function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}},{key:"addOrOverwriteComponent",value:function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}},{key:"getProvider",value:function(e){if(this.providers.has(e))return this.providers.get(e);var t=new Je(e,this);return this.providers.set(e,t),t}},{key:"getProviders",value:function(){return Array.from(this.providers.values())}}]),e}(),Ze=[];!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(Xe||(Xe={}));var et={debug:Xe.DEBUG,verbose:Xe.VERBOSE,info:Xe.INFO,warn:Xe.WARN,error:Xe.ERROR,silent:Xe.SILENT},tt=Xe.INFO,nt=(Z(Ye={},Xe.DEBUG,"log"),Z(Ye,Xe.VERBOSE,"log"),Z(Ye,Xe.INFO,"info"),Z(Ye,Xe.WARN,"warn"),Z(Ye,Xe.ERROR,"error"),Ye),rt=function(e,t){if(!(t<e.logLevel)){var n=(new Date).toISOString(),r=nt[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i,u=arguments.length,a=new Array(u>2?u-2:0),o=2;o<u;o++)a[o-2]=arguments[o];(i=console)[r].apply(i,["[".concat(n,"]  ").concat(e.name,":")].concat(a))}},it=function(){function e(t){ee(this,e),this.name=t,this._logLevel=tt,this._logHandler=rt,this._userLogHandler=null,Ze.push(this)}return ne(e,[{key:"logLevel",get:function(){return this._logLevel},set:function(e){if(!(e in Xe))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}},{key:"setLogLevel",value:function(e){this._logLevel="string"===typeof e?et[e]:e}},{key:"logHandler",get:function(){return this._logHandler},set:function(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}},{key:"userLogHandler",get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e}},{key:"debug",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Xe.DEBUG].concat(t)),this._logHandler.apply(this,[this,Xe.DEBUG].concat(t))}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Xe.VERBOSE].concat(t)),this._logHandler.apply(this,[this,Xe.VERBOSE].concat(t))}},{key:"info",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Xe.INFO].concat(t)),this._logHandler.apply(this,[this,Xe.INFO].concat(t))}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Xe.WARN].concat(t)),this._logHandler.apply(this,[this,Xe.WARN].concat(t))}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Xe.ERROR].concat(t)),this._logHandler.apply(this,[this,Xe.ERROR].concat(t))}}]),e}();function ut(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function at(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ut(Object(n),!0).forEach((function(t){Z(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ut(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ot,st;var ct=new WeakMap,lt=new WeakMap,ft=new WeakMap,ht=new WeakMap,dt=new WeakMap;var pt={get:function(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return lt.get(e);if("objectStoreNames"===t)return e.objectStoreNames||ft.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return yt(e[t])},set:function(e,t,n){return e[t]=n,!0},has:function(e,t){return e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e}};function vt(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(st||(st=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(gt(this),n),yt(ct.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return yt(e.apply(gt(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var u=e.call.apply(e,[gt(this),t].concat(r));return ft.set(u,t.sort?t.sort():[t]),yt(u)}}function mt(e){return"function"===typeof e?vt(e):(e instanceof IDBTransaction&&function(e){if(!lt.has(e)){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("complete",i),e.removeEventListener("error",u),e.removeEventListener("abort",u)},i=function(){t(),r()},u=function(){n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",u),e.addEventListener("abort",u)}));lt.set(e,t)}}(e),t=e,(ot||(ot=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some((function(e){return t instanceof e}))?new Proxy(e,pt):e);var t}function yt(e){if(e instanceof IDBRequest)return function(e){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("success",i),e.removeEventListener("error",u)},i=function(){t(yt(e.result)),r()},u=function(){n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",u)}));return t.then((function(t){t instanceof IDBCursor&&ct.set(t,e)})).catch((function(){})),dt.set(t,e),t}(e);if(ht.has(e))return ht.get(e);var t=mt(e);return t!==e&&(ht.set(e,t),dt.set(t,e)),t}var gt=function(e){return dt.get(e)};var kt,bt,wt=["get","getKey","getAll","getAllKeys","count"],Et=["put","add","delete","clear"],xt=new Map;function At(e,t){if(e instanceof IDBDatabase&&!(t in e)&&"string"===typeof t){if(xt.get(t))return xt.get(t);var n=t.replace(/FromIndex$/,""),r=t!==n,i=Et.includes(n);if(n in(r?IDBIndex:IDBObjectStore).prototype&&(i||wt.includes(n))){var u=function(){var e=He(ze().mark((function e(t){var u,a,o,s,c,l,f=arguments;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(a=this.transaction(t,i?"readwrite":"readonly"),o=a.store,s=f.length,c=new Array(s>1?s-1:0),l=1;l<s;l++)c[l-1]=f[l];return r&&(o=o.index(c.shift())),e.next=6,Promise.all([(u=o)[n].apply(u,c),i&&a.done]);case 6:return e.abrupt("return",e.sent[0]);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}();return xt.set(t,u),u}}}pt=function(e){return at(at({},e),{},{get:function(t,n,r){return At(t,n)||e.get(t,n,r)},has:function(t,n){return!!At(t,n)||e.has(t,n)}})}(pt);var _t=function(){function e(t){ee(this,e),this.container=t}return ne(e,[{key:"getPlatformInfoString",value:function(){return this.container.getProviders().map((function(e){if(function(e){var t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){var t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((function(e){return e})).join(" ")}}]),e}();var Ct="@firebase/app",It="0.7.29",St=new it("@firebase/app"),Tt="[DEFAULT]",Dt=(Z(kt={},Ct,"fire-core"),Z(kt,"@firebase/app-compat","fire-core-compat"),Z(kt,"@firebase/analytics","fire-analytics"),Z(kt,"@firebase/analytics-compat","fire-analytics-compat"),Z(kt,"@firebase/app-check","fire-app-check"),Z(kt,"@firebase/app-check-compat","fire-app-check-compat"),Z(kt,"@firebase/auth","fire-auth"),Z(kt,"@firebase/auth-compat","fire-auth-compat"),Z(kt,"@firebase/database","fire-rtdb"),Z(kt,"@firebase/database-compat","fire-rtdb-compat"),Z(kt,"@firebase/functions","fire-fn"),Z(kt,"@firebase/functions-compat","fire-fn-compat"),Z(kt,"@firebase/installations","fire-iid"),Z(kt,"@firebase/installations-compat","fire-iid-compat"),Z(kt,"@firebase/messaging","fire-fcm"),Z(kt,"@firebase/messaging-compat","fire-fcm-compat"),Z(kt,"@firebase/performance","fire-perf"),Z(kt,"@firebase/performance-compat","fire-perf-compat"),Z(kt,"@firebase/remote-config","fire-rc"),Z(kt,"@firebase/remote-config-compat","fire-rc-compat"),Z(kt,"@firebase/storage","fire-gcs"),Z(kt,"@firebase/storage-compat","fire-gcs-compat"),Z(kt,"@firebase/firestore","fire-fst"),Z(kt,"@firebase/firestore-compat","fire-fst-compat"),Z(kt,"fire-js","fire-js"),Z(kt,"firebase","fire-js-all"),kt),Nt=new Map,Ft=new Map;function Rt(e,t){try{e.container.addComponent(t)}catch(n){St.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),n)}}function Pt(e,t){e.container.addOrOverwriteComponent(t)}function Ot(e){var t=e.name;if(Ft.has(t))return St.debug("There were multiple attempts to register component ".concat(t,".")),!1;Ft.set(t,e);var n,r=re(Nt.values());try{for(r.s();!(n=r.n()).done;){Rt(n.value,e)}}catch(i){r.e(i)}finally{r.f()}return!0}function Bt(e,t){var n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function Lt(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Tt;Bt(e,t).clearInstance(n)}function jt(){Ft.clear()}var Mt=(Z(bt={},"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),Z(bt,"bad-app-name","Illegal App name: '{$appName}"),Z(bt,"duplicate-app","Firebase App named '{$appName}' already exists with different options or config"),Z(bt,"app-deleted","Firebase App named '{$appName}' already deleted"),Z(bt,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),Z(bt,"invalid-log-argument","First argument to `onLog` must be null or a function."),Z(bt,"storage-open","Error thrown when opening storage. Original error: {$originalErrorMessage}."),Z(bt,"storage-get","Error thrown when reading from storage. Original error: {$originalErrorMessage}."),Z(bt,"storage-set","Error thrown when writing to storage. Original error: {$originalErrorMessage}."),Z(bt,"storage-delete","Error thrown when deleting from storage. Original error: {$originalErrorMessage}."),bt),Ut=new Te("app","Firebase",Mt),Vt=function(){function e(t,n,r){var i=this;ee(this,e),this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new We("app",(function(){return i}),"PUBLIC"))}return ne(e,[{key:"automaticDataCollectionEnabled",get:function(){return this.checkDestroyed(),this._automaticDataCollectionEnabled},set:function(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this.checkDestroyed(),this._name}},{key:"options",get:function(){return this.checkDestroyed(),this._options}},{key:"config",get:function(){return this.checkDestroyed(),this._config}},{key:"container",get:function(){return this._container}},{key:"isDeleted",get:function(){return this._isDeleted},set:function(e){this._isDeleted=e}},{key:"checkDestroyed",value:function(){if(this.isDeleted)throw Ut.create("app-deleted",{appName:this._name})}}]),e}(),zt="9.9.1";function qt(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("object"!==typeof t){var n=t;t={name:n}}var r=Object.assign({name:Tt,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!==typeof i||!i)throw Ut.create("bad-app-name",{appName:String(i)});var u=Nt.get(i);if(u){if(Re(e,u.options)&&Re(r,u.config))return u;throw Ut.create("duplicate-app",{appName:i})}var a,o=new $e(i),s=re(Ft.values());try{for(s.s();!(a=s.n()).done;){var c=a.value;o.addComponent(c)}}catch(f){s.e(f)}finally{s.f()}var l=new Vt(e,r,o);return Nt.set(i,l),l}function Gt(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Tt,t=Nt.get(e);if(!t)throw Ut.create("no-app",{appName:e});return t}function Kt(){return Array.from(Nt.values())}function Ht(e){return Wt.apply(this,arguments)}function Wt(){return(Wt=He(ze().mark((function e(t){var n;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.name,!Nt.has(n)){e.next=6;break}return Nt.delete(n),e.next=5,Promise.all(t.container.getProviders().map((function(e){return e.delete()})));case 5:t.isDeleted=!0;case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Qt(e,t,n){var r,i=null!==(r=Dt[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));var u=i.match(/\s|\//),a=t.match(/\s|\//);if(u||a){var o=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return u&&o.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),u&&a&&o.push("and"),a&&o.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void St.warn(o.join(" "))}Ot(new We("".concat(i,"-version"),(function(){return{library:i,version:t}}),"VERSION"))}function Jt(e,t){if(null!==e&&"function"!==typeof e)throw Ut.create("invalid-log-argument");!function(e,t){var n,r=re(Ze);try{var i=function(){var r=n.value,i=null;t&&t.level&&(i=et[t.level]),r.userLogHandler=null===e?null:function(t,n){for(var r=arguments.length,u=new Array(r>2?r-2:0),a=2;a<r;a++)u[a-2]=arguments[a];var o=u.map((function(e){if(null==e)return null;if("string"===typeof e)return e;if("number"===typeof e||"boolean"===typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}})).filter((function(e){return e})).join(" ");n>=(null!==i&&void 0!==i?i:t.logLevel)&&e({level:Xe[n].toLowerCase(),message:o,args:u,type:t.name})}};for(r.s();!(n=r.n()).done;)i()}catch(u){r.e(u)}finally{r.f()}}(e,t)}function Yt(e){var t;t=e,Ze.forEach((function(e){e.setLogLevel(t)}))}var Xt="firebase-heartbeat-store",$t=null;function Zt(){return $t||($t=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.blocked,i=n.upgrade,u=n.blocking,a=n.terminated,o=indexedDB.open(e,t),s=yt(o);return i&&o.addEventListener("upgradeneeded",(function(e){i(yt(o.result),e.oldVersion,e.newVersion,yt(o.transaction))})),r&&o.addEventListener("blocked",(function(){return r()})),s.then((function(e){a&&e.addEventListener("close",(function(){return a()})),u&&e.addEventListener("versionchange",(function(){return u()}))})).catch((function(){})),s}("firebase-heartbeat-database",1,{upgrade:function(e,t){if(0===t)e.createObjectStore(Xt)}}).catch((function(e){throw Ut.create("storage-open",{originalErrorMessage:e.message})}))),$t}function en(e){return tn.apply(this,arguments)}function tn(){return tn=He(ze().mark((function e(t){var n,r;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Zt();case 3:return r=e.sent,e.abrupt("return",r.transaction(Xt).objectStore(Xt).get(un(t)));case 7:throw e.prev=7,e.t0=e.catch(0),Ut.create("storage-get",{originalErrorMessage:null===(n=e.t0)||void 0===n?void 0:n.message});case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),tn.apply(this,arguments)}function nn(e,t){return rn.apply(this,arguments)}function rn(){return rn=He(ze().mark((function e(t,n){var r,i,u,a;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Zt();case 3:return i=e.sent,u=i.transaction(Xt,"readwrite"),a=u.objectStore(Xt),e.next=8,a.put(n,un(t));case 8:return e.abrupt("return",u.done);case 11:throw e.prev=11,e.t0=e.catch(0),Ut.create("storage-set",{originalErrorMessage:null===(r=e.t0)||void 0===r?void 0:r.message});case 14:case"end":return e.stop()}}),e,null,[[0,11]])}))),rn.apply(this,arguments)}function un(e){return"".concat(e.name,"!").concat(e.options.appId)}var an=function(){function e(t){var n=this;ee(this,e),this.container=t,this._heartbeatsCache=null;var r=this.container.getProvider("app").getImmediate();this._storage=new fn(r),this._heartbeatsCachePromise=this._storage.read().then((function(e){return n._heartbeatsCache=e,e}))}return ne(e,[{key:"triggerHeartbeat",value:function(){var e=He(ze().mark((function e(){var t,n,r;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.container.getProvider("platform-logger").getImmediate(),n=t.getPlatformInfoString(),r=on(),null!==this._heartbeatsCache){e.next=7;break}return e.next=6,this._heartbeatsCachePromise;case 6:this._heartbeatsCache=e.sent;case 7:if(this._heartbeatsCache.lastSentHeartbeatDate!==r&&!this._heartbeatsCache.heartbeats.some((function(e){return e.date===r}))){e.next=11;break}return e.abrupt("return");case 11:this._heartbeatsCache.heartbeats.push({date:r,agent:n});case 12:return this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((function(e){var t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),e.abrupt("return",this._storage.overwrite(this._heartbeatsCache));case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getHeartbeatsHeader",value:function(){var e=He(ze().mark((function e(){var t,n,r,i,u;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==this._heartbeatsCache){e.next=3;break}return e.next=3,this._heartbeatsCachePromise;case 3:if(null!==this._heartbeatsCache&&0!==this._heartbeatsCache.heartbeats.length){e.next=5;break}return e.abrupt("return","");case 5:if(t=on(),n=sn(this._heartbeatsCache.heartbeats),r=n.heartbeatsToSend,i=n.unsentEntries,u=me(JSON.stringify({version:2,heartbeats:r})),this._heartbeatsCache.lastSentHeartbeatDate=t,!(i.length>0)){e.next=15;break}return this._heartbeatsCache.heartbeats=i,e.next=13,this._storage.overwrite(this._heartbeatsCache);case 13:e.next=17;break;case 15:this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache);case 17:return e.abrupt("return",u);case 18:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function on(){return(new Date).toISOString().substring(0,10)}function sn(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024,r=[],i=e.slice(),u=re(e);try{var a=function(){var e=t.value,u=r.find((function(t){return t.agent===e.agent}));if(u){if(u.dates.push(e.date),hn(r)>n)return u.dates.pop(),"break"}else if(r.push({agent:e.agent,dates:[e.date]}),hn(r)>n)return r.pop(),"break";i=i.slice(1)};for(u.s();!(t=u.n()).done;){var o=a();if("break"===o)break}}catch(s){u.e(s)}finally{u.f()}return{heartbeatsToSend:r,unsentEntries:i}}var cn,ln,fn=function(){function e(t){ee(this,e),this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}return ne(e,[{key:"runIndexedDBEnvironmentCheck",value:function(){var e=He(ze().mark((function e(){return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Ie()){e.next=4;break}return e.abrupt("return",!1);case 4:return e.abrupt("return",new Promise((function(e,t){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(u){t(u)}})).then((function(){return!0})).catch((function(){return!1})));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"read",value:function(){var e=He(ze().mark((function e(){var t;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return",{heartbeats:[]});case 7:return e.next=9,en(this.app);case 9:return t=e.sent,e.abrupt("return",t||{heartbeats:[]});case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"overwrite",value:function(){var e=He(ze().mark((function e(t){var n,r;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",nn(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:t.heartbeats}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"add",value:function(){var e=He(ze().mark((function e(t){var n,r;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",nn(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:[].concat(Ge(r.heartbeats),Ge(t.heartbeats))}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}();function hn(e){return me(JSON.stringify({version:2,heartbeats:e})).length}cn="",Ot(new We("platform-logger",(function(e){return new _t(e)}),"PRIVATE")),Ot(new We("heartbeat",(function(e){return new an(e)}),"PRIVATE")),Qt(Ct,It,cn),Qt(Ct,It,"esm2017"),Qt("fire-js","");var dn=function(){function e(t,n){var r=this;ee(this,e),this._delegate=t,this.firebase=n,Rt(t,new We("app-compat",(function(){return r}),"PUBLIC")),this.container=t.container}return ne(e,[{key:"automaticDataCollectionEnabled",get:function(){return this._delegate.automaticDataCollectionEnabled},set:function(e){this._delegate.automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this._delegate.name}},{key:"options",get:function(){return this._delegate.options}},{key:"delete",value:function(){var e=this;return new Promise((function(t){e._delegate.checkDestroyed(),t()})).then((function(){return e.firebase.INTERNAL.removeApp(e.name),Ht(e._delegate)}))}},{key:"_getService",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Tt;this._delegate.checkDestroyed();var r=this._delegate.container.getProvider(e);return r.isInitialized()||"EXPLICIT"!==(null===(t=r.getComponent())||void 0===t?void 0:t.instantiationMode)||r.initialize(),r.getImmediate({identifier:n})}},{key:"_removeServiceInstance",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Tt;this._delegate.container.getProvider(e).clearInstance(t)}},{key:"_addComponent",value:function(e){Rt(this._delegate,e)}},{key:"_addOrOverwriteComponent",value:function(e){Pt(this._delegate,e)}},{key:"toJSON",value:function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}]),e}(),pn=(Z(ln={},"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),Z(ln,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),ln),vn=new Te("app-compat","Firebase",pn);var mn=function t(){var n=function(t){var n={},r={__esModule:!0,initializeApp:function(e){var i=qt(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{});if(Fe(n,i.name))return n[i.name];var u=new t(i,r);return n[i.name]=u,u},app:i,registerVersion:Qt,setLogLevel:Yt,onLog:Jt,apps:null,SDK_VERSION:zt,INTERNAL:{registerComponent:function(e){var n=e.name,u=n.replace("-compat","");if(Ot(e)&&"PUBLIC"===e.type){var a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i();if("function"!==typeof e[u])throw vn.create("invalid-app-argument",{appName:n});return e[u]()};void 0!==e.serviceProps&&ge(a,e.serviceProps),r[u]=a,t.prototype[u]=function(){for(var t=this._getService.bind(this,n),r=arguments.length,i=new Array(r),u=0;u<r;u++)i[u]=arguments[u];return t.apply(this,e.multipleInstances?i:[])}}return"PUBLIC"===e.type?r[u]:null},removeApp:function(e){delete n[e]},useAsService:function(e,t){return"serverAuth"===t?null:t},modularAPIs:e}};function i(e){if(!Fe(n,e=e||Tt))throw vn.create("no-app",{appName:e});return n[e]}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(n).map((function(e){return n[e]}))}}),i.App=t,r}(dn);return n.INTERNAL=Object.assign(Object.assign({},n.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(e){ge(n,e)},createSubscribe:je,ErrorFactory:Te,deepExtend:ge}),n}(),yn=new it("@firebase/app-compat");if("object"===typeof self&&self.self===self&&void 0!==self.firebase){yn.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var gn=self.firebase.SDK_VERSION;gn&&gn.indexOf("LITE")>=0&&yn.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var kn=mn;!function(e){Qt("@firebase/app-compat","0.1.30",e)}();function bn(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=oe(e)););return e}function wn(){return wn="undefined"!==typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=bn(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},wn.apply(this,arguments)}kn.registerVersion("firebase","9.9.1","app-compat");function En(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;var xn;Object.create;var An="facebook.com",_n="github.com",Cn="google.com",In="password",Sn="twitter.com",Tn="EMAIL_SIGNIN",Dn="PASSWORD_RESET",Nn="RECOVER_EMAIL",Fn="REVERT_SECOND_FACTOR_ADDITION",Rn="VERIFY_AND_CHANGE_EMAIL",Pn="VERIFY_EMAIL";function On(){return Z({},"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.")}var Bn=function(){var e;return Z(e={},"admin-restricted-operation","This operation is restricted to administrators only."),Z(e,"argument-error",""),Z(e,"app-not-authorized","This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console."),Z(e,"app-not-installed","The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device."),Z(e,"captcha-check-failed","The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains."),Z(e,"code-expired","The SMS code has expired. Please re-send the verification code to try again."),Z(e,"cordova-not-ready","Cordova framework is not ready."),Z(e,"cors-unsupported","This browser is not supported."),Z(e,"credential-already-in-use","This credential is already associated with a different user account."),Z(e,"custom-token-mismatch","The custom token corresponds to a different audience."),Z(e,"requires-recent-login","This operation is sensitive and requires recent authentication. Log in again before retrying this request."),Z(e,"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."),Z(e,"dynamic-link-not-activated","Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions."),Z(e,"email-change-needs-verification","Multi-factor users must always have a verified email."),Z(e,"email-already-in-use","The email address is already in use by another account."),Z(e,"emulator-config-failed",'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.'),Z(e,"expired-action-code","The action code has expired."),Z(e,"cancelled-popup-request","This operation has been cancelled due to another conflicting popup being opened."),Z(e,"internal-error","An internal AuthError has occurred."),Z(e,"invalid-app-credential","The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired."),Z(e,"invalid-app-id","The mobile app identifier is not registed for the current project."),Z(e,"invalid-user-token","This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key."),Z(e,"invalid-auth-event","An internal AuthError has occurred."),Z(e,"invalid-verification-code","The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user."),Z(e,"invalid-continue-uri","The continue URL provided in the request is invalid."),Z(e,"invalid-cordova-configuration","The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme."),Z(e,"invalid-custom-token","The custom token format is incorrect. Please check the documentation."),Z(e,"invalid-dynamic-link-domain","The provided dynamic link domain is not configured or authorized for the current project."),Z(e,"invalid-email","The email address is badly formatted."),Z(e,"invalid-emulator-scheme","Emulator URL must start with a valid scheme (http:// or https://)."),Z(e,"invalid-api-key","Your API key is invalid, please check you have copied it correctly."),Z(e,"invalid-cert-hash","The SHA-1 certificate hash provided is invalid."),Z(e,"invalid-credential","The supplied auth credential is malformed or has expired."),Z(e,"invalid-message-payload","The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console."),Z(e,"invalid-multi-factor-session","The request does not contain a valid proof of first factor successful sign-in."),Z(e,"invalid-oauth-provider","EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers."),Z(e,"invalid-oauth-client-id","The OAuth client ID provided is either invalid or does not match the specified API key."),Z(e,"unauthorized-domain","This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console."),Z(e,"invalid-action-code","The action code is invalid. This can happen if the code is malformed, expired, or has already been used."),Z(e,"wrong-password","The password is invalid or the user does not have a password."),Z(e,"invalid-persistence-type","The specified persistence type is invalid. It can only be local, session or none."),Z(e,"invalid-phone-number","The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code]."),Z(e,"invalid-provider-id","The specified provider ID is invalid."),Z(e,"invalid-recipient-email","The email corresponding to this action failed to send as the provided recipient email address is invalid."),Z(e,"invalid-sender","The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console."),Z(e,"invalid-verification-id","The verification ID used to create the phone auth credential is invalid."),Z(e,"invalid-tenant-id","The Auth instance's tenant ID is invalid."),Z(e,"login-blocked","Login blocked by user-provided method: {$originalMessage}"),Z(e,"missing-android-pkg-name","An Android Package Name must be provided if the Android App is required to be installed."),Z(e,"auth-domain-config-required","Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console."),Z(e,"missing-app-credential","The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided."),Z(e,"missing-verification-code","The phone auth credential was created with an empty SMS verification code."),Z(e,"missing-continue-uri","A continue URL must be provided in the request."),Z(e,"missing-iframe-start","An internal AuthError has occurred."),Z(e,"missing-ios-bundle-id","An iOS Bundle ID must be provided if an App Store ID is provided."),Z(e,"missing-or-invalid-nonce","The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload."),Z(e,"missing-multi-factor-info","No second factor identifier is provided."),Z(e,"missing-multi-factor-session","The request is missing proof of first factor successful sign-in."),Z(e,"missing-phone-number","To send verification codes, provide a phone number for the recipient."),Z(e,"missing-verification-id","The phone auth credential was created with an empty verification ID."),Z(e,"app-deleted","This instance of FirebaseApp has been deleted."),Z(e,"multi-factor-info-not-found","The user does not have a second factor matching the identifier provided."),Z(e,"multi-factor-auth-required","Proof of ownership of a second factor is required to complete sign-in."),Z(e,"account-exists-with-different-credential","An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address."),Z(e,"network-request-failed","A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred."),Z(e,"no-auth-event","An internal AuthError has occurred."),Z(e,"no-such-provider","User was not linked to an account with the given provider."),Z(e,"null-user","A null user object was provided as the argument for an operation which requires a non-null user object."),Z(e,"operation-not-allowed","The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section."),Z(e,"operation-not-supported-in-this-environment",'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.'),Z(e,"popup-blocked","Unable to establish a connection with the popup. It may have been blocked by the browser."),Z(e,"popup-closed-by-user","The popup has been closed by the user before finalizing the operation."),Z(e,"provider-already-linked","User can only be linked to one identity for the given provider."),Z(e,"quota-exceeded","The project's quota for this operation has been exceeded."),Z(e,"redirect-cancelled-by-user","The redirect operation has been cancelled by the user before finalizing."),Z(e,"redirect-operation-pending","A redirect sign-in operation is already pending."),Z(e,"rejected-credential","The request contains malformed or mismatching credentials."),Z(e,"second-factor-already-in-use","The second factor is already enrolled on this account."),Z(e,"maximum-second-factor-count-exceeded","The maximum allowed number of second factors on a user has been exceeded."),Z(e,"tenant-id-mismatch","The provided tenant ID does not match the Auth instance's tenant ID"),Z(e,"timeout","The operation has timed out."),Z(e,"user-token-expired","The user's credential is no longer valid. The user must sign in again."),Z(e,"too-many-requests","We have blocked all requests from this device due to unusual activity. Try again later."),Z(e,"unauthorized-continue-uri","The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console."),Z(e,"unsupported-first-factor","Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor."),Z(e,"unsupported-persistence-type","The current environment does not support the specified persistence type."),Z(e,"unsupported-tenant-operation","This operation is not supported in a multi-tenant context."),Z(e,"unverified-email","The operation requires a verified email."),Z(e,"user-cancelled","The user did not grant your application the permissions it requested."),Z(e,"user-not-found","There is no user record corresponding to this identifier. The user may have been deleted."),Z(e,"user-disabled","The user account has been disabled by an administrator."),Z(e,"user-mismatch","The supplied credentials do not correspond to the previously signed in user."),Z(e,"user-signed-out",""),Z(e,"weak-password","The password must be 6 characters long or more."),Z(e,"web-storage-unsupported","This browser is not supported or 3rd party cookies and data may be disabled."),Z(e,"already-initialized","initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."),e},Ln=On,jn=new Te("auth","Firebase",On()),Mn=new it("@firebase/auth");function Un(e){if(Mn.logLevel<=Xe.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];Mn.error.apply(Mn,["Auth (".concat(zt,"): ").concat(e)].concat(n))}}function Vn(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Kn.apply(void 0,[e].concat(n))}function zn(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Kn.apply(void 0,[e].concat(n))}function qn(e,t,n){var r=Object.assign(Object.assign({},Ln()),Z({},t,n));return new Te("auth","Firebase",r).create(t,{appName:e.name})}function Gn(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&Vn(e,"argument-error"),qn(e,"argument-error","Type of ".concat(t.constructor.name," does not match expected instance.")+"Did you pass a reference from a different Auth SDK?")}function Kn(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){var i,u=n[0],a=Ge(n.slice(1));return a[0]&&(a[0].appName=e.name),(i=e._errorFactory).create.apply(i,[u].concat(Ge(a)))}return jn.create.apply(jn,[e].concat(n))}function Hn(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw Kn.apply(void 0,[t].concat(r))}}function Wn(e){var t="INTERNAL ASSERTION FAILED: "+e;throw Un(t),new Error(t)}function Qn(e,t){e||Wn(t)}var Jn=new Map;function Yn(e){Qn(e instanceof Function,"Expected a class definition");var t=Jn.get(e);return t?(Qn(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,Jn.set(e,t),t)}function Xn(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function $n(){return"http:"===Zn()||"https:"===Zn()}function Zn(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}var er=function(){function e(t,n){ee(this,e),this.shortDelay=t,this.longDelay=n,Qn(n>t,"Short delay should be less than long delay!"),this.isMobile=Ee()||_e()}return ne(e,[{key:"get",value:function(){return"undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&($n()||Ae()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}]),e}();function tr(e,t){Qn(e.emulator,"Emulator should always be set here");var n=e.emulator.url;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}var nr=function(){function e(){ee(this,e)}return ne(e,null,[{key:"initialize",value:function(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}},{key:"fetch",value:function(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:void Wn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"headers",value:function(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:void Wn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"response",value:function(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:void Wn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}]),e}(),rr=(Z(xn={},"CREDENTIAL_MISMATCH","custom-token-mismatch"),Z(xn,"MISSING_CUSTOM_TOKEN","internal-error"),Z(xn,"INVALID_IDENTIFIER","invalid-email"),Z(xn,"MISSING_CONTINUE_URI","internal-error"),Z(xn,"INVALID_PASSWORD","wrong-password"),Z(xn,"MISSING_PASSWORD","internal-error"),Z(xn,"EMAIL_EXISTS","email-already-in-use"),Z(xn,"PASSWORD_LOGIN_DISABLED","operation-not-allowed"),Z(xn,"INVALID_IDP_RESPONSE","invalid-credential"),Z(xn,"INVALID_PENDING_TOKEN","invalid-credential"),Z(xn,"FEDERATED_USER_ID_ALREADY_LINKED","credential-already-in-use"),Z(xn,"MISSING_REQ_TYPE","internal-error"),Z(xn,"EMAIL_NOT_FOUND","user-not-found"),Z(xn,"RESET_PASSWORD_EXCEED_LIMIT","too-many-requests"),Z(xn,"EXPIRED_OOB_CODE","expired-action-code"),Z(xn,"INVALID_OOB_CODE","invalid-action-code"),Z(xn,"MISSING_OOB_CODE","internal-error"),Z(xn,"CREDENTIAL_TOO_OLD_LOGIN_AGAIN","requires-recent-login"),Z(xn,"INVALID_ID_TOKEN","invalid-user-token"),Z(xn,"TOKEN_EXPIRED","user-token-expired"),Z(xn,"USER_NOT_FOUND","user-token-expired"),Z(xn,"TOO_MANY_ATTEMPTS_TRY_LATER","too-many-requests"),Z(xn,"INVALID_CODE","invalid-verification-code"),Z(xn,"INVALID_SESSION_INFO","invalid-verification-id"),Z(xn,"INVALID_TEMPORARY_PROOF","invalid-credential"),Z(xn,"MISSING_SESSION_INFO","missing-verification-id"),Z(xn,"SESSION_EXPIRED","code-expired"),Z(xn,"MISSING_ANDROID_PACKAGE_NAME","missing-android-pkg-name"),Z(xn,"UNAUTHORIZED_DOMAIN","unauthorized-continue-uri"),Z(xn,"INVALID_OAUTH_CLIENT_ID","invalid-oauth-client-id"),Z(xn,"ADMIN_ONLY_OPERATION","admin-restricted-operation"),Z(xn,"INVALID_MFA_PENDING_CREDENTIAL","invalid-multi-factor-session"),Z(xn,"MFA_ENROLLMENT_NOT_FOUND","multi-factor-info-not-found"),Z(xn,"MISSING_MFA_ENROLLMENT_ID","missing-multi-factor-info"),Z(xn,"MISSING_MFA_PENDING_CREDENTIAL","missing-multi-factor-session"),Z(xn,"SECOND_FACTOR_EXISTS","second-factor-already-in-use"),Z(xn,"SECOND_FACTOR_LIMIT_EXCEEDED","maximum-second-factor-count-exceeded"),Z(xn,"BLOCKING_FUNCTION_ERROR_RESPONSE","internal-error"),xn),ir=new er(3e4,6e4);function ur(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}function ar(e,t,n,r){return or.apply(this,arguments)}function or(){return or=He(ze().mark((function e(t,n,r,i){var u,a=arguments;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u=a.length>4&&void 0!==a[4]?a[4]:{},e.abrupt("return",sr(t,u,He(ze().mark((function e(){var u,a,o,s;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u={},a={},i&&("GET"===n?a=i:u={body:JSON.stringify(i)}),o=Oe(Object.assign({key:t.config.apiKey},a)).slice(1),e.next=6,t._getAdditionalHeaders();case 6:return(s=e.sent)["Content-Type"]="application/json",t.languageCode&&(s["X-Firebase-Locale"]=t.languageCode),e.abrupt("return",nr.fetch()(hr(t,t.config.apiHost,r,o),Object.assign({method:n,headers:s,referrerPolicy:"no-referrer"},u)));case 10:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e)}))),or.apply(this,arguments)}function sr(e,t,n){return cr.apply(this,arguments)}function cr(){return cr=He(ze().mark((function e(t,n,r){var i,u,a,o,s,l,f,h,d,p;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t._canInitEmulator=!1,i=Object.assign(Object.assign({},rr),n),e.prev=2,u=new dr(t),e.next=6,Promise.race([r(),u.promise]);case 6:return a=e.sent,u.clearNetworkTimeout(),e.next=10,a.json();case 10:if(!("needConfirmation"in(o=e.sent))){e.next=13;break}throw pr(t,"account-exists-with-different-credential",o);case 13:if(!a.ok||"errorMessage"in o){e.next=17;break}return e.abrupt("return",o);case 17:if(s=a.ok?o.errorMessage:o.error.message,l=s.split(" : "),f=c(l,2),h=f[0],d=f[1],"FEDERATED_USER_ID_ALREADY_LINKED"!==h){e.next=23;break}throw pr(t,"credential-already-in-use",o);case 23:if("EMAIL_EXISTS"!==h){e.next=27;break}throw pr(t,"email-already-in-use",o);case 27:if("USER_DISABLED"!==h){e.next=29;break}throw pr(t,"user-disabled",o);case 29:if(p=i[h]||h.toLowerCase().replace(/[_\s]+/g,"-"),!d){e.next=34;break}throw qn(t,p,d);case 34:Vn(t,p);case 35:e.next=42;break;case 37:if(e.prev=37,e.t0=e.catch(2),!(e.t0 instanceof Se)){e.next=41;break}throw e.t0;case 41:Vn(t,"network-request-failed");case 42:case"end":return e.stop()}}),e,null,[[2,37]])}))),cr.apply(this,arguments)}function lr(e,t,n,r){return fr.apply(this,arguments)}function fr(){return fr=He(ze().mark((function e(t,n,r,i){var u,a,o=arguments;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u=o.length>4&&void 0!==o[4]?o[4]:{},e.next=3,ar(t,n,r,i,u);case 3:return"mfaPendingCredential"in(a=e.sent)&&Vn(t,"multi-factor-auth-required",{_serverResponse:a}),e.abrupt("return",a);case 6:case"end":return e.stop()}}),e)}))),fr.apply(this,arguments)}function hr(e,t,n,r){var i="".concat(t).concat(n,"?").concat(r);return e.config.emulator?tr(e.config,i):"".concat(e.config.apiScheme,"://").concat(i)}var dr=function(){function e(t){var n=this;ee(this,e),this.auth=t,this.timer=null,this.promise=new Promise((function(e,t){n.timer=setTimeout((function(){return t(zn(n.auth,"network-request-failed"))}),ir.get())}))}return ne(e,[{key:"clearNetworkTimeout",value:function(){clearTimeout(this.timer)}}]),e}();function pr(e,t,n){var r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);var i=zn(e,t,r);return i.customData._tokenResponse=n,i}function vr(e,t){return mr.apply(this,arguments)}function mr(){return mr=He(ze().mark((function e(t,n){return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ar(t,"POST","/v1/accounts:delete",n));case 1:case"end":return e.stop()}}),e)}))),mr.apply(this,arguments)}function yr(e,t){return gr.apply(this,arguments)}function gr(){return gr=He(ze().mark((function e(t,n){return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ar(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),gr.apply(this,arguments)}function kr(e,t){return br.apply(this,arguments)}function br(){return br=He(ze().mark((function e(t,n){return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ar(t,"POST","/v1/accounts:lookup",n));case 1:case"end":return e.stop()}}),e)}))),br.apply(this,arguments)}function wr(e){if(e)try{var t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(n){}}function Er(){return Er=He(ze().mark((function e(t){var n,r,i,u,a,o,s=arguments;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=s.length>1&&void 0!==s[1]&&s[1],r=Ve(t),e.next=4,r.getIdToken(n);case 4:return i=e.sent,Hn((u=Ar(i))&&u.exp&&u.auth_time&&u.iat,r.auth,"internal-error"),a="object"===typeof u.firebase?u.firebase:void 0,o=null===a||void 0===a?void 0:a.sign_in_provider,e.abrupt("return",{claims:u,token:i,authTime:wr(xr(u.auth_time)),issuedAtTime:wr(xr(u.iat)),expirationTime:wr(xr(u.exp)),signInProvider:o||null,signInSecondFactor:(null===a||void 0===a?void 0:a.sign_in_second_factor)||null});case 10:case"end":return e.stop()}}),e)}))),Er.apply(this,arguments)}function xr(e){return 1e3*Number(e)}function Ar(e){var t,n=c(e.split("."),3),r=n[0],i=n[1],u=n[2];if(void 0===r||void 0===i||void 0===u)return Un("JWT malformed, contained fewer than 3 sections"),null;try{var a=ye(i);return a?JSON.parse(a):(Un("Failed to decode base64 JWT payload"),null)}catch(o){return Un("Caught error parsing JWT payload as JSON",null===(t=o)||void 0===t?void 0:t.toString()),null}}function _r(e,t){return Cr.apply(this,arguments)}function Cr(){return Cr=He(ze().mark((function e(t,n){var r=arguments;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r.length>2&&void 0!==r[2]&&r[2])){e.next=3;break}return e.abrupt("return",n);case 3:return e.prev=3,e.next=6,n;case 6:return e.abrupt("return",e.sent);case 9:if(e.prev=9,e.t0=e.catch(3),!(e.t0 instanceof Se&&Ir(e.t0))){e.next=15;break}if(t.auth.currentUser!==t){e.next=15;break}return e.next=15,t.auth.signOut();case 15:throw e.t0;case 16:case"end":return e.stop()}}),e,null,[[3,9]])}))),Cr.apply(this,arguments)}function Ir(e){var t=e.code;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}var Sr=function(){function e(t){ee(this,e),this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}return ne(e,[{key:"_start",value:function(){this.isRunning||(this.isRunning=!0,this.schedule())}},{key:"_stop",value:function(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}},{key:"getInterval",value:function(e){var t;if(e){var n=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),n}this.errorBackoff=3e4;var r=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,r)}},{key:"schedule",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isRunning){var n=this.getInterval(t);this.timerId=setTimeout(He(ze().mark((function t(){return ze().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.iteration();case 2:case"end":return t.stop()}}),t)}))),n)}}},{key:"iteration",value:function(){var e=He(ze().mark((function e(){var t;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.user.getIdToken(!0);case 3:e.next=9;break;case 5:return e.prev=5,e.t0=e.catch(0),(null===(t=e.t0)||void 0===t?void 0:t.code)==="auth/".concat("network-request-failed")&&this.schedule(!0),e.abrupt("return");case 9:this.schedule();case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(){return e.apply(this,arguments)}}()}]),e}(),Tr=function(){function e(t,n){ee(this,e),this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}return ne(e,[{key:"_initializeTime",value:function(){this.lastSignInTime=wr(this.lastLoginAt),this.creationTime=wr(this.createdAt)}},{key:"_copy",value:function(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}},{key:"toJSON",value:function(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}]),e}();function Dr(e){return Nr.apply(this,arguments)}function Nr(){return Nr=He(ze().mark((function e(t){var n,r,i,u,a,o,s,c,l,f,h;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.auth,e.next=3,t.getIdToken();case 3:return i=e.sent,e.next=6,_r(t,kr(r,{idToken:i}));case 6:Hn(null===(u=e.sent)||void 0===u?void 0:u.users.length,r,"internal-error"),a=u.users[0],t._notifyReloadListener(a),o=(null===(n=a.providerUserInfo)||void 0===n?void 0:n.length)?Pr(a.providerUserInfo):[],s=Rr(t.providerData,o),c=t.isAnonymous,l=!(t.email&&a.passwordHash)&&!(null===s||void 0===s?void 0:s.length),f=!!c&&l,h={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:s,metadata:new Tr(a.createdAt,a.lastLoginAt),isAnonymous:f},Object.assign(t,h);case 17:case"end":return e.stop()}}),e)}))),Nr.apply(this,arguments)}function Fr(){return(Fr=He(ze().mark((function e(t){var n;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Ve(t),e.next=3,Dr(n);case 3:return e.next=5,n.auth._persistUserIfCurrent(n);case 5:n.auth._notifyListenersIfCurrent(n);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Rr(e,t){var n=e.filter((function(e){return!t.some((function(t){return t.providerId===e.providerId}))}));return[].concat(Ge(n),Ge(t))}function Pr(e){return e.map((function(e){var t=e.providerId,n=En(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}}))}function Or(e,t){return Br.apply(this,arguments)}function Br(){return Br=He(ze().mark((function e(t,n){var r;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,sr(t,{},He(ze().mark((function e(){var r,i,u,a,o,s;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Oe({grant_type:"refresh_token",refresh_token:n}).slice(1),i=t.config,u=i.tokenApiHost,a=i.apiKey,o=hr(t,u,"/v1/token","key=".concat(a)),e.next=5,t._getAdditionalHeaders();case 5:return(s=e.sent)["Content-Type"]="application/x-www-form-urlencoded",e.abrupt("return",nr.fetch()(o,{method:"POST",headers:s,body:r}));case 8:case"end":return e.stop()}}),e)}))));case 2:return r=e.sent,e.abrupt("return",{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token});case 4:case"end":return e.stop()}}),e)}))),Br.apply(this,arguments)}var Lr=function(){function e(){ee(this,e),this.refreshToken=null,this.accessToken=null,this.expirationTime=null}return ne(e,[{key:"isExpired",get:function(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}},{key:"updateFromServerResponse",value:function(e){Hn(e.idToken,"internal-error"),Hn("undefined"!==typeof e.idToken,"internal-error"),Hn("undefined"!==typeof e.refreshToken,"internal-error");var t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):function(e){var t=Ar(e);return Hn(t,"internal-error"),Hn("undefined"!==typeof t.exp,"internal-error"),Hn("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}},{key:"getToken",value:function(){var e=He(ze().mark((function e(t){var n,r=arguments;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.length>1&&void 0!==r[1]&&r[1],Hn(!this.accessToken||this.refreshToken,t,"user-token-expired"),n||!this.accessToken||this.isExpired){e.next=4;break}return e.abrupt("return",this.accessToken);case 4:if(!this.refreshToken){e.next=8;break}return e.next=7,this.refresh(t,this.refreshToken);case 7:return e.abrupt("return",this.accessToken);case 8:return e.abrupt("return",null);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearRefreshToken",value:function(){this.refreshToken=null}},{key:"refresh",value:function(){var e=He(ze().mark((function e(t,n){var r,i,u,a;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Or(t,n);case 2:r=e.sent,i=r.accessToken,u=r.refreshToken,a=r.expiresIn,this.updateTokensAndExpiration(i,u,Number(a));case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"updateTokensAndExpiration",value:function(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}},{key:"toJSON",value:function(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}},{key:"_assign",value:function(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}},{key:"_clone",value:function(){return Object.assign(new e,this.toJSON())}},{key:"_performRefresh",value:function(){return Wn("not implemented")}}],[{key:"fromJSON",value:function(t,n){var r=n.refreshToken,i=n.accessToken,u=n.expirationTime,a=new e;return r&&(Hn("string"===typeof r,"internal-error",{appName:t}),a.refreshToken=r),i&&(Hn("string"===typeof i,"internal-error",{appName:t}),a.accessToken=i),u&&(Hn("number"===typeof u,"internal-error",{appName:t}),a.expirationTime=u),a}}]),e}();function jr(e,t){Hn("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}var Mr=function(){function e(t){ee(this,e);var n=t.uid,r=t.auth,i=t.stsTokenManager,u=En(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Sr(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=u.displayName||null,this.email=u.email||null,this.emailVerified=u.emailVerified||!1,this.phoneNumber=u.phoneNumber||null,this.photoURL=u.photoURL||null,this.isAnonymous=u.isAnonymous||!1,this.tenantId=u.tenantId||null,this.providerData=u.providerData?Ge(u.providerData):[],this.metadata=new Tr(u.createdAt||void 0,u.lastLoginAt||void 0)}return ne(e,[{key:"getIdToken",value:function(){var e=He(ze().mark((function e(t){var n;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_r(this,this.stsTokenManager.getToken(this.auth,t));case 2:if(Hn(n=e.sent,this.auth,"internal-error"),this.accessToken===n){e.next=9;break}return this.accessToken=n,e.next=8,this.auth._persistUserIfCurrent(this);case 8:this.auth._notifyListenersIfCurrent(this);case 9:return e.abrupt("return",n);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getIdTokenResult",value:function(e){return function(e){return Er.apply(this,arguments)}(this,e)}},{key:"reload",value:function(){return function(e){return Fr.apply(this,arguments)}(this)}},{key:"_assign",value:function(e){this!==e&&(Hn(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((function(e){return Object.assign({},e)})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}},{key:"_clone",value:function(t){return new e(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}))}},{key:"_onReload",value:function(e){Hn(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}},{key:"_notifyReloadListener",value:function(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}},{key:"_startProactiveRefresh",value:function(){this.proactiveRefresh._start()}},{key:"_stopProactiveRefresh",value:function(){this.proactiveRefresh._stop()}},{key:"_updateTokensIfNecessary",value:function(){var e=He(ze().mark((function e(t){var n,r,i=arguments;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],r=!1,t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),!n){e.next=6;break}return e.next=6,Dr(this);case 6:return e.next=8,this.auth._persistUserIfCurrent(this);case 8:r&&this.auth._notifyListenersIfCurrent(this);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var e=He(ze().mark((function e(){var t;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getIdToken();case 2:return t=e.sent,e.next=5,_r(this,vr(this.auth,{idToken:t}));case 5:return this.stsTokenManager.clearRefreshToken(),e.abrupt("return",this.auth.signOut());case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"toJSON",value:function(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((function(e){return Object.assign({},e)})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}},{key:"refreshToken",get:function(){return this.stsTokenManager.refreshToken||""}}],[{key:"_fromJSON",value:function(t,n){var r,i,u,a,o,s,c,l,f=null!==(r=n.displayName)&&void 0!==r?r:void 0,h=null!==(i=n.email)&&void 0!==i?i:void 0,d=null!==(u=n.phoneNumber)&&void 0!==u?u:void 0,p=null!==(a=n.photoURL)&&void 0!==a?a:void 0,v=null!==(o=n.tenantId)&&void 0!==o?o:void 0,m=null!==(s=n._redirectEventId)&&void 0!==s?s:void 0,y=null!==(c=n.createdAt)&&void 0!==c?c:void 0,g=null!==(l=n.lastLoginAt)&&void 0!==l?l:void 0,k=n.uid,b=n.emailVerified,w=n.isAnonymous,E=n.providerData,x=n.stsTokenManager;Hn(k&&x,t,"internal-error");var A=Lr.fromJSON(this.name,x);Hn("string"===typeof k,t,"internal-error"),jr(f,t.name),jr(h,t.name),Hn("boolean"===typeof b,t,"internal-error"),Hn("boolean"===typeof w,t,"internal-error"),jr(d,t.name),jr(p,t.name),jr(v,t.name),jr(m,t.name),jr(y,t.name),jr(g,t.name);var _=new e({uid:k,auth:t,email:h,emailVerified:b,displayName:f,isAnonymous:w,photoURL:p,phoneNumber:d,tenantId:v,stsTokenManager:A,createdAt:y,lastLoginAt:g});return E&&Array.isArray(E)&&(_.providerData=E.map((function(e){return Object.assign({},e)}))),m&&(_._redirectEventId=m),_}},{key:"_fromIdTokenResponse",value:function(){var t=He(ze().mark((function t(n,r){var i,u,a,o=arguments;return ze().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=o.length>2&&void 0!==o[2]&&o[2],(u=new Lr).updateFromServerResponse(r),a=new e({uid:r.localId,auth:n,stsTokenManager:u,isAnonymous:i}),t.next=6,Dr(a);case 6:return t.abrupt("return",a);case 7:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}]),e}(),Ur=function(){function e(){ee(this,e),this.type="NONE",this.storage={}}return ne(e,[{key:"_isAvailable",value:function(){var e=He(ze().mark((function e(){return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",!0);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=He(ze().mark((function e(t,n){return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.storage[t]=n;case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=He(ze().mark((function e(t){var n;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.storage[t],e.abrupt("return",void 0===n?null:n);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=He(ze().mark((function e(t){return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:delete this.storage[t];case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),e}();Ur.type="NONE";var Vr=Ur;function zr(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}var qr=function(){function e(t,n,r){ee(this,e),this.persistence=t,this.auth=n,this.userKey=r;var i=this.auth,u=i.config,a=i.name;this.fullUserKey=zr(this.userKey,u.apiKey,a),this.fullPersistenceKey=zr("persistence",u.apiKey,a),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}return ne(e,[{key:"setCurrentUser",value:function(e){return this.persistence._set(this.fullUserKey,e.toJSON())}},{key:"getCurrentUser",value:function(){var e=He(ze().mark((function e(){var t;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.persistence._get(this.fullUserKey);case 2:return t=e.sent,e.abrupt("return",t?Mr._fromJSON(this.auth,t):null);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"removeCurrentUser",value:function(){return this.persistence._remove(this.fullUserKey)}},{key:"savePersistenceForRedirect",value:function(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}},{key:"setPersistence",value:function(){var e=He(ze().mark((function e(t){var n;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.persistence!==t){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.getCurrentUser();case 4:return n=e.sent,e.next=7,this.removeCurrentUser();case 7:if(this.persistence=t,!n){e.next=10;break}return e.abrupt("return",this.setCurrentUser(n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}}],[{key:"create",value:function(){var t=He(ze().mark((function t(n,r){var i,u,a,o,s,c,l,f,h,d,p,v=arguments;return ze().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=v.length>2&&void 0!==v[2]?v[2]:"authUser",r.length){t.next=3;break}return t.abrupt("return",new e(Yn(Vr),n,i));case 3:return t.next=5,Promise.all(r.map(function(){var e=He(ze().mark((function e(t){return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._isAvailable();case 2:if(!e.sent){e.next=4;break}return e.abrupt("return",t);case 4:return e.abrupt("return",void 0);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 5:u=t.sent.filter((function(e){return e})),a=u[0]||Yn(Vr),o=zr(i,n.config.apiKey,n.name),s=null,c=re(r),t.prev=10,c.s();case 12:if((l=c.n()).done){t.next=29;break}return f=l.value,t.prev=14,t.next=17,f._get(o);case 17:if(!(h=t.sent)){t.next=23;break}return d=Mr._fromJSON(n,h),f!==a&&(s=d),a=f,t.abrupt("break",29);case 23:t.next=27;break;case 25:t.prev=25,t.t0=t.catch(14);case 27:t.next=12;break;case 29:t.next=34;break;case 31:t.prev=31,t.t1=t.catch(10),c.e(t.t1);case 34:return t.prev=34,c.f(),t.finish(34);case 37:if(p=u.filter((function(e){return e._shouldAllowMigration})),a._shouldAllowMigration&&p.length){t.next=40;break}return t.abrupt("return",new e(a,n,i));case 40:if(a=p[0],!s){t.next=44;break}return t.next=44,a._set(o,s.toJSON());case 44:return t.next=46,Promise.all(r.map(function(){var e=He(ze().mark((function e(t){return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t===a){e.next=8;break}return e.prev=1,e.next=4,t._remove(o);case 4:e.next=8;break;case 6:e.prev=6,e.t0=e.catch(1);case 8:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}()));case 46:return t.abrupt("return",new e(a,n,i));case 47:case"end":return t.stop()}}),t,null,[[10,31,34,37],[14,25]])})));return function(e,n){return t.apply(this,arguments)}}()}]),e}();function Gr(e){var t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(Qr(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(Kr(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(Yr(t))return"Blackberry";if(Xr(t))return"Webos";if(Hr(t))return"Safari";if((t.includes("chrome/")||Wr(t))&&!t.includes("edge/"))return"Chrome";if(Jr(t))return"Android";var n=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);return 2===(null===n||void 0===n?void 0:n.length)?n[1]:"Other"}function Kr(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:we();return/firefox\//i.test(e)}function Hr(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:we(),t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function Wr(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:we();return/crios\//i.test(e)}function Qr(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:we();return/iemobile/i.test(e)}function Jr(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:we();return/android/i.test(e)}function Yr(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:we();return/blackberry/i.test(e)}function Xr(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:we();return/webos/i.test(e)}function $r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:we();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function Zr(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:we();return $r(t)&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}function ei(){return Ce()&&10===document.documentMode}function ti(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:we();return $r(e)||Jr(e)||Xr(e)||Yr(e)||/windows phone/i.test(e)||Qr(e)}function ni(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=Gr(we());break;case"Worker":t="".concat(Gr(we()),"-").concat(e);break;default:t=e}var r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(zt,"/").concat(r)}var ri=function(){function e(t){ee(this,e),this.auth=t,this.queue=[]}return ne(e,[{key:"pushCallback",value:function(e,t){var n=this,r=function(t){return new Promise((function(n,r){try{n(e(t))}catch(i){r(i)}}))};r.onAbort=t,this.queue.push(r);var i=this.queue.length-1;return function(){n.queue[i]=function(){return Promise.resolve()}}}},{key:"runMiddleware",value:function(){var e=He(ze().mark((function e(t){var n,r,i,u,a,o,s,c;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.auth.currentUser!==t){e.next=2;break}return e.abrupt("return");case 2:r=[],e.prev=3,i=re(this.queue),e.prev=5,i.s();case 7:if((u=i.n()).done){e.next=14;break}return a=u.value,e.next=11,a(t);case 11:a.onAbort&&r.push(a.onAbort);case 12:e.next=7;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(5),i.e(e.t0);case 19:return e.prev=19,i.f(),e.finish(19);case 22:e.next=30;break;case 24:e.prev=24,e.t1=e.catch(3),r.reverse(),o=re(r);try{for(o.s();!(s=o.n()).done;){c=s.value;try{c()}catch(l){}}}catch(f){o.e(f)}finally{o.f()}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===(n=e.t1)||void 0===n?void 0:n.message});case 30:case"end":return e.stop()}}),e,this,[[3,24],[5,16,19,22]])})));return function(t){return e.apply(this,arguments)}}()}]),e}(),ii=function(){function e(t,n,r){ee(this,e),this.app=t,this.heartbeatServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ai(this),this.idTokenSubscription=new ai(this),this.beforeStateQueue=new ri(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=jn,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=r.sdkClientVersion}return ne(e,[{key:"_initializeWithPersistence",value:function(e,t){var n=this;return t&&(this._popupRedirectResolver=Yn(t)),this._initializationPromise=this.queue(He(ze().mark((function r(){var i,u;return ze().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!n._deleted){r.next=2;break}return r.abrupt("return");case 2:return r.next=4,qr.create(n,e);case 4:if(n.persistenceManager=r.sent,!n._deleted){r.next=7;break}return r.abrupt("return");case 7:if(!(null===(i=n._popupRedirectResolver)||void 0===i?void 0:i._shouldInitProactively)){r.next=15;break}return r.prev=8,r.next=11,n._popupRedirectResolver._initialize(n);case 11:r.next=15;break;case 13:r.prev=13,r.t0=r.catch(8);case 15:return r.next=17,n.initializeCurrentUser(t);case 17:if(n.lastNotifiedUid=(null===(u=n.currentUser)||void 0===u?void 0:u.uid)||null,!n._deleted){r.next=20;break}return r.abrupt("return");case 20:n._isInitialized=!0;case 21:case"end":return r.stop()}}),r,null,[[8,13]])})))),this._initializationPromise}},{key:"_onStorageEvent",value:function(){var e=He(ze().mark((function e(){var t;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._deleted){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.assertedPersistence.getCurrentUser();case 4:if(t=e.sent,this.currentUser||t){e.next=7;break}return e.abrupt("return");case 7:if(!this.currentUser||!t||this.currentUser.uid!==t.uid){e.next=12;break}return this._currentUser._assign(t),e.next=11,this.currentUser.getIdToken();case 11:return e.abrupt("return");case 12:return e.next=14,this._updateCurrentUser(t,!0);case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeCurrentUser",value:function(){var e=He(ze().mark((function e(t){var n,r,i,u,a,o,s;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.assertedPersistence.getCurrentUser();case 2:if(r=e.sent,i=r,u=!1,!t||!this.config.authDomain){e.next=14;break}return e.next=8,this.getOrInitRedirectPersistenceManager();case 8:return a=null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId,o=null===i||void 0===i?void 0:i._redirectEventId,e.next=12,this.tryRedirectSignIn(t);case 12:s=e.sent,a&&a!==o||!(null===s||void 0===s?void 0:s.user)||(i=s.user,u=!0);case 14:if(i){e.next=16;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 16:if(i._redirectEventId){e.next=32;break}if(!u){e.next=27;break}return e.prev=18,e.next=21,this.beforeStateQueue.runMiddleware(i);case 21:e.next=27;break;case 23:e.prev=23,e.t0=e.catch(18),i=r,this._popupRedirectResolver._overrideRedirectResult(this,(function(){return Promise.reject(e.t0)}));case 27:if(!i){e.next=31;break}return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(i));case 31:return e.abrupt("return",this.directlySetCurrentUser(null));case 32:return Hn(this._popupRedirectResolver,this,"argument-error"),e.next=35,this.getOrInitRedirectPersistenceManager();case 35:if(!this.redirectUser||this.redirectUser._redirectEventId!==i._redirectEventId){e.next=37;break}return e.abrupt("return",this.directlySetCurrentUser(i));case 37:return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(i));case 38:case"end":return e.stop()}}),e,this,[[18,23]])})));return function(t){return e.apply(this,arguments)}}()},{key:"tryRedirectSignIn",value:function(){var e=He(ze().mark((function e(t){var n;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=null,e.prev=1,e.next=4,this._popupRedirectResolver._completeRedirectFn(this,t,!0);case 4:n=e.sent,e.next=11;break;case 7:return e.prev=7,e.t0=e.catch(1),e.next=11,this._setRedirectUser(null);case 11:return e.abrupt("return",n);case 12:case"end":return e.stop()}}),e,this,[[1,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"reloadAndSetCurrentUserOrClear",value:function(){var e=He(ze().mark((function e(t){var n;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Dr(t);case 3:e.next=9;break;case 5:if(e.prev=5,e.t0=e.catch(0),(null===(n=e.t0)||void 0===n?void 0:n.code)==="auth/".concat("network-request-failed")){e.next=9;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 9:return e.abrupt("return",this.directlySetCurrentUser(t));case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(t){return e.apply(this,arguments)}}()},{key:"useDeviceLanguage",value:function(){this.languageCode=function(){if("undefined"===typeof navigator)return null;var e=navigator;return e.languages&&e.languages[0]||e.language||null}()}},{key:"_delete",value:function(){var e=He(ze().mark((function e(){return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this._deleted=!0;case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(){var e=He(ze().mark((function e(t){var n;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=t?Ve(t):null)&&Hn(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),e.abrupt("return",this._updateCurrentUser(n&&n._clone(this)));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_updateCurrentUser",value:function(){var e=He(ze().mark((function e(t){var n,r=this,i=arguments;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],!this._deleted){e.next=3;break}return e.abrupt("return");case 3:if(t&&Hn(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n){e.next=7;break}return e.next=7,this.beforeStateQueue.runMiddleware(t);case 7:return e.abrupt("return",this.queue(He(ze().mark((function e(){return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.directlySetCurrentUser(t);case 2:r.notifyAuthListeners();case 3:case"end":return e.stop()}}),e)})))));case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signOut",value:function(){var e=He(ze().mark((function e(){return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.beforeStateQueue.runMiddleware(null);case 2:if(!this.redirectPersistenceManager&&!this._popupRedirectResolver){e.next=5;break}return e.next=5,this._setRedirectUser(null);case 5:return e.abrupt("return",this._updateCurrentUser(null,!0));case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setPersistence",value:function(e){var t=this;return this.queue(He(ze().mark((function n(){return ze().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.assertedPersistence.setPersistence(Yn(e));case 2:case"end":return n.stop()}}),n)}))))}},{key:"_getPersistence",value:function(){return this.assertedPersistence.persistence.type}},{key:"_updateErrorMap",value:function(e){this._errorFactory=new Te("auth","Firebase",e())}},{key:"onAuthStateChanged",value:function(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}},{key:"beforeAuthStateChanged",value:function(e,t){return this.beforeStateQueue.pushCallback(e,t)}},{key:"onIdTokenChanged",value:function(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}},{key:"toJSON",value:function(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}},{key:"_setRedirectUser",value:function(){var e=He(ze().mark((function e(t,n){var r;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getOrInitRedirectPersistenceManager(n);case 2:return r=e.sent,e.abrupt("return",null===t?r.removeCurrentUser():r.setCurrentUser(t));case 4:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getOrInitRedirectPersistenceManager",value:function(){var e=He(ze().mark((function e(t){var n;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.redirectPersistenceManager){e.next=9;break}return Hn(n=t&&Yn(t)||this._popupRedirectResolver,this,"argument-error"),e.next=5,qr.create(this,[Yn(n._redirectPersistence)],"redirectUser");case 5:return this.redirectPersistenceManager=e.sent,e.next=8,this.redirectPersistenceManager.getCurrentUser();case 8:this.redirectUser=e.sent;case 9:return e.abrupt("return",this.redirectPersistenceManager);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_redirectUserForId",value:function(){var e=He(ze().mark((function e(t){var n,r;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._isInitialized){e.next=3;break}return e.next=3,this.queue(He(ze().mark((function e(){return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))));case 3:if((null===(n=this._currentUser)||void 0===n?void 0:n._redirectEventId)!==t){e.next=5;break}return e.abrupt("return",this._currentUser);case 5:if((null===(r=this.redirectUser)||void 0===r?void 0:r._redirectEventId)!==t){e.next=7;break}return e.abrupt("return",this.redirectUser);case 7:return e.abrupt("return",null);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_persistUserIfCurrent",value:function(){var e=He(ze().mark((function e(t){var n=this;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t!==this.currentUser){e.next=2;break}return e.abrupt("return",this.queue(He(ze().mark((function e(){return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n.directlySetCurrentUser(t));case 1:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_notifyListenersIfCurrent",value:function(e){e===this.currentUser&&this.notifyAuthListeners()}},{key:"_key",value:function(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}},{key:"_startProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}},{key:"_stopProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}},{key:"_currentUser",get:function(){return this.currentUser}},{key:"notifyAuthListeners",value:function(){var e,t;if(this._isInitialized){this.idTokenSubscription.next(this.currentUser);var n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}}},{key:"registerStateListener",value:function(e,t,n,r){var i=this;if(this._deleted)return function(){};var u="function"===typeof t?t:t.next.bind(t),a=this._isInitialized?Promise.resolve():this._initializationPromise;return Hn(a,this,"internal-error"),a.then((function(){return u(i.currentUser)})),"function"===typeof t?e.addObserver(t,n,r):e.addObserver(t)}},{key:"directlySetCurrentUser",value:function(){var e=He(ze().mark((function e(t){return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.currentUser&&this.currentUser!==t&&(this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh()),this.currentUser=t,!t){e.next=7;break}return e.next=5,this.assertedPersistence.setCurrentUser(t);case 5:e.next=9;break;case 7:return e.next=9,this.assertedPersistence.removeCurrentUser();case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"queue",value:function(e){return this.operations=this.operations.then(e,e),this.operations}},{key:"assertedPersistence",get:function(){return Hn(this.persistenceManager,this,"internal-error"),this.persistenceManager}},{key:"_logFramework",value:function(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=ni(this.config.clientPlatform,this._getFrameworks()))}},{key:"_getFrameworks",value:function(){return this.frameworks}},{key:"_getAdditionalHeaders",value:function(){var e=He(ze().mark((function e(){var t,n,r;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Z({},"X-Client-Version",this.clientVersion),this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId),e.next=4,null===(t=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getHeartbeatsHeader();case 4:return(r=e.sent)&&(n["X-Firebase-Client"]=r),e.abrupt("return",n);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function ui(e){return Ve(e)}var ai=function(){function e(t){var n=this;ee(this,e),this.auth=t,this.observer=null,this.addObserver=je((function(e){return n.observer=e}))}return ne(e,[{key:"next",get:function(){return Hn(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}]),e}();function oi(e,t,n){var r=ui(e);Hn(r._canInitEmulator,r,"emulator-config-failed"),Hn(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");var i=!!(null===n||void 0===n?void 0:n.disableWarnings),u=si(t),a=function(e){var t=si(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};var r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){var u=i[1];return{host:u,port:ci(r.substr(u.length+1))}}var a=c(r.split(":"),2);return{host:a[0],port:ci(a[1])}}(t),o=a.host,s=a.port,l=null===s?"":":".concat(s);r.config.emulator={url:"".concat(u,"//").concat(o).concat(l,"/")},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:s,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function e(){var e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function si(e){var t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function ci(e){if(!e)return null;var t=Number(e);return isNaN(t)?null:t}var li=function(){function e(t,n){ee(this,e),this.providerId=t,this.signInMethod=n}return ne(e,[{key:"toJSON",value:function(){return Wn("not implemented")}},{key:"_getIdTokenResponse",value:function(e){return Wn("not implemented")}},{key:"_linkToIdToken",value:function(e,t){return Wn("not implemented")}},{key:"_getReauthenticationResolver",value:function(e){return Wn("not implemented")}}]),e}();function fi(e,t){return hi.apply(this,arguments)}function hi(){return hi=He(ze().mark((function e(t,n){return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ar(t,"POST","/v1/accounts:resetPassword",ur(t,n)));case 1:case"end":return e.stop()}}),e)}))),hi.apply(this,arguments)}function di(e,t){return pi.apply(this,arguments)}function pi(){return pi=He(ze().mark((function e(t,n){return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ar(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),pi.apply(this,arguments)}function vi(e,t){return mi.apply(this,arguments)}function mi(){return mi=He(ze().mark((function e(t,n){return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ar(t,"POST","/v1/accounts:update",ur(t,n)));case 1:case"end":return e.stop()}}),e)}))),mi.apply(this,arguments)}function yi(e,t){return gi.apply(this,arguments)}function gi(){return gi=He(ze().mark((function e(t,n){return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",lr(t,"POST","/v1/accounts:signInWithPassword",ur(t,n)));case 1:case"end":return e.stop()}}),e)}))),gi.apply(this,arguments)}function ki(e,t){return bi.apply(this,arguments)}function bi(){return bi=He(ze().mark((function e(t,n){return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ar(t,"POST","/v1/accounts:sendOobCode",ur(t,n)));case 1:case"end":return e.stop()}}),e)}))),bi.apply(this,arguments)}function wi(e,t){return Ei.apply(this,arguments)}function Ei(){return Ei=He(ze().mark((function e(t,n){return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ki(t,n));case 1:case"end":return e.stop()}}),e)}))),Ei.apply(this,arguments)}function xi(e,t){return Ai.apply(this,arguments)}function Ai(){return Ai=He(ze().mark((function e(t,n){return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ki(t,n));case 1:case"end":return e.stop()}}),e)}))),Ai.apply(this,arguments)}function _i(e,t){return Ci.apply(this,arguments)}function Ci(){return Ci=He(ze().mark((function e(t,n){return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ki(t,n));case 1:case"end":return e.stop()}}),e)}))),Ci.apply(this,arguments)}function Ii(e,t){return Si.apply(this,arguments)}function Si(){return Si=He(ze().mark((function e(t,n){return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ki(t,n));case 1:case"end":return e.stop()}}),e)}))),Si.apply(this,arguments)}function Ti(e,t){return Di.apply(this,arguments)}function Di(){return Di=He(ze().mark((function e(t,n){return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",lr(t,"POST","/v1/accounts:signInWithEmailLink",ur(t,n)));case 1:case"end":return e.stop()}}),e)}))),Di.apply(this,arguments)}function Ni(e,t){return Fi.apply(this,arguments)}function Fi(){return Fi=He(ze().mark((function e(t,n){return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",lr(t,"POST","/v1/accounts:signInWithEmailLink",ur(t,n)));case 1:case"end":return e.stop()}}),e)}))),Fi.apply(this,arguments)}var Ri=function(e){ae(n,e);var t=fe(n);function n(e,r,i){var u,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return ee(this,n),(u=t.call(this,"password",i))._email=e,u._password=r,u._tenantId=a,u}return ne(n,[{key:"toJSON",value:function(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}},{key:"_getIdTokenResponse",value:function(){var e=He(ze().mark((function e(t){return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",yi(t,{returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",Ti(t,{email:this._email,oobCode:this._password}));case 5:Vn(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_linkToIdToken",value:function(){var e=He(ze().mark((function e(t,n){return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",di(t,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",Ni(t,{idToken:n,email:this._email,oobCode:this._password}));case 5:Vn(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_getReauthenticationResolver",value:function(e){return this._getIdTokenResponse(e)}}],[{key:"_fromEmailAndPassword",value:function(e,t){return new n(e,t,"password")}},{key:"_fromEmailAndCode",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return new n(e,t,"emailLink",r)}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}}]),n}(li);function Pi(e,t){return Oi.apply(this,arguments)}function Oi(){return Oi=He(ze().mark((function e(t,n){return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",lr(t,"POST","/v1/accounts:signInWithIdp",ur(t,n)));case 1:case"end":return e.stop()}}),e)}))),Oi.apply(this,arguments)}var Bi=function(e){ae(n,e);var t=fe(n);function n(){var e;return ee(this,n),(e=t.apply(this,arguments)).pendingToken=null,e}return ne(n,[{key:"toJSON",value:function(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}},{key:"_getIdTokenResponse",value:function(e){return Pi(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,Pi(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,Pi(e,t)}},{key:"buildRequest",value:function(){var e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{var t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Oe(t)}return e}}],[{key:"_fromParams",value:function(e){var t=new n(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Vn("argument-error"),t}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,u=En(t,["providerId","signInMethod"]);if(!r||!i)return null;var a=new n(r,i);return a.idToken=u.idToken||void 0,a.accessToken=u.accessToken||void 0,a.secret=u.secret,a.nonce=u.nonce,a.pendingToken=u.pendingToken||null,a}}]),n}(li);function Li(e,t){return ji.apply(this,arguments)}function ji(){return ji=He(ze().mark((function e(t,n){return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ar(t,"POST","/v1/accounts:sendVerificationCode",ur(t,n)));case 1:case"end":return e.stop()}}),e)}))),ji.apply(this,arguments)}function Mi(){return Mi=He(ze().mark((function e(t,n){return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",lr(t,"POST","/v1/accounts:signInWithPhoneNumber",ur(t,n)));case 1:case"end":return e.stop()}}),e)}))),Mi.apply(this,arguments)}function Ui(){return Ui=He(ze().mark((function e(t,n){var r;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,lr(t,"POST","/v1/accounts:signInWithPhoneNumber",ur(t,n));case 2:if(!(r=e.sent).temporaryProof){e.next=5;break}throw pr(t,"account-exists-with-different-credential",r);case 5:return e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)}))),Ui.apply(this,arguments)}var Vi=Z({},"USER_NOT_FOUND","user-not-found");function zi(){return zi=He(ze().mark((function e(t,n){var r;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object.assign(Object.assign({},n),{operation:"REAUTH"}),e.abrupt("return",lr(t,"POST","/v1/accounts:signInWithPhoneNumber",ur(t,r),Vi));case 2:case"end":return e.stop()}}),e)}))),zi.apply(this,arguments)}var qi=function(e){ae(n,e);var t=fe(n);function n(e){var r;return ee(this,n),(r=t.call(this,"phone","phone")).params=e,r}return ne(n,[{key:"_getIdTokenResponse",value:function(e){return function(e,t){return Mi.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_linkToIdToken",value:function(e,t){return function(e,t){return Ui.apply(this,arguments)}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}},{key:"_getReauthenticationResolver",value:function(e){return function(e,t){return zi.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_makeVerificationRequest",value:function(){var e=this.params,t=e.temporaryProof,n=e.phoneNumber,r=e.verificationId,i=e.verificationCode;return t&&n?{temporaryProof:t,phoneNumber:n}:{sessionInfo:r,code:i}}},{key:"toJSON",value:function(){var e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}}],[{key:"_fromVerification",value:function(e,t){return new n({verificationId:e,verificationCode:t})}},{key:"_fromTokenResponse",value:function(e,t){return new n({phoneNumber:e,temporaryProof:t})}},{key:"fromJSON",value:function(e){"string"===typeof e&&(e=JSON.parse(e));var t=e,r=t.verificationId,i=t.verificationCode,u=t.phoneNumber,a=t.temporaryProof;return i||r||u||a?new n({verificationId:r,verificationCode:i,phoneNumber:u,temporaryProof:a}):null}}]),n}(li);var Gi=function(){function e(t){var n,r,i,u,a,o;ee(this,e);var s=Be(Le(t)),c=null!==(n=s.apiKey)&&void 0!==n?n:null,l=null!==(r=s.oobCode)&&void 0!==r?r:null,f=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=s.mode)&&void 0!==i?i:null);Hn(c&&l&&f,"argument-error"),this.apiKey=c,this.operation=f,this.code=l,this.continueUrl=null!==(u=s.continueUrl)&&void 0!==u?u:null,this.languageCode=null!==(a=s.languageCode)&&void 0!==a?a:null,this.tenantId=null!==(o=s.tenantId)&&void 0!==o?o:null}return ne(e,null,[{key:"parseLink",value:function(t){var n=function(e){var t=Be(Le(e)).link,n=t?Be(Le(t)).deep_link_id:null,r=Be(Le(e)).deep_link_id;return(r?Be(Le(r)).link:null)||r||n||t||e}(t);try{return new e(n)}catch(rA){return null}}}]),e}();var Ki=function(){function e(){ee(this,e),this.providerId=e.PROVIDER_ID}return ne(e,null,[{key:"credential",value:function(e,t){return Ri._fromEmailAndPassword(e,t)}},{key:"credentialWithLink",value:function(e,t){var n=Gi.parseLink(t);return Hn(n,"argument-error"),Ri._fromEmailAndCode(e,n.code,n.tenantId)}}]),e}();Ki.PROVIDER_ID="password",Ki.EMAIL_PASSWORD_SIGN_IN_METHOD="password",Ki.EMAIL_LINK_SIGN_IN_METHOD="emailLink";var Hi=function(){function e(t){ee(this,e),this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}return ne(e,[{key:"setDefaultLanguage",value:function(e){this.defaultLanguageCode=e}},{key:"setCustomParameters",value:function(e){return this.customParameters=e,this}},{key:"getCustomParameters",value:function(){return this.customParameters}}]),e}(),Wi=function(e){ae(n,e);var t=fe(n);function n(){var e;return ee(this,n),(e=t.apply(this,arguments)).scopes=[],e}return ne(n,[{key:"addScope",value:function(e){return this.scopes.includes(e)||this.scopes.push(e),this}},{key:"getScopes",value:function(){return Ge(this.scopes)}}]),n}(Hi),Qi=function(e){ae(n,e);var t=fe(n);function n(){return ee(this,n),t.apply(this,arguments)}return ne(n,[{key:"credential",value:function(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}},{key:"_credential",value:function(e){return Hn(e.idToken||e.accessToken,"argument-error"),Bi._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}}],[{key:"credentialFromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;return Hn("providerId"in t&&"signInMethod"in t,"argument-error"),Bi._fromParams(t)}},{key:"credentialFromResult",value:function(e){return n.oauthCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.oauthCredentialFromTaggedObject(e.customData||{})}},{key:"oauthCredentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken,u=t.oauthTokenSecret,a=t.pendingToken,o=t.nonce,s=t.providerId;if(!i&&!u&&!r&&!a)return null;if(!s)return null;try{return new n(s)._credential({idToken:r,accessToken:i,nonce:o,pendingToken:a})}catch(c){return null}}}]),n}(Wi),Ji=function(e){ae(n,e);var t=fe(n);function n(){return ee(this,n),t.call(this,"facebook.com")}return ne(n,null,[{key:"credential",value:function(e){return Bi._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(rA){return null}}}]),n}(Wi);Ji.FACEBOOK_SIGN_IN_METHOD="facebook.com",Ji.PROVIDER_ID="facebook.com";var Yi=function(e){ae(n,e);var t=fe(n);function n(){var e;return ee(this,n),(e=t.call(this,"google.com")).addScope("profile"),e}return ne(n,null,[{key:"credential",value:function(e,t){return Bi._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken;if(!r&&!i)return null;try{return n.credential(r,i)}catch(rA){return null}}}]),n}(Wi);Yi.GOOGLE_SIGN_IN_METHOD="google.com",Yi.PROVIDER_ID="google.com";var Xi=function(e){ae(n,e);var t=fe(n);function n(){return ee(this,n),t.call(this,"github.com")}return ne(n,null,[{key:"credential",value:function(e){return Bi._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GITHUB_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(rA){return null}}}]),n}(Wi);Xi.GITHUB_SIGN_IN_METHOD="github.com",Xi.PROVIDER_ID="github.com";var $i=function(e){ae(n,e);var t=fe(n);function n(e,r){var i;return ee(this,n),(i=t.call(this,e,e)).pendingToken=r,i}return ne(n,[{key:"_getIdTokenResponse",value:function(e){return Pi(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,Pi(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,Pi(e,t)}},{key:"toJSON",value:function(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}},{key:"buildRequest",value:function(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}],[{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,u=t.pendingToken;return r&&i&&u&&r===i?new n(r,u):null}},{key:"_create",value:function(e,t){return new n(e,t)}}]),n}(li),Zi=function(e){ae(n,e);var t=fe(n);function n(e){return ee(this,n),Hn(e.startsWith("saml."),"argument-error"),t.call(this,e)}return ne(n,null,[{key:"credentialFromResult",value:function(e){return n.samlCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.samlCredentialFromTaggedObject(e.customData||{})}},{key:"credentialFromJSON",value:function(e){var t=$i.fromJSON(e);return Hn(t,"argument-error"),t}},{key:"samlCredentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.pendingToken,r=t.providerId;if(!n||!r)return null;try{return $i._create(r,n)}catch(i){return null}}}]),n}(Hi),eu=function(e){ae(n,e);var t=fe(n);function n(){return ee(this,n),t.call(this,"twitter.com")}return ne(n,null,[{key:"credential",value:function(e,t){return Bi._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthAccessToken,i=t.oauthTokenSecret;if(!r||!i)return null;try{return n.credential(r,i)}catch(rA){return null}}}]),n}(Wi);function tu(e,t){return nu.apply(this,arguments)}function nu(){return nu=He(ze().mark((function e(t,n){return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",lr(t,"POST","/v1/accounts:signUp",ur(t,n)));case 1:case"end":return e.stop()}}),e)}))),nu.apply(this,arguments)}eu.TWITTER_SIGN_IN_METHOD="twitter.com",eu.PROVIDER_ID="twitter.com";var ru=function(){function e(t){ee(this,e),this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}return ne(e,null,[{key:"_fromIdTokenResponse",value:function(){var t=He(ze().mark((function t(n,r,i){var u,a,o,s,c=arguments;return ze().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return u=c.length>3&&void 0!==c[3]&&c[3],t.next=3,Mr._fromIdTokenResponse(n,i,u);case 3:return a=t.sent,o=iu(i),s=new e({user:a,providerId:o,_tokenResponse:i,operationType:r}),t.abrupt("return",s);case 7:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()},{key:"_forOperation",value:function(){var t=He(ze().mark((function t(n,r,i){var u;return ze().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n._updateTokensIfNecessary(i,!0);case 2:return u=iu(i),t.abrupt("return",new e({user:n,providerId:u,_tokenResponse:i,operationType:r}));case 4:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()}]),e}();function iu(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}function uu(){return uu=He(ze().mark((function e(t){var n,r,i,u;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=ui(t),e.next=3,r._initializationPromise;case 3:if(!(null===(n=r.currentUser)||void 0===n?void 0:n.isAnonymous)){e.next=5;break}return e.abrupt("return",new ru({user:r.currentUser,providerId:null,operationType:"signIn"}));case 5:return e.next=7,tu(r,{returnSecureToken:!0});case 7:return i=e.sent,e.next=10,ru._fromIdTokenResponse(r,"signIn",i,!0);case 10:return u=e.sent,e.next=13,r._updateCurrentUser(u.user);case 13:return e.abrupt("return",u);case 14:case"end":return e.stop()}}),e)}))),uu.apply(this,arguments)}var au=function(e){ae(n,e);var t=fe(n);function n(e,r,i,u){var a,o;return ee(this,n),(a=t.call(this,r.code,r.message)).operationType=i,a.user=u,Object.setPrototypeOf(ie(a),n.prototype),a.customData={appName:e.name,tenantId:null!==(o=e.tenantId)&&void 0!==o?o:void 0,_serverResponse:r.customData._serverResponse,operationType:i},a}return ne(n,null,[{key:"_fromErrorAndOperation",value:function(e,t,r,i){return new n(e,t,r,i)}}]),n}(Se);function ou(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((function(n){if(n.code==="auth/".concat("multi-factor-auth-required"))throw au._fromErrorAndOperation(e,n,t,r);throw n}))}function su(e){return new Set(e.map((function(e){return e.providerId})).filter((function(e){return!!e})))}function cu(e,t){return lu.apply(this,arguments)}function lu(){return lu=He(ze().mark((function e(t,n){var r,i,u,a;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Ve(t),e.next=3,du(!0,r,n);case 3:return e.t0=yr,e.t1=r.auth,e.next=7,r.getIdToken();case 7:return e.t2=e.sent,e.t3=[n],e.t4={idToken:e.t2,deleteProvider:e.t3},e.next=12,(0,e.t0)(e.t1,e.t4);case 12:return i=e.sent,u=i.providerUserInfo,a=su(u||[]),r.providerData=r.providerData.filter((function(e){return a.has(e.providerId)})),a.has("phone")||(r.phoneNumber=null),e.next=19,r.auth._persistUserIfCurrent(r);case 19:return e.abrupt("return",r);case 20:case"end":return e.stop()}}),e)}))),lu.apply(this,arguments)}function fu(e,t){return hu.apply(this,arguments)}function hu(){return hu=He(ze().mark((function e(t,n){var r,i,u=arguments;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>2&&void 0!==u[2]&&u[2],e.t0=_r,e.t1=t,e.t2=n,e.t3=t.auth,e.next=7,t.getIdToken();case 7:return e.t4=e.sent,e.t5=e.t2._linkToIdToken.call(e.t2,e.t3,e.t4),e.t6=r,e.next=12,(0,e.t0)(e.t1,e.t5,e.t6);case 12:return i=e.sent,e.abrupt("return",ru._forOperation(t,"link",i));case 14:case"end":return e.stop()}}),e)}))),hu.apply(this,arguments)}function du(e,t,n){return pu.apply(this,arguments)}function pu(){return(pu=He(ze().mark((function e(t,n,r){var i,u;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Dr(n);case 2:i=su(n.providerData),u=!1===t?"provider-already-linked":"no-such-provider",Hn(i.has(r)===t,n.auth,u);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function vu(e,t){return mu.apply(this,arguments)}function mu(){return mu=He(ze().mark((function e(t,n){var r,i,u,a,o,s,c,l=arguments;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=l.length>2&&void 0!==l[2]&&l[2],u=t.auth,a="reauthenticate",e.prev=3,e.next=6,_r(t,ou(u,a,n,t),r);case 6:return Hn((o=e.sent).idToken,u,"internal-error"),Hn(s=Ar(o.idToken),u,"internal-error"),c=s.sub,Hn(t.uid===c,u,"user-mismatch"),e.abrupt("return",ru._forOperation(t,a,o));case 15:throw e.prev=15,e.t0=e.catch(3),(null===(i=e.t0)||void 0===i?void 0:i.code)==="auth/".concat("user-not-found")&&Vn(u,"user-mismatch"),e.t0;case 19:case"end":return e.stop()}}),e,null,[[3,15]])}))),mu.apply(this,arguments)}function yu(e,t){return gu.apply(this,arguments)}function gu(){return gu=He(ze().mark((function e(t,n){var r,i,u,a,o=arguments;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>2&&void 0!==o[2]&&o[2],i="signIn",e.next=4,ou(t,i,n);case 4:return u=e.sent,e.next=7,ru._fromIdTokenResponse(t,i,u);case 7:if(a=e.sent,r){e.next=11;break}return e.next=11,t._updateCurrentUser(a.user);case 11:return e.abrupt("return",a);case 12:case"end":return e.stop()}}),e)}))),gu.apply(this,arguments)}function ku(e,t){return bu.apply(this,arguments)}function bu(){return bu=He(ze().mark((function e(t,n){return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",yu(ui(t),n));case 1:case"end":return e.stop()}}),e)}))),bu.apply(this,arguments)}function wu(e,t){return Eu.apply(this,arguments)}function Eu(){return(Eu=He(ze().mark((function e(t,n){var r;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Ve(t),e.next=3,du(!1,r,n.providerId);case 3:return e.abrupt("return",fu(r,n));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function xu(e,t){return Au.apply(this,arguments)}function Au(){return(Au=He(ze().mark((function e(t,n){return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",vu(Ve(t),n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function _u(e,t){return Cu.apply(this,arguments)}function Cu(){return Cu=He(ze().mark((function e(t,n){return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",lr(t,"POST","/v1/accounts:signInWithCustomToken",ur(t,n)));case 1:case"end":return e.stop()}}),e)}))),Cu.apply(this,arguments)}function Iu(){return Iu=He(ze().mark((function e(t,n){var r,i,u;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=ui(t),e.next=3,_u(r,{token:n,returnSecureToken:!0});case 3:return i=e.sent,e.next=6,ru._fromIdTokenResponse(r,"signIn",i);case 6:return u=e.sent,e.next=9,r._updateCurrentUser(u.user);case 9:return e.abrupt("return",u);case 10:case"end":return e.stop()}}),e)}))),Iu.apply(this,arguments)}var Su=function(){function e(t,n){ee(this,e),this.factorId=t,this.uid=n.mfaEnrollmentId,this.enrollmentTime=new Date(n.enrolledAt).toUTCString(),this.displayName=n.displayName}return ne(e,null,[{key:"_fromServerResponse",value:function(e,t){return"phoneInfo"in t?Tu._fromServerResponse(e,t):Vn(e,"internal-error")}}]),e}(),Tu=function(e){ae(n,e);var t=fe(n);function n(e){var r;return ee(this,n),(r=t.call(this,"phone",e)).phoneNumber=e.phoneInfo,r}return ne(n,null,[{key:"_fromServerResponse",value:function(e,t){return new n(t)}}]),n}(Su);function Du(e,t,n){var r;Hn((null===(r=n.url)||void 0===r?void 0:r.length)>0,e,"invalid-continue-uri"),Hn("undefined"===typeof n.dynamicLinkDomain||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(Hn(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=n.iOS.bundleId),n.android&&(Hn(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}function Nu(){return Nu=He(ze().mark((function e(t,n,r){var i,u;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Ve(t),u={requestType:"PASSWORD_RESET",email:n},r&&Du(i,u,r),e.next=5,xi(i,u);case 5:case"end":return e.stop()}}),e)}))),Nu.apply(this,arguments)}function Fu(){return Fu=He(ze().mark((function e(t,n,r){return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fi(Ve(t),{oobCode:n,newPassword:r});case 2:case"end":return e.stop()}}),e)}))),Fu.apply(this,arguments)}function Ru(){return Ru=He(ze().mark((function e(t,n){return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,vi(Ve(t),{oobCode:n});case 2:case"end":return e.stop()}}),e)}))),Ru.apply(this,arguments)}function Pu(e,t){return Ou.apply(this,arguments)}function Ou(){return Ou=He(ze().mark((function e(t,n){var r,i,u,a;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Ve(t),e.next=3,fi(r,{oobCode:n});case 3:i=e.sent,Hn(u=i.requestType,r,"internal-error"),e.t0=u,e.next="EMAIL_SIGNIN"===e.t0?9:"VERIFY_AND_CHANGE_EMAIL"===e.t0?10:"REVERT_SECOND_FACTOR_ADDITION"===e.t0?12:13;break;case 9:return e.abrupt("break",14);case 10:return Hn(i.newEmail,r,"internal-error"),e.abrupt("break",14);case 12:Hn(i.mfaInfo,r,"internal-error");case 13:Hn(i.email,r,"internal-error");case 14:return a=null,i.mfaInfo&&(a=Su._fromServerResponse(ui(r),i.mfaInfo)),e.abrupt("return",{data:{email:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.newEmail:i.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.email:i.newEmail)||null,multiFactorInfo:a},operation:u});case 17:case"end":return e.stop()}}),e)}))),Ou.apply(this,arguments)}function Bu(){return Bu=He(ze().mark((function e(t,n){var r,i;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Pu(Ve(t),n);case 2:return r=e.sent,i=r.data,e.abrupt("return",i.email);case 5:case"end":return e.stop()}}),e)}))),Bu.apply(this,arguments)}function Lu(e,t,n){return ju.apply(this,arguments)}function ju(){return ju=He(ze().mark((function e(t,n,r){var i,u,a;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=ui(t),e.next=3,tu(i,{returnSecureToken:!0,email:n,password:r});case 3:return u=e.sent,e.next=6,ru._fromIdTokenResponse(i,"signIn",u);case 6:return a=e.sent,e.next=9,i._updateCurrentUser(a.user);case 9:return e.abrupt("return",a);case 10:case"end":return e.stop()}}),e)}))),ju.apply(this,arguments)}function Mu(){return Mu=He(ze().mark((function e(t,n,r){var i,u;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Ve(t),u={requestType:"EMAIL_SIGNIN",email:n},Hn(r.handleCodeInApp,i,"argument-error"),r&&Du(i,u,r),e.next=6,_i(i,u);case 6:case"end":return e.stop()}}),e)}))),Mu.apply(this,arguments)}function Uu(){return Uu=He(ze().mark((function e(t,n,r){var i,u;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Ve(t),Hn((u=Ki.credentialWithLink(n,r||Xn()))._tenantId===(i.tenantId||null),i,"tenant-id-mismatch"),e.abrupt("return",ku(i,u));case 4:case"end":return e.stop()}}),e)}))),Uu.apply(this,arguments)}function Vu(e,t){return zu.apply(this,arguments)}function zu(){return zu=He(ze().mark((function e(t,n){return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ar(t,"POST","/v1/accounts:createAuthUri",ur(t,n)));case 1:case"end":return e.stop()}}),e)}))),zu.apply(this,arguments)}function qu(){return qu=He(ze().mark((function e(t,n){var r,i,u,a;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=$n()?Xn():"http://localhost",i={identifier:n,continueUri:r},e.next=4,Vu(Ve(t),i);case 4:return u=e.sent,a=u.signinMethods,e.abrupt("return",a||[]);case 7:case"end":return e.stop()}}),e)}))),qu.apply(this,arguments)}function Gu(){return(Gu=He(ze().mark((function e(t,n){var r,i,u,a;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Ve(t),e.next=3,t.getIdToken();case 3:return i=e.sent,u={requestType:"VERIFY_EMAIL",idToken:i},n&&Du(r.auth,u,n),e.next=8,wi(r.auth,u);case 8:if(a=e.sent,a.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ku(){return(Ku=He(ze().mark((function e(t,n,r){var i,u,a,o;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Ve(t),e.next=3,t.getIdToken();case 3:return u=e.sent,a={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:u,newEmail:n},r&&Du(i.auth,a,r),e.next=8,Ii(i.auth,a);case 8:if(o=e.sent,o.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Hu(e,t){return Wu.apply(this,arguments)}function Wu(){return Wu=He(ze().mark((function e(t,n){return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ar(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),Wu.apply(this,arguments)}function Qu(){return(Qu=He(ze().mark((function e(t,n){var r,i,u,a,o,s,c;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.displayName,i=n.photoURL,void 0!==r||void 0!==i){e.next=3;break}return e.abrupt("return");case 3:return u=Ve(t),e.next=6,u.getIdToken();case 6:return a=e.sent,o={idToken:a,displayName:r,photoUrl:i,returnSecureToken:!0},e.next=10,_r(u,Hu(u.auth,o));case 10:return s=e.sent,u.displayName=s.displayName||null,u.photoURL=s.photoUrl||null,(c=u.providerData.find((function(e){return"password"===e.providerId})))&&(c.displayName=u.displayName,c.photoURL=u.photoURL),e.next=17,u._updateTokensIfNecessary(s);case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ju(e,t,n){return Yu.apply(this,arguments)}function Yu(){return Yu=He(ze().mark((function e(t,n,r){var i,u,a,o;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.auth,e.next=3,t.getIdToken();case 3:return u=e.sent,a={idToken:u,returnSecureToken:!0},n&&(a.email=n),r&&(a.password=r),e.next=9,_r(t,di(i,a));case 9:return o=e.sent,e.next=12,t._updateTokensIfNecessary(o,!0);case 12:case"end":return e.stop()}}),e)}))),Yu.apply(this,arguments)}var Xu=ne((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};ee(this,e),this.isNewUser=t,this.providerId=n,this.profile=r})),$u=function(e){ae(n,e);var t=fe(n);function n(e,r,i,u){var a;return ee(this,n),(a=t.call(this,e,r,i)).username=u,a}return ne(n)}(Xu),Zu=function(e){ae(n,e);var t=fe(n);function n(e,r){return ee(this,n),t.call(this,e,"facebook.com",r)}return ne(n)}(Xu),ea=function(e){ae(n,e);var t=fe(n);function n(e,r){return ee(this,n),t.call(this,e,"github.com",r,"string"===typeof(null===r||void 0===r?void 0:r.login)?null===r||void 0===r?void 0:r.login:null)}return ne(n)}($u),ta=function(e){ae(n,e);var t=fe(n);function n(e,r){return ee(this,n),t.call(this,e,"google.com",r)}return ne(n)}(Xu),na=function(e){ae(n,e);var t=fe(n);function n(e,r,i){return ee(this,n),t.call(this,e,"twitter.com",r,i)}return ne(n)}($u);function ra(e){var t=e.user,n=e._tokenResponse;return t.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:function(e){var t,n;if(!e)return null;var r=e.providerId,i=e.rawUserInfo?JSON.parse(e.rawUserInfo):{},u=e.isNewUser||"identitytoolkit#SignupNewUserResponse"===e.kind;if(!r&&(null===e||void 0===e?void 0:e.idToken)){var a=null===(n=null===(t=Ar(e.idToken))||void 0===t?void 0:t.firebase)||void 0===n?void 0:n.sign_in_provider;if(a)return new Xu(u,"anonymous"!==a&&"custom"!==a?a:null)}if(!r)return null;switch(r){case"facebook.com":return new Zu(u,i);case"github.com":return new ea(u,i);case"google.com":return new ta(u,i);case"twitter.com":return new na(u,i,e.screenName||null);case"custom":case"anonymous":return new Xu(u,null);default:return new Xu(u,r,i)}}(n)}var ia=function(){function e(t,n){ee(this,e),this.type=t,this.credential=n}return ne(e,[{key:"toJSON",value:function(){return{multiFactorSession:Z({},"enroll"===this.type?"idToken":"pendingCredential",this.credential)}}}],[{key:"_fromIdtoken",value:function(t){return new e("enroll",t)}},{key:"_fromMfaPendingCredential",value:function(t){return new e("signin",t)}},{key:"fromJSON",value:function(t){var n,r;if(null===t||void 0===t?void 0:t.multiFactorSession){if(null===(n=t.multiFactorSession)||void 0===n?void 0:n.pendingCredential)return e._fromMfaPendingCredential(t.multiFactorSession.pendingCredential);if(null===(r=t.multiFactorSession)||void 0===r?void 0:r.idToken)return e._fromIdtoken(t.multiFactorSession.idToken)}return null}}]),e}(),ua=function(){function e(t,n,r){ee(this,e),this.session=t,this.hints=n,this.signInResolver=r}return ne(e,[{key:"resolveSignIn",value:function(){var e=He(ze().mark((function e(t){var n;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t,e.abrupt("return",this.signInResolver(n));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}],[{key:"_fromError",value:function(t,n){var r=ui(t),i=n.customData._serverResponse,u=(i.mfaInfo||[]).map((function(e){return Su._fromServerResponse(r,e)}));Hn(i.mfaPendingCredential,r,"internal-error");var a=ia._fromMfaPendingCredential(i.mfaPendingCredential);return new e(a,u,function(){var e=He(ze().mark((function e(t){var u,o,s;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._process(r,a);case 2:u=e.sent,delete i.mfaInfo,delete i.mfaPendingCredential,o=Object.assign(Object.assign({},i),{idToken:u.idToken,refreshToken:u.refreshToken}),e.t0=n.operationType,e.next="signIn"===e.t0?9:"reauthenticate"===e.t0?15:17;break;case 9:return e.next=11,ru._fromIdTokenResponse(r,n.operationType,o);case 11:return s=e.sent,e.next=14,r._updateCurrentUser(s.user);case 14:return e.abrupt("return",s);case 15:return Hn(n.user,r,"internal-error"),e.abrupt("return",ru._forOperation(n.user,n.operationType,o));case 17:Vn(r,"internal-error");case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}}]),e}();function aa(e,t){return ar(e,"POST","/v2/accounts/mfaEnrollment:start",ur(e,t))}function oa(e,t){return ar(e,"POST","/v2/accounts/mfaEnrollment:withdraw",ur(e,t))}var sa=function(){function e(t){var n=this;ee(this,e),this.user=t,this.enrolledFactors=[],t._onReload((function(e){e.mfaInfo&&(n.enrolledFactors=e.mfaInfo.map((function(e){return Su._fromServerResponse(t.auth,e)})))}))}return ne(e,[{key:"getSession",value:function(){var e=He(ze().mark((function e(){return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=ia,e.next=3,this.user.getIdToken();case 3:return e.t1=e.sent,e.abrupt("return",e.t0._fromIdtoken.call(e.t0,e.t1));case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"enroll",value:function(){var e=He(ze().mark((function e(t,n){var r,i,u;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t,e.next=3,this.getSession();case 3:return i=e.sent,e.next=6,_r(this.user,r._process(this.user.auth,i,n));case 6:return u=e.sent,e.next=9,this.user._updateTokensIfNecessary(u);case 9:return e.abrupt("return",this.user.reload());case 10:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"unenroll",value:function(){var e=He(ze().mark((function e(t){var n,r,i,u;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r="string"===typeof t?t:t.uid,e.next=3,this.user.getIdToken();case 3:return i=e.sent,e.next=6,_r(this.user,oa(this.user.auth,{idToken:i,mfaEnrollmentId:r}));case 6:return u=e.sent,this.enrolledFactors=this.enrolledFactors.filter((function(e){return e.uid!==r})),e.next=10,this.user._updateTokensIfNecessary(u);case 10:return e.prev=10,e.next=13,this.user.reload();case 13:e.next=19;break;case 15:if(e.prev=15,e.t0=e.catch(10),(null===(n=e.t0)||void 0===n?void 0:n.code)==="auth/".concat("user-token-expired")){e.next=19;break}throw e.t0;case 19:case"end":return e.stop()}}),e,this,[[10,15]])})));return function(t){return e.apply(this,arguments)}}()}],[{key:"_fromUser",value:function(t){return new e(t)}}]),e}(),ca=new WeakMap;var la="__sak",fa=function(){function e(t,n){ee(this,e),this.storageRetriever=t,this.type=n}return ne(e,[{key:"_isAvailable",value:function(){try{return this.storage?(this.storage.setItem(la,"1"),this.storage.removeItem(la),Promise.resolve(!0)):Promise.resolve(!1)}catch(rA){return Promise.resolve(!1)}}},{key:"_set",value:function(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}},{key:"_get",value:function(e){var t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}},{key:"_remove",value:function(e){return this.storage.removeItem(e),Promise.resolve()}},{key:"storage",get:function(){return this.storageRetriever()}}]),e}();var ha=function(e){ae(n,e);var t=fe(n);function n(){var e;return ee(this,n),(e=t.call(this,(function(){return window.localStorage}),"LOCAL")).boundEventHandler=function(t,n){return e.onStorageEvent(t,n)},e.listeners={},e.localCache={},e.pollTimer=null,e.safariLocalStorageNotSynced=function(){var e=we();return Hr(e)||$r(e)}()&&function(){try{return!(!window||window===window.top)}catch(e){return!1}}(),e.fallbackToPolling=ti(),e._shouldAllowMigration=!0,e}return ne(n,[{key:"forAllChangedKeys",value:function(e){for(var t=0,n=Object.keys(this.listeners);t<n.length;t++){var r=n[t],i=this.storage.getItem(r),u=this.localCache[r];i!==u&&e(r,u,i)}}},{key:"onStorageEvent",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e.key){var r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){var i=this.storage.getItem(r);if(e.newValue!==i)null!==e.newValue?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}var u=function(){var e=t.storage.getItem(r);(n||t.localCache[r]!==e)&&t.notifyListeners(r,e)},a=this.storage.getItem(r);ei()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(u,10):u()}else this.forAllChangedKeys((function(e,n,r){t.notifyListeners(e,r)}))}},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t?JSON.parse(t):t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval((function(){e.forAllChangedKeys((function(t,n,r){e.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)}))}),1e3)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"attachListener",value:function(){window.addEventListener("storage",this.boundEventHandler)}},{key:"detachListener",value:function(){window.removeEventListener("storage",this.boundEventHandler)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}},{key:"_set",value:function(){var e=He(ze().mark((function e(t,r){return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,wn(oe(n.prototype),"_set",this).call(this,t,r);case 2:this.localCache[t]=JSON.stringify(r);case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=He(ze().mark((function e(t){var r;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,wn(oe(n.prototype),"_get",this).call(this,t);case 2:return r=e.sent,this.localCache[t]=JSON.stringify(r),e.abrupt("return",r);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=He(ze().mark((function e(t){return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,wn(oe(n.prototype),"_remove",this).call(this,t);case 2:delete this.localCache[t];case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),n}(fa);ha.type="LOCAL";var da=ha,pa=function(e){ae(n,e);var t=fe(n);function n(){return ee(this,n),t.call(this,(function(){return window.sessionStorage}),"SESSION")}return ne(n,[{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),n}(fa);pa.type="SESSION";var va=pa;function ma(e){return Promise.all(e.map(function(){var e=He(ze().mark((function e(t){var n;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t;case 3:return n=e.sent,e.abrupt("return",{fulfilled:!0,value:n});case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",{fulfilled:!1,reason:e.t0});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()))}var ya=function(){function e(t){ee(this,e),this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}return ne(e,[{key:"isListeningto",value:function(e){return this.eventTarget===e}},{key:"handleEvent",value:function(){var e=He(ze().mark((function e(t){var n,r,i,u,a,o,s,c;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=(n=t).data,i=r.eventId,u=r.eventType,a=r.data,null===(o=this.handlersMap[u])||void 0===o?void 0:o.size){e.next=5;break}return e.abrupt("return");case 5:return n.ports[0].postMessage({status:"ack",eventId:i,eventType:u}),s=Array.from(o).map(function(){var e=He(ze().mark((function e(t){return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t(n.origin,a));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=9,ma(s);case 9:c=e.sent,n.ports[0].postMessage({status:"done",eventId:i,eventType:u,response:c});case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_subscribe",value:function(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}},{key:"_unsubscribe",value:function(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}],[{key:"_getInstance",value:function(t){var n=this.receivers.find((function(e){return e.isListeningto(t)}));if(n)return n;var r=new e(t);return this.receivers.push(r),r}}]),e}();function ga(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="",r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}ya.receivers=[];var ka=function(){function e(t){ee(this,e),this.target=t,this.handlers=new Set}return ne(e,[{key:"removeMessageHandler",value:function(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}},{key:"_send",value:function(){var e=He(ze().mark((function e(t,n){var r,i,u,a,o=this,s=arguments;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=s.length>2&&void 0!==s[2]?s[2]:50,i="undefined"!==typeof MessageChannel?new MessageChannel:null){e.next=4;break}throw new Error("connection_unavailable");case 4:return e.abrupt("return",new Promise((function(e,s){var c=ga("",20);i.port1.start();var l=setTimeout((function(){s(new Error("unsupported_event"))}),r);a={messageChannel:i,onMessage:function(t){var n=t;if(n.data.eventId===c)switch(n.data.status){case"ack":clearTimeout(l),u=setTimeout((function(){s(new Error("timeout"))}),3e3);break;case"done":clearTimeout(u),e(n.data.response);break;default:clearTimeout(l),clearTimeout(u),s(new Error("invalid_response"))}}},o.handlers.add(a),i.port1.addEventListener("message",a.onMessage),o.target.postMessage({eventType:t,eventId:c,data:n},[i.port2])})).finally((function(){a&&o.removeMessageHandler(a)})));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}();function ba(){return window}function wa(){return"undefined"!==typeof ba().WorkerGlobalScope&&"function"===typeof ba().importScripts}function Ea(){return xa.apply(this,arguments)}function xa(){return(xa=He(ze().mark((function e(){var t;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===navigator||void 0===navigator?void 0:navigator.serviceWorker){e.next=2;break}return e.abrupt("return",null);case 2:return e.prev=2,e.next=5,navigator.serviceWorker.ready;case 5:return t=e.sent,e.abrupt("return",t.active);case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",null);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}function Aa(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}var _a="firebaseLocalStorageDb",Ca="firebaseLocalStorage",Ia="fbase_key",Sa=function(){function e(t){ee(this,e),this.request=t}return ne(e,[{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.request.addEventListener("success",(function(){t(e.request.result)})),e.request.addEventListener("error",(function(){n(e.request.error)}))}))}}]),e}();function Ta(e,t){return e.transaction([Ca],t?"readwrite":"readonly").objectStore(Ca)}function Da(){var e=indexedDB.deleteDatabase(_a);return new Sa(e).toPromise()}function Na(){var e=indexedDB.open(_a,1);return new Promise((function(t,n){e.addEventListener("error",(function(){n(e.error)})),e.addEventListener("upgradeneeded",(function(){var t=e.result;try{t.createObjectStore(Ca,{keyPath:Ia})}catch(r){n(r)}})),e.addEventListener("success",He(ze().mark((function n(){var r;return ze().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if((r=e.result).objectStoreNames.contains(Ca)){n.next=12;break}return r.close(),n.next=5,Da();case 5:return n.t0=t,n.next=8,Na();case 8:n.t1=n.sent,(0,n.t0)(n.t1),n.next=13;break;case 12:t(r);case 13:case"end":return n.stop()}}),n)}))))}))}function Fa(e,t,n){return Ra.apply(this,arguments)}function Ra(){return Ra=He(ze().mark((function e(t,n,r){var i,u;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u=Ta(t,!0).put((Z(i={},Ia,n),Z(i,"value",r),i)),e.abrupt("return",new Sa(u).toPromise());case 2:case"end":return e.stop()}}),e)}))),Ra.apply(this,arguments)}function Pa(e,t){return Oa.apply(this,arguments)}function Oa(){return Oa=He(ze().mark((function e(t,n){var r,i;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Ta(t,!1).get(n),e.next=3,new Sa(r).toPromise();case 3:return i=e.sent,e.abrupt("return",void 0===i?null:i.value);case 5:case"end":return e.stop()}}),e)}))),Oa.apply(this,arguments)}function Ba(e,t){var n=Ta(e,!0).delete(t);return new Sa(n).toPromise()}var La=function(){function e(){ee(this,e),this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((function(){}),(function(){}))}return ne(e,[{key:"_openDb",value:function(){var e=He(ze().mark((function e(){return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.db){e.next=2;break}return e.abrupt("return",this.db);case 2:return e.next=4,Na();case 4:return this.db=e.sent,e.abrupt("return",this.db);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_withRetries",value:function(){var e=He(ze().mark((function e(t){var n,r;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=0;case 1:return e.prev=2,e.next=5,this._openDb();case 5:return r=e.sent,e.next=8,t(r);case 8:return e.abrupt("return",e.sent);case 11:if(e.prev=11,e.t0=e.catch(2),!(n++>3)){e.next=15;break}throw e.t0;case 15:this.db&&(this.db.close(),this.db=void 0);case 16:e.next=1;break;case 18:case"end":return e.stop()}}),e,this,[[2,11]])})));return function(t){return e.apply(this,arguments)}}()},{key:"initializeServiceWorkerMessaging",value:function(){var e=He(ze().mark((function e(){return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",wa()?this.initializeReceiver():this.initializeSender());case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeReceiver",value:function(){var e=He(ze().mark((function e(){var t=this;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.receiver=ya._getInstance(wa()?self:null),this.receiver._subscribe("keyChanged",function(){var e=He(ze().mark((function e(n,r){var i;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._poll();case 2:return i=e.sent,e.abrupt("return",{keyProcessed:i.includes(r.key)});case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),this.receiver._subscribe("ping",function(){var e=He(ze().mark((function e(t,n){return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",["keyChanged"]);case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeSender",value:function(){var e=He(ze().mark((function e(){var t,n,r;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ea();case 2:if(this.activeServiceWorker=e.sent,this.activeServiceWorker){e.next=5;break}return e.abrupt("return");case 5:return this.sender=new ka(this.activeServiceWorker),e.next=8,this.sender._send("ping",{},800);case 8:if(r=e.sent){e.next=11;break}return e.abrupt("return");case 11:(null===(t=r[0])||void 0===t?void 0:t.fulfilled)&&(null===(n=r[0])||void 0===n?void 0:n.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0);case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyServiceWorker",value:function(){var e=He(ze().mark((function e(t){return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.sender&&this.activeServiceWorker&&Aa()===this.activeServiceWorker){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50);case 5:e.next=9;break;case 7:e.prev=7,e.t0=e.catch(2);case 9:case"end":return e.stop()}}),e,this,[[2,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_isAvailable",value:function(){var e=He(ze().mark((function e(){var t;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,indexedDB){e.next=3;break}return e.abrupt("return",!1);case 3:return e.next=5,Na();case 5:return t=e.sent,e.next=8,Fa(t,la,"1");case 8:return e.next=10,Ba(t,la);case 10:return e.abrupt("return",!0);case 13:e.prev=13,e.t0=e.catch(0);case 15:return e.abrupt("return",!1);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}()},{key:"_withPendingWrite",value:function(){var e=He(ze().mark((function e(t){return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.pendingWrites++,e.prev=1,e.next=4,t();case 4:return e.prev=4,this.pendingWrites--,e.finish(4);case 7:case"end":return e.stop()}}),e,this,[[1,,4,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=He(ze().mark((function e(t,n){var r=this;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(He(ze().mark((function e(){return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r._withRetries((function(e){return Fa(e,t,n)}));case 2:return r.localCache[t]=n,e.abrupt("return",r.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=He(ze().mark((function e(t){var n;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){return Pa(e,t)}));case 2:return n=e.sent,this.localCache[t]=n,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=He(ze().mark((function e(t){var n=this;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(He(ze().mark((function e(){return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n._withRetries((function(e){return Ba(e,t)}));case 2:return delete n.localCache[t],e.abrupt("return",n.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_poll",value:function(){var e=He(ze().mark((function e(){var t,n,r,i,u,a,o,s,c,l,f;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){var t=Ta(e,!1).getAll();return new Sa(t).toPromise()}));case 2:if(t=e.sent){e.next=5;break}return e.abrupt("return",[]);case 5:if(0===this.pendingWrites){e.next=7;break}return e.abrupt("return",[]);case 7:n=[],r=new Set,i=re(t);try{for(i.s();!(u=i.n()).done;)a=u.value,o=a.fbase_key,s=a.value,r.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(s)&&(this.notifyListeners(o,s),n.push(o))}catch(h){i.e(h)}finally{i.f()}for(c=0,l=Object.keys(this.localCache);c<l.length;c++)f=l[c],this.localCache[f]&&!r.has(f)&&(this.notifyListeners(f,null),n.push(f));return e.abrupt("return",n);case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval(He(ze().mark((function t(){return ze().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e._poll());case 1:case"end":return t.stop()}}),t)}))),800)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}]),e}();La.type="LOCAL";var ja=La;function Ma(e,t){return ar(e,"POST","/v2/accounts/mfaSignIn:start",ur(e,t))}function Ua(e){return Va.apply(this,arguments)}function Va(){return Va=He(ze().mark((function e(t){return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ar(t,"GET","/v1/recaptchaParams");case 2:if(e.t0=e.sent.recaptchaSiteKey,e.t0){e.next=5;break}e.t0="";case 5:return e.abrupt("return",e.t0);case 6:case"end":return e.stop()}}),e)}))),Va.apply(this,arguments)}function za(e){return new Promise((function(t,n){var r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=function(e){var t=zn("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)}))}function qa(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}var Ga=1e12,Ka=function(){function e(t){ee(this,e),this.auth=t,this.counter=Ga,this._widgets=new Map}return ne(e,[{key:"render",value:function(e,t){var n=this.counter;return this._widgets.set(n,new Ha(e,this.auth.name,t||{})),this.counter++,n}},{key:"reset",value:function(e){var t,n=e||Ga;null===(t=this._widgets.get(n))||void 0===t||t.delete(),this._widgets.delete(n)}},{key:"getResponse",value:function(e){var t,n=e||Ga;return(null===(t=this._widgets.get(n))||void 0===t?void 0:t.getResponse())||""}},{key:"execute",value:function(){var e=He(ze().mark((function e(t){var n,r;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t||Ga,null===(n=this._widgets.get(r))||void 0===n||n.execute(),e.abrupt("return","");case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),Ha=function(){function e(t,n,r){var i=this;ee(this,e),this.params=r,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=function(){i.execute()};var u="string"===typeof t?document.getElementById(t):t;Hn(u,"argument-error",{appName:n}),this.container=u,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}return ne(e,[{key:"getResponse",value:function(){return this.checkIfDeleted(),this.responseToken}},{key:"delete",value:function(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}},{key:"execute",value:function(){var e=this;this.checkIfDeleted(),this.timerId||(this.timerId=window.setTimeout((function(){e.responseToken=function(e){for(var t=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",r=0;r<e;r++)t.push(n.charAt(Math.floor(Math.random()*n.length)));return t.join("")}(50);var t=e.params,n=t.callback,r=t["expired-callback"];if(n)try{n(e.responseToken)}catch(i){}e.timerId=window.setTimeout((function(){if(e.timerId=null,e.responseToken=null,r)try{r()}catch(i){}e.isVisible&&e.execute()}),6e4)}),500))}},{key:"checkIfDeleted",value:function(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}]),e}();var Wa=qa("rcb"),Qa=new er(3e4,6e4),Ja="https://www.google.com/recaptcha/api.js?",Ya=function(){function e(){var t;ee(this,e),this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!(null===(t=ba().grecaptcha)||void 0===t?void 0:t.render)}return ne(e,[{key:"load",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return Hn(Xa(n),e,"argument-error"),this.shouldResolveImmediately(n)?Promise.resolve(ba().grecaptcha):new Promise((function(r,i){var u=ba().setTimeout((function(){i(zn(e,"network-request-failed"))}),Qa.get());ba()[Wa]=function(){ba().clearTimeout(u),delete ba()[Wa];var a=ba().grecaptcha;if(a){var o=a.render;a.render=function(e,n){var r=o(e,n);return t.counter++,r},t.hostLanguage=n,r(a)}else i(zn(e,"internal-error"))},za("".concat(Ja,"?").concat(Oe({onload:Wa,render:"explicit",hl:n}))).catch((function(){clearTimeout(u),i(zn(e,"internal-error"))}))}))}},{key:"clearedOneInstance",value:function(){this.counter--}},{key:"shouldResolveImmediately",value:function(e){var t;return!!(null===(t=ba().grecaptcha)||void 0===t?void 0:t.render)&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}]),e}();function Xa(e){return e.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(e)}var $a=function(){function e(){ee(this,e)}return ne(e,[{key:"load",value:function(){var e=He(ze().mark((function e(t){return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Ka(t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearedOneInstance",value:function(){}}]),e}(),Za="recaptcha",eo={theme:"light",type:"image"},to=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object.assign({},eo),r=arguments.length>2?arguments[2]:void 0;ee(this,e),this.parameters=n,this.type=Za,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=ui(r),this.isInvisible="invisible"===this.parameters.size,Hn("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment");var i="string"===typeof t?document.getElementById(t):t;Hn(i,this.auth,"argument-error"),this.container=i,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new $a:new Ya,this.validateStartingState()}return ne(e,[{key:"verify",value:function(){var e=He(ze().mark((function e(){var t,n,r,i=this;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertNotDestroyed(),e.next=3,this.render();case 3:if(t=e.sent,n=this.getAssertedRecaptcha(),!(r=n.getResponse(t))){e.next=8;break}return e.abrupt("return",r);case 8:return e.abrupt("return",new Promise((function(e){i.tokenChangeListeners.add((function t(n){n&&(i.tokenChangeListeners.delete(t),e(n))})),i.isInvisible&&n.execute(t)})));case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;try{this.assertNotDestroyed()}catch(t){return Promise.reject(t)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch((function(t){throw e.renderPromise=null,t}))),this.renderPromise}},{key:"_reset",value:function(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}},{key:"clear",value:function(){var e=this;this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach((function(t){e.container.removeChild(t)}))}},{key:"validateStartingState",value:function(){Hn(!this.parameters.sitekey,this.auth,"argument-error"),Hn(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Hn("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment")}},{key:"makeTokenCallback",value:function(e){var t=this;return function(n){if(t.tokenChangeListeners.forEach((function(e){return e(n)})),"function"===typeof e)e(n);else if("string"===typeof e){var r=ba()[e];"function"===typeof r&&r(n)}}}},{key:"assertNotDestroyed",value:function(){Hn(!this.destroyed,this.auth,"internal-error")}},{key:"makeRenderPromise",value:function(){var e=He(ze().mark((function e(){var t,n;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.init();case 2:return this.widgetId||(t=this.container,this.isInvisible||(n=document.createElement("div"),t.appendChild(n),t=n),this.widgetId=this.getAssertedRecaptcha().render(t,this.parameters)),e.abrupt("return",this.widgetId);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"init",value:function(){var e=He(ze().mark((function e(){var t;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Hn($n()&&!wa(),this.auth,"internal-error"),e.next=3,no();case 3:return e.next=5,this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);case 5:return this.recaptcha=e.sent,e.next=8,Ua(this.auth);case 8:Hn(t=e.sent,this.auth,"internal-error"),this.parameters.sitekey=t;case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getAssertedRecaptcha",value:function(){return Hn(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}]),e}();function no(){var e=null;return new Promise((function(t){"complete"!==document.readyState?(e=function(){return t()},window.addEventListener("load",e)):t()})).catch((function(t){throw e&&window.removeEventListener("load",e),t}))}var ro=function(){function e(t,n){ee(this,e),this.verificationId=t,this.onConfirmation=n}return ne(e,[{key:"confirm",value:function(e){var t=qi._fromVerification(this.verificationId,e);return this.onConfirmation(t)}}]),e}();function io(){return io=He(ze().mark((function e(t,n,r){var i,u;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=ui(t),e.next=3,so(i,n,Ve(r));case 3:return u=e.sent,e.abrupt("return",new ro(u,(function(e){return ku(i,e)})));case 5:case"end":return e.stop()}}),e)}))),io.apply(this,arguments)}function uo(e,t,n){return ao.apply(this,arguments)}function ao(){return(ao=He(ze().mark((function e(t,n,r){var i,u;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Ve(t),e.next=3,du(!1,i,"phone");case 3:return e.next=5,so(i.auth,n,Ve(r));case 5:return u=e.sent,e.abrupt("return",new ro(u,(function(e){return wu(i,e)})));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function oo(){return(oo=He(ze().mark((function e(t,n,r){var i,u;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Ve(t),e.next=3,so(i.auth,n,Ve(r));case 3:return u=e.sent,e.abrupt("return",new ro(u,(function(e){return xu(i,e)})));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function so(e,t,n){return co.apply(this,arguments)}function co(){return co=He(ze().mark((function e(t,n,r){var i,u,a,o,s,c,l,f,h;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.verify();case 2:if(u=e.sent,e.prev=3,Hn("string"===typeof u,t,"argument-error"),Hn(r.type===Za,t,"argument-error"),!("session"in(a="string"===typeof n?{phoneNumber:n}:n))){e.next=26;break}if(o=a.session,!("phoneNumber"in a)){e.next=17;break}return Hn("enroll"===o.type,t,"internal-error"),e.next=13,aa(t,{idToken:o.credential,phoneEnrollmentInfo:{phoneNumber:a.phoneNumber,recaptchaToken:u}});case 13:return s=e.sent,e.abrupt("return",s.phoneSessionInfo.sessionInfo);case 17:return Hn("signin"===o.type,t,"internal-error"),Hn(c=(null===(i=a.multiFactorHint)||void 0===i?void 0:i.uid)||a.multiFactorUid,t,"missing-multi-factor-info"),e.next=22,Ma(t,{mfaPendingCredential:o.credential,mfaEnrollmentId:c,phoneSignInInfo:{recaptchaToken:u}});case 22:return l=e.sent,e.abrupt("return",l.phoneResponseInfo.sessionInfo);case 24:e.next=31;break;case 26:return e.next=28,Li(t,{phoneNumber:a.phoneNumber,recaptchaToken:u});case 28:return f=e.sent,h=f.sessionInfo,e.abrupt("return",h);case 31:return e.prev=31,r._reset(),e.finish(31);case 34:case"end":return e.stop()}}),e,null,[[3,,31,34]])}))),co.apply(this,arguments)}function lo(){return(lo=He(ze().mark((function e(t,n){return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fu(Ve(t),n);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var fo=function(){function e(t){ee(this,e),this.providerId=e.PROVIDER_ID,this.auth=ui(t)}return ne(e,[{key:"verifyPhoneNumber",value:function(e,t){return so(this.auth,e,Ve(t))}}],[{key:"credential",value:function(e,t){return qi._fromVerification(e,t)}},{key:"credentialFromResult",value:function(t){var n=t;return e.credentialFromTaggedObject(n)}},{key:"credentialFromError",value:function(t){return e.credentialFromTaggedObject(t.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.phoneNumber,r=t.temporaryProof;return n&&r?qi._fromTokenResponse(n,r):null}}]),e}();function ho(e,t){return t?Yn(t):(Hn(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}fo.PROVIDER_ID="phone",fo.PHONE_SIGN_IN_METHOD="phone";var po=function(e){ae(n,e);var t=fe(n);function n(e){var r;return ee(this,n),(r=t.call(this,"custom","custom")).params=e,r}return ne(n,[{key:"_getIdTokenResponse",value:function(e){return Pi(e,this._buildIdpRequest())}},{key:"_linkToIdToken",value:function(e,t){return Pi(e,this._buildIdpRequest(t))}},{key:"_getReauthenticationResolver",value:function(e){return Pi(e,this._buildIdpRequest())}},{key:"_buildIdpRequest",value:function(e){var t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}]),n}(li);function vo(e){return yu(e.auth,new po(e),e.bypassAuthState)}function mo(e){var t=e.auth,n=e.user;return Hn(n,t,"internal-error"),vu(n,new po(e),e.bypassAuthState)}function yo(e){return go.apply(this,arguments)}function go(){return go=He(ze().mark((function e(t){var n,r;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.auth,Hn(r=t.user,n,"internal-error"),e.abrupt("return",fu(r,new po(t),t.bypassAuthState));case 3:case"end":return e.stop()}}),e)}))),go.apply(this,arguments)}var ko=function(){function e(t,n,r,i){var u=arguments.length>4&&void 0!==arguments[4]&&arguments[4];ee(this,e),this.auth=t,this.resolver=r,this.user=i,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}return ne(e,[{key:"execute",value:function(){var e=this;return new Promise(function(){var t=He(ze().mark((function t(n,r){return ze().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.pendingPromise={resolve:n,reject:r},t.prev=1,t.next=4,e.resolver._initialize(e.auth);case 4:return e.eventManager=t.sent,t.next=7,e.onExecution();case 7:e.eventManager.registerConsumer(e),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),e.reject(t.t0);case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e,n){return t.apply(this,arguments)}}())}},{key:"onAuthEvent",value:function(){var e=He(ze().mark((function e(t){var n,r,i,u,a,o,s;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.urlResponse,r=t.sessionId,i=t.postBody,u=t.tenantId,a=t.error,o=t.type,!a){e.next=4;break}return this.reject(a),e.abrupt("return");case 4:return s={auth:this.auth,requestUri:n,sessionId:r,tenantId:u||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState},e.prev=5,e.t0=this,e.next=9,this.getIdpTask(o)(s);case 9:e.t1=e.sent,e.t0.resolve.call(e.t0,e.t1),e.next=16;break;case 13:e.prev=13,e.t2=e.catch(5),this.reject(e.t2);case 16:case"end":return e.stop()}}),e,this,[[5,13]])})));return function(t){return e.apply(this,arguments)}}()},{key:"onError",value:function(e){this.reject(e)}},{key:"getIdpTask",value:function(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return vo;case"linkViaPopup":case"linkViaRedirect":return yo;case"reauthViaPopup":case"reauthViaRedirect":return mo;default:Vn(this.auth,"internal-error")}}},{key:"resolve",value:function(e){Qn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}},{key:"reject",value:function(e){Qn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}},{key:"unregisterAndCleanUp",value:function(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}]),e}(),bo=new er(2e3,1e4);function wo(e,t,n){return Eo.apply(this,arguments)}function Eo(){return Eo=He(ze().mark((function e(t,n,r){var i,u,a;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=ui(t),Gn(t,n,Hi),u=ho(i,r),a=new Co(i,"signInViaPopup",n,u),e.abrupt("return",a.executeNotNull());case 5:case"end":return e.stop()}}),e)}))),Eo.apply(this,arguments)}function xo(){return(xo=He(ze().mark((function e(t,n,r){var i,u,a;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Gn((i=Ve(t)).auth,n,Hi),u=ho(i.auth,r),a=new Co(i.auth,"reauthViaPopup",n,u,i),e.abrupt("return",a.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ao(e,t,n){return _o.apply(this,arguments)}function _o(){return(_o=He(ze().mark((function e(t,n,r){var i,u,a;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Gn((i=Ve(t)).auth,n,Hi),u=ho(i.auth,r),a=new Co(i.auth,"linkViaPopup",n,u,i),e.abrupt("return",a.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Co=function(e){ae(n,e);var t=fe(n);function n(e,r,i,u,a){var o;return ee(this,n),(o=t.call(this,e,r,u,a)).provider=i,o.authWindow=null,o.pollId=null,n.currentPopupAction&&n.currentPopupAction.cancel(),n.currentPopupAction=ie(o),o}return ne(n,[{key:"executeNotNull",value:function(){var e=He(ze().mark((function e(){var t;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.execute();case 2:return Hn(t=e.sent,this.auth,"internal-error"),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=He(ze().mark((function e(){var t,n=this;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Qn(1===this.filter.length,"Popup operations only handle one event"),t=ga(),e.next=4,this.resolver._openPopup(this.auth,this.provider,this.filter[0],t);case 4:this.authWindow=e.sent,this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch((function(e){n.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(function(e){e||n.reject(zn(n.auth,"web-storage-unsupported"))})),this.pollUserCancellation();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"eventId",get:function(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}},{key:"cancel",value:function(){this.reject(zn(this.auth,"cancelled-popup-request"))}},{key:"cleanUp",value:function(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,n.currentPopupAction=null}},{key:"pollUserCancellation",value:function(){var e=this;!function t(){var n,r;(null===(r=null===(n=e.authWindow)||void 0===n?void 0:n.window)||void 0===r?void 0:r.closed)?e.pollId=window.setTimeout((function(){e.pollId=null,e.reject(zn(e.auth,"popup-closed-by-user"))}),2e3):e.pollId=window.setTimeout(t,bo.get())}()}}]),n}(ko);Co.currentPopupAction=null;var Io=new Map,So=function(e){ae(n,e);var t=fe(n);function n(e,r){var i,u=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return ee(this,n),(i=t.call(this,e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,u)).eventId=null,i}return ne(n,[{key:"execute",value:function(){var e=He(ze().mark((function e(){var t,r;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=Io.get(this.auth._key())){e.next=21;break}return e.prev=2,e.next=5,To(this.resolver,this.auth);case 5:if(!e.sent){e.next=12;break}return e.next=9,wn(oe(n.prototype),"execute",this).call(this);case 9:e.t0=e.sent,e.next=13;break;case 12:e.t0=null;case 13:r=e.t0,t=function(){return Promise.resolve(r)},e.next=20;break;case 17:e.prev=17,e.t1=e.catch(2),t=function(){return Promise.reject(e.t1)};case 20:Io.set(this.auth._key(),t);case 21:return this.bypassAuthState||Io.set(this.auth._key(),(function(){return Promise.resolve(null)})),e.abrupt("return",t());case 23:case"end":return e.stop()}}),e,this,[[2,17]])})));return function(){return e.apply(this,arguments)}}()},{key:"onAuthEvent",value:function(){var e=He(ze().mark((function e(t){var r;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("signInViaRedirect"!==t.type){e.next=4;break}return e.abrupt("return",wn(oe(n.prototype),"onAuthEvent",this).call(this,t));case 4:if("unknown"!==t.type){e.next=7;break}return this.resolve(null),e.abrupt("return");case 7:if(!t.eventId){e.next=17;break}return e.next=10,this.auth._redirectUserForId(t.eventId);case 10:if(!(r=e.sent)){e.next=16;break}return this.user=r,e.abrupt("return",wn(oe(n.prototype),"onAuthEvent",this).call(this,t));case 16:this.resolve(null);case 17:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=He(ze().mark((function e(){return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"cleanUp",value:function(){}}]),n}(ko);function To(e,t){return Do.apply(this,arguments)}function Do(){return Do=He(ze().mark((function e(t,n){var r,i,u;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Oo(n),i=Po(t),e.next=4,i._isAvailable();case 4:if(e.sent){e.next=6;break}return e.abrupt("return",!1);case 6:return e.next=8,i._get(r);case 8:return e.t0=e.sent,u="true"===e.t0,e.next=12,i._remove(r);case 12:return e.abrupt("return",u);case 13:case"end":return e.stop()}}),e)}))),Do.apply(this,arguments)}function No(e,t){return Fo.apply(this,arguments)}function Fo(){return Fo=He(ze().mark((function e(t,n){return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Po(t)._set(Oo(n),"true"));case 1:case"end":return e.stop()}}),e)}))),Fo.apply(this,arguments)}function Ro(e,t){Io.set(e._key(),t)}function Po(e){return Yn(e._redirectPersistence)}function Oo(e){return zr("pendingRedirect",e.config.apiKey,e.name)}function Bo(e,t,n){return function(e,t,n){return Lo.apply(this,arguments)}(e,t,n)}function Lo(){return Lo=He(ze().mark((function e(t,n,r){var i,u;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=ui(t),Gn(t,n,Hi),u=ho(i,r),e.next=5,No(u,i);case 5:return e.abrupt("return",u._openRedirect(i,n,"signInViaRedirect"));case 6:case"end":return e.stop()}}),e)}))),Lo.apply(this,arguments)}function jo(e,t,n){return function(e,t,n){return Mo.apply(this,arguments)}(e,t,n)}function Mo(){return(Mo=He(ze().mark((function e(t,n,r){var i,u,a;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Gn((i=Ve(t)).auth,n,Hi),u=ho(i.auth,r),e.next=5,No(u,i.auth);case 5:return e.next=7,Ho(i);case 7:return a=e.sent,e.abrupt("return",u._openRedirect(i.auth,n,"reauthViaRedirect",a));case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Uo(e,t,n){return function(e,t,n){return Vo.apply(this,arguments)}(e,t,n)}function Vo(){return(Vo=He(ze().mark((function e(t,n,r){var i,u,a;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Gn((i=Ve(t)).auth,n,Hi),u=ho(i.auth,r),e.next=5,du(!1,i,n.providerId);case 5:return e.next=7,No(u,i.auth);case 7:return e.next=9,Ho(i);case 9:return a=e.sent,e.abrupt("return",u._openRedirect(i.auth,n,"linkViaRedirect",a));case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function zo(e,t){return qo.apply(this,arguments)}function qo(){return qo=He(ze().mark((function e(t,n){return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ui(t)._initializationPromise;case 2:return e.abrupt("return",Go(t,n,!1));case 3:case"end":return e.stop()}}),e)}))),qo.apply(this,arguments)}function Go(e,t){return Ko.apply(this,arguments)}function Ko(){return Ko=He(ze().mark((function e(t,n){var r,i,u,a,o,s=arguments;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>2&&void 0!==s[2]&&s[2],i=ui(t),u=ho(i,n),a=new So(i,u,r),e.next=6,a.execute();case 6:if(!(o=e.sent)||r){e.next=13;break}return delete o.user._redirectEventId,e.next=11,i._persistUserIfCurrent(o.user);case 11:return e.next=13,i._setRedirectUser(null,n);case 13:return e.abrupt("return",o);case 14:case"end":return e.stop()}}),e)}))),Ko.apply(this,arguments)}function Ho(e){return Wo.apply(this,arguments)}function Wo(){return(Wo=He(ze().mark((function e(t){var n;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=ga("".concat(t.uid,":::")),t._redirectEventId=n,e.next=4,t.auth._setRedirectUser(t);case 4:return e.next=6,t.auth._persistUserIfCurrent(t);case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Qo=function(){function e(t){ee(this,e),this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}return ne(e,[{key:"registerConsumer",value:function(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}},{key:"unregisterConsumer",value:function(e){this.consumers.delete(e)}},{key:"onEvent",value:function(e){var t=this;if(this.hasEventBeenHandled(e))return!1;var n=!1;return this.consumers.forEach((function(r){t.isEventForConsumer(e,r)&&(n=!0,t.sendToConsumer(e,r),t.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Yo(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}},{key:"sendToConsumer",value:function(e,t){var n;if(e.error&&!Yo(e)){var r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(zn(this.auth,r))}else t.onAuthEvent(e)}},{key:"isEventForConsumer",value:function(e,t){var n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}},{key:"hasEventBeenHandled",value:function(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Jo(e))}},{key:"saveEventToCache",value:function(e){this.cachedEventUids.add(Jo(e)),this.lastProcessedEventTime=Date.now()}}]),e}();function Jo(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((function(e){return e})).join("-")}function Yo(e){var t=e.type,n=e.error;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}function Xo(e){return $o.apply(this,arguments)}function $o(){return $o=He(ze().mark((function e(t){var n,r=arguments;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},e.abrupt("return",ar(t,"GET","/v1/projects",n));case 2:case"end":return e.stop()}}),e)}))),$o.apply(this,arguments)}var Zo=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,es=/^https?/;function ts(){return ts=He(ze().mark((function e(t){var n,r,i,u,a;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.config.emulator){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,Xo(t);case 4:n=e.sent,r=n.authorizedDomains,i=re(r),e.prev=7,i.s();case 9:if((u=i.n()).done){e.next=20;break}if(a=u.value,e.prev=11,!ns(a)){e.next=14;break}return e.abrupt("return");case 14:e.next=18;break;case 16:e.prev=16,e.t0=e.catch(11);case 18:e.next=9;break;case 20:e.next=25;break;case 22:e.prev=22,e.t1=e.catch(7),i.e(e.t1);case 25:return e.prev=25,i.f(),e.finish(25);case 28:Vn(t,"unauthorized-domain");case 29:case"end":return e.stop()}}),e,null,[[7,22,25,28],[11,16]])}))),ts.apply(this,arguments)}function ns(e){var t=Xn(),n=new URL(t),r=n.protocol,i=n.hostname;if(e.startsWith("chrome-extension://")){var u=new URL(e);return""===u.hostname&&""===i?"chrome-extension:"===r&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===r&&u.hostname===i}if(!es.test(r))return!1;if(Zo.test(e))return i===e;var a=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(i)}var rs=new er(3e4,6e4);function is(){var e=ba().___jsl;if(null===e||void 0===e?void 0:e.H)for(var t=0,n=Object.keys(e.H);t<n.length;t++){var r=n[t];if(e.H[r].r=e.H[r].r||[],e.H[r].L=e.H[r].L||[],e.H[r].r=Ge(e.H[r].L),e.CP)for(var i=0;i<e.CP.length;i++)e.CP[i]=null}}var us=null;function as(e){return us=us||function(e){return new Promise((function(t,n){var r,i,u;function a(){is(),gapi.load("gapi.iframes",{callback:function(){t(gapi.iframes.getContext())},ontimeout:function(){is(),n(zn(e,"network-request-failed"))},timeout:rs.get()})}if(null===(i=null===(r=ba().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(u=ba().gapi)||void 0===u?void 0:u.load)){var o=qa("iframefcb");return ba()[o]=function(){gapi.load?a():n(zn(e,"network-request-failed"))},za("https://apis.google.com/js/api.js?onload=".concat(o)).catch((function(e){return n(e)}))}a()}})).catch((function(e){throw us=null,e}))}(e),us}var os=new er(5e3,15e3),ss={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},cs=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function ls(e){var t=e.config;Hn(t.authDomain,e,"auth-domain-config-required");var n=t.emulator?tr(t,"emulator/auth/iframe"):"https://".concat(e.config.authDomain,"/").concat("__/auth/iframe"),r={apiKey:t.apiKey,appName:e.name,v:zt},i=cs.get(e.config.apiHost);i&&(r.eid=i);var u=e._getFrameworks();return u.length&&(r.fw=u.join(",")),"".concat(n,"?").concat(Oe(r).slice(1))}function fs(e){return hs.apply(this,arguments)}function hs(){return hs=He(ze().mark((function e(t){var n,r;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,as(t);case 2:return n=e.sent,Hn(r=ba().gapi,t,"internal-error"),e.abrupt("return",n.open({where:document.body,url:ls(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:ss,dontclear:!0},(function(e){return new Promise(function(){var n=He(ze().mark((function n(r,i){var u,a,o;return ze().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return o=function(){ba().clearTimeout(a),r(e)},n.next=3,e.restyle({setHideOnLeave:!1});case 3:u=zn(t,"network-request-failed"),a=ba().setTimeout((function(){i(u)}),os.get()),e.ping(o).then(o,(function(){i(u)}));case 6:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}())})));case 6:case"end":return e.stop()}}),e)}))),hs.apply(this,arguments)}var ds={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},ps="_blank",vs="http://localhost",ms=function(){function e(t){ee(this,e),this.window=t,this.associatedEvent=null}return ne(e,[{key:"close",value:function(){if(this.window)try{this.window.close()}catch(e){}}}]),e}();function ys(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600,u=Math.max((window.screen.availHeight-i)/2,0).toString(),a=Math.max((window.screen.availWidth-r)/2,0).toString(),o="",s=Object.assign(Object.assign({},ds),{width:r.toString(),height:i.toString(),top:u,left:a}),l=we().toLowerCase();n&&(o=Wr(l)?ps:n),Kr(l)&&(t=t||vs,s.scrollbars="yes");var f=Object.entries(s).reduce((function(e,t){var n=c(t,2),r=n[0],i=n[1];return"".concat(e).concat(r,"=").concat(i,",")}),"");if(Zr(l)&&"_self"!==o)return gs(t||"",o),new ms(null);var h=window.open(t||"",o,f);Hn(h,e,"popup-blocked");try{h.focus()}catch(d){}return new ms(h)}function gs(e,t){var n=document.createElement("a");n.href=e,n.target=t;var r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var ks="__/auth/handler",bs="emulator/auth/handler";function ws(e,t,n,r,i,u){Hn(e.config.authDomain,e,"auth-domain-config-required"),Hn(e.config.apiKey,e,"invalid-api-key");var a={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:zt,eventId:i};if(t instanceof Hi){t.setDefaultLanguage(e.languageCode),a.providerId=t.providerId||"",function(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(t.getCustomParameters())||(a.customParameters=JSON.stringify(t.getCustomParameters()));for(var o=0,s=Object.entries(u||{});o<s.length;o++){var l=c(s[o],2),f=l[0],h=l[1];a[f]=h}}if(t instanceof Wi){var d=t.getScopes().filter((function(e){return""!==e}));d.length>0&&(a.scopes=d.join(","))}e.tenantId&&(a.tid=e.tenantId);for(var p=a,v=0,m=Object.keys(p);v<m.length;v++){var y=m[v];void 0===p[y]&&delete p[y]}return"".concat(function(e){var t=e.config;if(!t.emulator)return"https://".concat(t.authDomain,"/").concat(ks);return tr(t,bs)}(e),"?").concat(Oe(p).slice(1))}var Es="webStorageSupport",xs=function(){function e(){ee(this,e),this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=va,this._completeRedirectFn=Go,this._overrideRedirectResult=Ro}return ne(e,[{key:"_openPopup",value:function(){var e=He(ze().mark((function e(t,n,r,i){var u,a;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Qn(null===(u=this.eventManagers[t._key()])||void 0===u?void 0:u.manager,"_initialize() not called before _openPopup()"),a=ws(t,n,r,Xn(),i),e.abrupt("return",ys(t,a,ga()));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=He(ze().mark((function e(t,n,r,i){return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._originValidation(t);case 2:return u=ws(t,n,r,Xn(),i),ba().location.href=u,e.abrupt("return",new Promise((function(){})));case 4:case"end":return e.stop()}var u}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_initialize",value:function(e){var t=this,n=e._key();if(this.eventManagers[n]){var r=this.eventManagers[n],i=r.manager,u=r.promise;return i?Promise.resolve(i):(Qn(u,"If manager is not set, promise should be"),u)}var a=this.initAndGetManager(e);return this.eventManagers[n]={promise:a},a.catch((function(){delete t.eventManagers[n]})),a}},{key:"initAndGetManager",value:function(){var e=He(ze().mark((function e(t){var n,r;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fs(t);case 2:return n=e.sent,r=new Qo(t),n.register("authEvent",(function(e){return Hn(null===e||void 0===e?void 0:e.authEvent,t,"invalid-auth-event"),{status:r.onEvent(e.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,e.abrupt("return",r);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.iframes[e._key()].send(Es,{type:Es},(function(n){var r,i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r.webStorageSupport;void 0!==i&&t(!!i),Vn(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return ts.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"_shouldInitProactively",get:function(){return ti()||Hr()||$r()}}]),e}(),As=xs,_s=function(){function e(t){ee(this,e),this.factorId=t}return ne(e,[{key:"_process",value:function(e,t,n){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,n);case"signin":return this._finalizeSignIn(e,t.credential);default:return Wn("unexpected MultiFactorSessionType")}}}]),e}(),Cs=function(e){ae(n,e);var t=fe(n);function n(e){var r;return ee(this,n),(r=t.call(this,"phone")).credential=e,r}return ne(n,[{key:"_finalizeEnroll",value:function(e,t,n){return function(e,t){return ar(e,"POST","/v2/accounts/mfaEnrollment:finalize",ur(e,t))}(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}},{key:"_finalizeSignIn",value:function(e,t){return function(e,t){return ar(e,"POST","/v2/accounts/mfaSignIn:finalize",ur(e,t))}(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}],[{key:"_fromCredential",value:function(e){return new n(e)}}]),n}(_s),Is=function(){function e(){ee(this,e)}return ne(e,null,[{key:"assertion",value:function(e){return Cs._fromCredential(e)}}]),e}();Is.FACTOR_ID="phone";var Ss,Ts="@firebase/auth",Ds="0.20.5",Ns=function(){function e(t){ee(this,e),this.auth=t,this.internalListeners=new Map}return ne(e,[{key:"getUid",value:function(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}},{key:"getToken",value:function(){var e=He(ze().mark((function e(t){var n;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertAuthConfigured(),e.next=3,this.auth._initializationPromise;case 3:if(this.auth.currentUser){e.next=5;break}return e.abrupt("return",null);case 5:return e.next=7,this.auth.currentUser.getIdToken(t);case 7:return n=e.sent,e.abrupt("return",{accessToken:n});case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"addAuthTokenListener",value:function(e){if(this.assertAuthConfigured(),!this.internalListeners.has(e)){var t=this.auth.onIdTokenChanged((function(t){var n;e((null===(n=t)||void 0===n?void 0:n.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}}},{key:"removeAuthTokenListener",value:function(e){this.assertAuthConfigured();var t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}},{key:"assertAuthConfigured",value:function(){Hn(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}},{key:"updateProactiveRefresh",value:function(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}]),e}();function Fs(){return window}Ss="Browser",Ot(new We("auth",(function(e,t){var n=t.options,r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),u=r.options,a=u.apiKey,o=u.authDomain;return function(e,t){Hn(a&&!a.includes(":"),"invalid-api-key",{appName:e.name}),Hn(!(null===o||void 0===o?void 0:o.includes(":")),"argument-error",{appName:e.name});var r={apiKey:a,authDomain:o,clientPlatform:Ss,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:ni(Ss)},i=new ii(e,t,r);return function(e,t){var n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Yn);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(i,n),i}(r,i)}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((function(e,t,n){e.getProvider("auth-internal").initialize()}))),Ot(new We("auth-internal",(function(e){return function(e){return new Ns(e)}(ui(e.getProvider("auth").getImmediate()))}),"PRIVATE").setInstantiationMode("EXPLICIT")),Qt(Ts,Ds,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(Ss)),Qt(Ts,Ds,"esm2017");function Rs(e,t,n){return Ps.apply(this,arguments)}function Ps(){return Ps=He(ze().mark((function e(t,n,r){var i,u,a,o,s;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u=Fs(),a=u.BuildInfo,Qn(n.sessionId,"AuthEvent did not contain a session ID"),e.next=4,Us(n.sessionId);case 4:return o=e.sent,s={},$r()?s.ibi=a.packageName:Jr()?s.apn=a.packageName:Vn(t,"operation-not-supported-in-this-environment"),a.displayName&&(s.appDisplayName=a.displayName),s.sessionId=o,e.abrupt("return",ws(t,r,n.type,void 0,null!==(i=n.eventId)&&void 0!==i?i:void 0,s));case 10:case"end":return e.stop()}}),e)}))),Ps.apply(this,arguments)}function Os(){return Os=He(ze().mark((function e(t){var n,r,i;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Fs(),r=n.BuildInfo,i={},$r()?i.iosBundleId=r.packageName:Jr()?i.androidPackageName=r.packageName:Vn(t,"operation-not-supported-in-this-environment"),e.next=5,Xo(t,i);case 5:case"end":return e.stop()}}),e)}))),Os.apply(this,arguments)}function Bs(e){var t=Fs().cordova;return new Promise((function(n){t.plugins.browsertab.isAvailable((function(r){var i=null;r?t.plugins.browsertab.openUrl(e):i=t.InAppBrowser.open(e,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:we();return/(iPad|iPhone|iPod).*OS 7_\d/i.test(e)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(e)}()?"_blank":"_system","location=yes"),n(i)}))}))}function Ls(e,t,n){return js.apply(this,arguments)}function js(){return js=He(ze().mark((function e(t,n,r){var i,u,a;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Fs(),u=i.cordova,a=function(){},e.prev=2,e.next=5,new Promise((function(e,i){var o=null;function s(){var t;e();var n=null===(t=u.plugins.browsertab)||void 0===t?void 0:t.close;"function"===typeof n&&n(),"function"===typeof(null===r||void 0===r?void 0:r.close)&&r.close()}function c(){o||(o=window.setTimeout((function(){i(zn(t,"redirect-cancelled-by-user"))}),2e3))}function l(){"visible"===(null===document||void 0===document?void 0:document.visibilityState)&&c()}n.addPassiveListener(s),document.addEventListener("resume",c,!1),Jr()&&document.addEventListener("visibilitychange",l,!1),a=function(){n.removePassiveListener(s),document.removeEventListener("resume",c,!1),document.removeEventListener("visibilitychange",l,!1),o&&window.clearTimeout(o)}}));case 5:return e.prev=5,a(),e.finish(5);case 8:case"end":return e.stop()}}),e,null,[[2,,5,8]])}))),js.apply(this,arguments)}function Ms(e){var t,n,r,i,u,a,o,s,c,l,f=Fs();Hn("function"===typeof(null===(t=null===f||void 0===f?void 0:f.universalLinks)||void 0===t?void 0:t.subscribe),e,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),Hn("undefined"!==typeof(null===(n=null===f||void 0===f?void 0:f.BuildInfo)||void 0===n?void 0:n.packageName),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),Hn("function"===typeof(null===(u=null===(i=null===(r=null===f||void 0===f?void 0:f.cordova)||void 0===r?void 0:r.plugins)||void 0===i?void 0:i.browsertab)||void 0===u?void 0:u.openUrl),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Hn("function"===typeof(null===(s=null===(o=null===(a=null===f||void 0===f?void 0:f.cordova)||void 0===a?void 0:a.plugins)||void 0===o?void 0:o.browsertab)||void 0===s?void 0:s.isAvailable),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Hn("function"===typeof(null===(l=null===(c=null===f||void 0===f?void 0:f.cordova)||void 0===c?void 0:c.InAppBrowser)||void 0===l?void 0:l.open),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}function Us(e){return Vs.apply(this,arguments)}function Vs(){return(Vs=He(ze().mark((function e(t){var n,r,i;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=zs(t),e.next=3,crypto.subtle.digest("SHA-256",n);case 3:return r=e.sent,i=Array.from(new Uint8Array(r)),e.abrupt("return",i.map((function(e){return e.toString(16).padStart(2,"0")})).join(""));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function zs(e){if(Qn(/[0-9a-zA-Z]+/.test(e),"Can only convert alpha-numeric strings"),"undefined"!==typeof TextEncoder)return(new TextEncoder).encode(e);for(var t=new ArrayBuffer(e.length),n=new Uint8Array(t),r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}var qs=function(e){ae(n,e);var t=fe(n);function n(){var e;return ee(this,n),(e=t.apply(this,arguments)).passiveListeners=new Set,e.initPromise=new Promise((function(t){e.resolveInialized=t})),e}return ne(n,[{key:"addPassiveListener",value:function(e){this.passiveListeners.add(e)}},{key:"removePassiveListener",value:function(e){this.passiveListeners.delete(e)}},{key:"resetRedirect",value:function(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}},{key:"onEvent",value:function(e){return this.resolveInialized(),this.passiveListeners.forEach((function(t){return t(e)})),wn(oe(n.prototype),"onEvent",this).call(this,e)}},{key:"initialized",value:function(){var e=He(ze().mark((function e(){return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.initPromise;case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(Qo);function Gs(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return{type:t,eventId:n,urlResponse:null,sessionId:Js(),postBody:null,tenantId:e.tenantId,error:zn(e,"no-auth-event")}}function Ks(e,t){return Ys()._set(Xs(e),t)}function Hs(e){return Ws.apply(this,arguments)}function Ws(){return Ws=He(ze().mark((function e(t){var n;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ys()._get(Xs(t));case 2:if(!(n=e.sent)){e.next=6;break}return e.next=6,Ys()._remove(Xs(t));case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)}))),Ws.apply(this,arguments)}function Qs(e,t){var n,r,i=function(e){var t=$s(e),n=t.link?decodeURIComponent(t.link):void 0,r=$s(n).link,i=t.deep_link_id?decodeURIComponent(t.deep_link_id):void 0;return $s(i).link||i||r||n||e}(t);if(i.includes("/__/auth/callback")){var u=$s(i),a=u.firebaseError?function(e){try{return JSON.parse(e)}catch(t){return null}}(decodeURIComponent(u.firebaseError)):null,o=null===(r=null===(n=null===a||void 0===a?void 0:a.code)||void 0===n?void 0:n.split("auth/"))||void 0===r?void 0:r[1],s=o?zn(o):null;return s?{type:e.type,eventId:e.eventId,tenantId:e.tenantId,error:s,urlResponse:null,sessionId:null,postBody:null}:{type:e.type,eventId:e.eventId,tenantId:e.tenantId,sessionId:e.sessionId,urlResponse:i,postBody:null}}return null}function Js(){for(var e=[],t="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",n=0;n<20;n++){var r=Math.floor(Math.random()*t.length);e.push(t.charAt(r))}return e.join("")}function Ys(){return Yn(da)}function Xs(e){return zr("authEvent",e.config.apiKey,e.name)}function $s(e){if(!(null===e||void 0===e?void 0:e.includes("?")))return{};var t,n=e.split("?"),r=u(t=n)||qe(t)||o(t)||s();r[0];return Be(r.slice(1).join("?"))}var Zs=function(){function e(){ee(this,e),this._redirectPersistence=va,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Go,this._overrideRedirectResult=Ro}return ne(e,[{key:"_initialize",value:function(){var e=He(ze().mark((function e(t){var n,r;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t._key(),(r=this.eventManagers.get(n))||(r=new qs(t),this.eventManagers.set(n,r),this.attachCallbackListeners(t,r)),e.abrupt("return",r);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_openPopup",value:function(e){Vn(e,"operation-not-supported-in-this-environment")}},{key:"_openRedirect",value:function(){var e=He(ze().mark((function e(t,n,r,i){var u,a,o,s;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Ms(t),e.next=3,this._initialize(t);case 3:return u=e.sent,e.next=6,u.initialized();case 6:return u.resetRedirect(),Io.clear(),e.next=10,this._originValidation(t);case 10:return a=Gs(t,r,i),e.next=13,Ks(t,a);case 13:return e.next=15,Rs(t,a,n);case 15:return o=e.sent,e.next=18,Bs(o);case 18:return s=e.sent,e.abrupt("return",Ls(t,u,s));case 20:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){throw new Error("Method not implemented.")}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return Os.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"attachCallbackListeners",value:function(e,t){var n=Fs(),r=n.universalLinks,i=n.handleOpenURL,u=n.BuildInfo,a=setTimeout(He(ze().mark((function n(){return ze().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Hs(e);case 2:t.onEvent(tc());case 3:case"end":return n.stop()}}),n)}))),500),o=function(){var n=He(ze().mark((function n(r){var i,u;return ze().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return clearTimeout(a),n.next=3,Hs(e);case 3:i=n.sent,u=null,i&&(null===r||void 0===r?void 0:r.url)&&(u=Qs(i,r.url)),t.onEvent(u||tc());case 7:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();"undefined"!==typeof r&&"function"===typeof r.subscribe&&r.subscribe(null,o);var s=i,c="".concat(u.packageName.toLowerCase(),"://");Fs().handleOpenURL=function(){var e=He(ze().mark((function e(t){return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.toLowerCase().startsWith(c)&&o({url:t}),"function"===typeof s)try{s(t)}catch(n){console.error(n)}case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}]),e}(),ec=Zs;function tc(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:zn("no-auth-event")}}function nc(){var e;return(null===(e=null===self||void 0===self?void 0:self.location)||void 0===e?void 0:e.protocol)||null}function rc(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:we();return!("file:"!==nc()&&"ionic:"!==nc()&&"capacitor:"!==nc()||!e.toLowerCase().match(/iphone|ipad|ipod|android/))}function ic(){return Ce()&&11===(null===document||void 0===document?void 0:document.documentMode)}function uc(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:we();return/Edge\/\d+/.test(e)}function ac(){try{var e=self.localStorage,t=ga();if(e)return e.setItem(t,"1"),e.removeItem(t),!function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:we();return ic()||uc(e)}()||Ie()}catch(n){return oc()&&Ie()}return!1}function oc(){return"undefined"!==typeof n.g&&"WorkerGlobalScope"in n.g&&"importScripts"in n.g}function sc(){return("http:"===nc()||"https:"===nc()||Ae()||rc())&&!(_e()||xe())&&ac()&&!oc()}function cc(){return rc()&&"undefined"!==typeof document}function lc(){return fc.apply(this,arguments)}function fc(){return(fc=He(ze().mark((function e(){return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(cc()){e.next=2;break}return e.abrupt("return",!1);case 2:return e.abrupt("return",new Promise((function(e){var t=setTimeout((function(){e(!1)}),1e3);document.addEventListener("deviceready",(function(){clearTimeout(t),e(!0)}))})));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var hc={LOCAL:"local",NONE:"none",SESSION:"session"},dc=Hn,pc="persistence";function vc(e,t){dc(Object.values(hc).includes(t),e,"invalid-persistence-type"),_e()?dc(t!==hc.SESSION,e,"unsupported-persistence-type"):xe()?dc(t===hc.NONE,e,"unsupported-persistence-type"):oc()?dc(t===hc.NONE||t===hc.LOCAL&&Ie(),e,"unsupported-persistence-type"):dc(t===hc.NONE||ac(),e,"unsupported-persistence-type")}function mc(e){return yc.apply(this,arguments)}function yc(){return yc=He(ze().mark((function e(t){var n,r;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._initializationPromise;case 2:n=gc(),r=zr(pc,t.config.apiKey,t.name),n&&n.setItem(r,t._getPersistence());case 5:case"end":return e.stop()}}),e)}))),yc.apply(this,arguments)}function gc(){var e;try{return(null===(e="undefined"!==typeof window?window:null)||void 0===e?void 0:e.sessionStorage)||null}catch(t){return null}}var kc=Hn,bc=function(){function e(){ee(this,e),this.browserResolver=Yn(As),this.cordovaResolver=Yn(ec),this.underlyingResolver=null,this._redirectPersistence=va,this._completeRedirectFn=Go,this._overrideRedirectResult=Ro}return ne(e,[{key:"_initialize",value:function(){var e=He(ze().mark((function e(t){return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._initialize(t));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_openPopup",value:function(){var e=He(ze().mark((function e(t,n,r,i){return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._openPopup(t,n,r,i));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=He(ze().mark((function e(t,n,r,i){return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._openRedirect(t,n,r,i));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,t)}},{key:"_originValidation",value:function(e){return this.assertedUnderlyingResolver._originValidation(e)}},{key:"_shouldInitProactively",get:function(){return cc()||this.browserResolver._shouldInitProactively}},{key:"assertedUnderlyingResolver",get:function(){return kc(this.underlyingResolver,"internal-error"),this.underlyingResolver}},{key:"selectUnderlyingResolver",value:function(){var e=He(ze().mark((function e(){var t;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.underlyingResolver){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,lc();case 4:t=e.sent,this.underlyingResolver=t?this.cordovaResolver:this.browserResolver;case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function wc(e){return e.unwrap()}function Ec(e,t){var n,r,i=null===(n=t.customData)||void 0===n?void 0:n._tokenResponse;if("auth/multi-factor-auth-required"===(null===(r=t)||void 0===r?void 0:r.code))t.resolver=new Ic(e,function(e,t){var n,r=Ve(e),i=t;return Hn(t.customData.operationType,r,"argument-error"),Hn(null===(n=i.customData._serverResponse)||void 0===n?void 0:n.mfaPendingCredential,r,"argument-error"),ua._fromError(r,i)}(e,t));else if(i){var u=xc(t),a=t;u&&(a.credential=u,a.tenantId=i.tenantId||void 0,a.email=i.email||void 0,a.phoneNumber=i.phoneNumber||void 0)}}function xc(e){var t=(e instanceof Se?e.customData:e)._tokenResponse;if(!t)return null;if(!(e instanceof Se)&&"temporaryProof"in t&&"phoneNumber"in t)return fo.credentialFromResult(e);var n,r=t.providerId;if(!r||r===In)return null;switch(r){case Cn:n=Yi;break;case An:n=Ji;break;case _n:n=Xi;break;case Sn:n=eu;break;default:var i=t.oauthIdToken,u=t.oauthAccessToken,a=t.oauthTokenSecret,o=t.pendingToken,s=t.nonce;return u||a||i||o?o?r.startsWith("saml.")?$i._create(r,o):Bi._fromParams({providerId:r,signInMethod:r,pendingToken:o,idToken:i,accessToken:u}):new Qi(r).credential({idToken:i,accessToken:u,rawNonce:s}):null}return e instanceof Se?n.credentialFromError(e):n.credentialFromResult(e)}function Ac(e,t){return t.catch((function(t){throw t instanceof Se&&Ec(e,t),t})).then((function(e){var t,n=e.operationType,r=e.user;return{operationType:n,credential:(t=e,xc(t)),additionalUserInfo:ra(e),user:Sc.getOrCreate(r)}}))}function _c(e,t){return Cc.apply(this,arguments)}function Cc(){return Cc=He(ze().mark((function e(t,n){var r;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n;case 2:return r=e.sent,e.abrupt("return",{verificationId:r.verificationId,confirm:function(e){return Ac(t,r.confirm(e))}});case 4:case"end":return e.stop()}}),e)}))),Cc.apply(this,arguments)}var Ic=function(){function e(t,n){ee(this,e),this.resolver=n,this.auth=t.wrapped()}return ne(e,[{key:"session",get:function(){return this.resolver.session}},{key:"hints",get:function(){return this.resolver.hints}},{key:"resolveSignIn",value:function(e){return Ac(wc(this.auth),this.resolver.resolveSignIn(e))}}]),e}(),Sc=function(){function e(t){ee(this,e),this._delegate=t,this.multiFactor=function(e){var t=Ve(e);return ca.has(t)||ca.set(t,sa._fromUser(t)),ca.get(t)}(t)}return ne(e,[{key:"delete",value:function(){return this._delegate.delete()}},{key:"reload",value:function(){return this._delegate.reload()}},{key:"toJSON",value:function(){return this._delegate.toJSON()}},{key:"getIdTokenResult",value:function(e){return this._delegate.getIdTokenResult(e)}},{key:"getIdToken",value:function(e){return this._delegate.getIdToken(e)}},{key:"linkAndRetrieveDataWithCredential",value:function(e){return this.linkWithCredential(e)}},{key:"linkWithCredential",value:function(){var e=He(ze().mark((function e(t){return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ac(this.auth,wu(this._delegate,t)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"linkWithPhoneNumber",value:function(){var e=He(ze().mark((function e(t,n){return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",_c(this.auth,uo(this._delegate,t,n)));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"linkWithPopup",value:function(){var e=He(ze().mark((function e(t){return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ac(this.auth,Ao(this._delegate,t,bc)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"linkWithRedirect",value:function(){var e=He(ze().mark((function e(t){return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,mc(ui(this.auth));case 2:return e.abrupt("return",Uo(this._delegate,t,bc));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"reauthenticateAndRetrieveDataWithCredential",value:function(e){return this.reauthenticateWithCredential(e)}},{key:"reauthenticateWithCredential",value:function(){var e=He(ze().mark((function e(t){return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ac(this.auth,xu(this._delegate,t)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"reauthenticateWithPhoneNumber",value:function(e,t){return _c(this.auth,function(e,t,n){return oo.apply(this,arguments)}(this._delegate,e,t))}},{key:"reauthenticateWithPopup",value:function(e){return Ac(this.auth,function(e,t,n){return xo.apply(this,arguments)}(this._delegate,e,bc))}},{key:"reauthenticateWithRedirect",value:function(){var e=He(ze().mark((function e(t){return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,mc(ui(this.auth));case 2:return e.abrupt("return",jo(this._delegate,t,bc));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"sendEmailVerification",value:function(e){return function(e,t){return Gu.apply(this,arguments)}(this._delegate,e)}},{key:"unlink",value:function(){var e=He(ze().mark((function e(t){return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,cu(this._delegate,t);case 2:return e.abrupt("return",this);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateEmail",value:function(e){return function(e,t){return Ju(Ve(e),t,null)}(this._delegate,e)}},{key:"updatePassword",value:function(e){return function(e,t){return Ju(Ve(e),null,t)}(this._delegate,e)}},{key:"updatePhoneNumber",value:function(e){return function(e,t){return lo.apply(this,arguments)}(this._delegate,e)}},{key:"updateProfile",value:function(e){return function(e,t){return Qu.apply(this,arguments)}(this._delegate,e)}},{key:"verifyBeforeUpdateEmail",value:function(e,t){return function(e,t,n){return Ku.apply(this,arguments)}(this._delegate,e,t)}},{key:"emailVerified",get:function(){return this._delegate.emailVerified}},{key:"isAnonymous",get:function(){return this._delegate.isAnonymous}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"phoneNumber",get:function(){return this._delegate.phoneNumber}},{key:"providerData",get:function(){return this._delegate.providerData}},{key:"refreshToken",get:function(){return this._delegate.refreshToken}},{key:"tenantId",get:function(){return this._delegate.tenantId}},{key:"displayName",get:function(){return this._delegate.displayName}},{key:"email",get:function(){return this._delegate.email}},{key:"photoURL",get:function(){return this._delegate.photoURL}},{key:"providerId",get:function(){return this._delegate.providerId}},{key:"uid",get:function(){return this._delegate.uid}},{key:"auth",get:function(){return this._delegate.auth}}],[{key:"getOrCreate",value:function(t){return e.USER_MAP.has(t)||e.USER_MAP.set(t,new e(t)),e.USER_MAP.get(t)}}]),e}();Sc.USER_MAP=new WeakMap;var Tc=Hn,Dc=function(){function e(t,n){if(ee(this,e),this.app=t,n.isInitialized())return this._delegate=n.getImmediate(),void this.linkUnderlyingAuth();var r=t.options.apiKey;Tc(r,"invalid-api-key",{appName:t.name}),Tc(r,"invalid-api-key",{appName:t.name});var i="undefined"!==typeof window?bc:void 0;this._delegate=n.initialize({options:{persistence:Fc(r,t.name),popupRedirectResolver:i}}),this._delegate._updateErrorMap(Bn),this.linkUnderlyingAuth()}return ne(e,[{key:"emulatorConfig",get:function(){return this._delegate.emulatorConfig}},{key:"currentUser",get:function(){return this._delegate.currentUser?Sc.getOrCreate(this._delegate.currentUser):null}},{key:"languageCode",get:function(){return this._delegate.languageCode},set:function(e){this._delegate.languageCode=e}},{key:"settings",get:function(){return this._delegate.settings}},{key:"tenantId",get:function(){return this._delegate.tenantId},set:function(e){this._delegate.tenantId=e}},{key:"useDeviceLanguage",value:function(){this._delegate.useDeviceLanguage()}},{key:"signOut",value:function(){return this._delegate.signOut()}},{key:"useEmulator",value:function(e,t){oi(this._delegate,e,t)}},{key:"applyActionCode",value:function(e){return function(e,t){return Ru.apply(this,arguments)}(this._delegate,e)}},{key:"checkActionCode",value:function(e){return Pu(this._delegate,e)}},{key:"confirmPasswordReset",value:function(e,t){return function(e,t,n){return Fu.apply(this,arguments)}(this._delegate,e,t)}},{key:"createUserWithEmailAndPassword",value:function(){var e=He(ze().mark((function e(t,n){return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ac(this._delegate,Lu(this._delegate,t,n)));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"fetchProvidersForEmail",value:function(e){return this.fetchSignInMethodsForEmail(e)}},{key:"fetchSignInMethodsForEmail",value:function(e){return function(e,t){return qu.apply(this,arguments)}(this._delegate,e)}},{key:"isSignInWithEmailLink",value:function(e){return function(e,t){var n=Gi.parseLink(t);return"EMAIL_SIGNIN"===(null===n||void 0===n?void 0:n.operation)}(this._delegate,e)}},{key:"getRedirectResult",value:function(){var e=He(ze().mark((function e(){var t;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Tc(sc(),this._delegate,"operation-not-supported-in-this-environment"),e.next=3,zo(this._delegate,bc);case 3:if(t=e.sent){e.next=6;break}return e.abrupt("return",{credential:null,user:null});case 6:return e.abrupt("return",Ac(this._delegate,Promise.resolve(t)));case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"addFrameworkForLogging",value:function(e){!function(e,t){ui(e)._logFramework(t)}(this._delegate,e)}},{key:"onAuthStateChanged",value:function(e,t,n){var r=Nc(e,t,n),i=r.next,u=r.error,a=r.complete;return this._delegate.onAuthStateChanged(i,u,a)}},{key:"onIdTokenChanged",value:function(e,t,n){var r=Nc(e,t,n),i=r.next,u=r.error,a=r.complete;return this._delegate.onIdTokenChanged(i,u,a)}},{key:"sendSignInLinkToEmail",value:function(e,t){return function(e,t,n){return Mu.apply(this,arguments)}(this._delegate,e,t)}},{key:"sendPasswordResetEmail",value:function(e,t){return function(e,t,n){return Nu.apply(this,arguments)}(this._delegate,e,t||void 0)}},{key:"setPersistence",value:function(){var e=He(ze().mark((function e(t){var n,r;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:vc(this._delegate,t),e.t0=t,e.next=e.t0===hc.SESSION?4:e.t0===hc.LOCAL?6:e.t0===hc.NONE?11:13;break;case 4:return n=va,e.abrupt("break",14);case 6:return e.next=8,Yn(ja)._isAvailable();case 8:return r=e.sent,n=r?ja:da,e.abrupt("break",14);case 11:return n=Vr,e.abrupt("break",14);case 13:return e.abrupt("return",Vn("argument-error",{appName:this._delegate.name}));case 14:return e.abrupt("return",this._delegate.setPersistence(n));case 15:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signInAndRetrieveDataWithCredential",value:function(e){return this.signInWithCredential(e)}},{key:"signInAnonymously",value:function(){return Ac(this._delegate,function(e){return uu.apply(this,arguments)}(this._delegate))}},{key:"signInWithCredential",value:function(e){return Ac(this._delegate,ku(this._delegate,e))}},{key:"signInWithCustomToken",value:function(e){return Ac(this._delegate,function(e,t){return Iu.apply(this,arguments)}(this._delegate,e))}},{key:"signInWithEmailAndPassword",value:function(e,t){return Ac(this._delegate,function(e,t,n){return ku(Ve(e),Ki.credential(t,n))}(this._delegate,e,t))}},{key:"signInWithEmailLink",value:function(e,t){return Ac(this._delegate,function(e,t,n){return Uu.apply(this,arguments)}(this._delegate,e,t))}},{key:"signInWithPhoneNumber",value:function(e,t){return _c(this._delegate,function(e,t,n){return io.apply(this,arguments)}(this._delegate,e,t))}},{key:"signInWithPopup",value:function(){var e=He(ze().mark((function e(t){return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Tc(sc(),this._delegate,"operation-not-supported-in-this-environment"),e.abrupt("return",Ac(this._delegate,wo(this._delegate,t,bc)));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signInWithRedirect",value:function(){var e=He(ze().mark((function e(t){return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Tc(sc(),this._delegate,"operation-not-supported-in-this-environment"),e.next=3,mc(this._delegate);case 3:return e.abrupt("return",Bo(this._delegate,t,bc));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(e){return this._delegate.updateCurrentUser(e)}},{key:"verifyPasswordResetCode",value:function(e){return function(e,t){return Bu.apply(this,arguments)}(this._delegate,e)}},{key:"unwrap",value:function(){return this._delegate}},{key:"_delete",value:function(){return this._delegate._delete()}},{key:"linkUnderlyingAuth",value:function(){var e=this;this._delegate.wrapped=function(){return e}}}]),e}();function Nc(e,t,n){var r=e;"function"!==typeof e&&(r=e.next,t=e.error,n=e.complete);var i=r;return{next:function(e){return i(e&&Sc.getOrCreate(e))},error:t,complete:n}}function Fc(e,t){var n=function(e,t){var n=gc();if(!n)return[];var r=zr(pc,e,t);switch(n.getItem(r)){case hc.NONE:return[Vr];case hc.LOCAL:return[ja,va];case hc.SESSION:return[va];default:return[]}}(e,t);if("undefined"===typeof self||n.includes(ja)||n.push(ja),"undefined"!==typeof window)for(var r=0,i=[da,va];r<i.length;r++){var u=i[r];n.includes(u)||n.push(u)}return n.includes(Vr)||n.push(Vr),n}Dc.Persistence=hc;var Rc=function(){function e(){ee(this,e),this.providerId="phone",this._delegate=new fo(wc(kn.auth()))}return ne(e,[{key:"verifyPhoneNumber",value:function(e,t){return this._delegate.verifyPhoneNumber(e,t)}},{key:"unwrap",value:function(){return this._delegate}}],[{key:"credential",value:function(e,t){return fo.credential(e,t)}}]),e}();Rc.PHONE_SIGN_IN_METHOD=fo.PHONE_SIGN_IN_METHOD,Rc.PROVIDER_ID=fo.PROVIDER_ID;var Pc,Oc=Hn,Bc=function(){function e(t,n){var r,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:kn.app();ee(this,e),Oc(null===(r=i.options)||void 0===r?void 0:r.apiKey,"invalid-api-key",{appName:i.name}),this._delegate=new to(t,n,i.auth()),this.type=this._delegate.type}return ne(e,[{key:"clear",value:function(){this._delegate.clear()}},{key:"render",value:function(){return this._delegate.render()}},{key:"verify",value:function(){return this._delegate.verify()}}]),e}();(Pc=kn).INTERNAL.registerComponent(new We("auth-compat",(function(e){var t=e.getProvider("app-compat").getImmediate(),n=e.getProvider("auth");return new Dc(t,n)}),"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:Tn,PASSWORD_RESET:Dn,RECOVER_EMAIL:Nn,REVERT_SECOND_FACTOR_ADDITION:Fn,VERIFY_AND_CHANGE_EMAIL:Rn,VERIFY_EMAIL:Pn}},EmailAuthProvider:Ki,FacebookAuthProvider:Ji,GithubAuthProvider:Xi,GoogleAuthProvider:Yi,OAuthProvider:Qi,SAMLAuthProvider:Zi,PhoneAuthProvider:Rc,PhoneMultiFactorGenerator:Is,RecaptchaVerifier:Bc,TwitterAuthProvider:eu,Auth:Dc,AuthCredential:li,Error:Se}).setInstantiationMode("LAZY").setMultipleInstances(!1)),Pc.registerVersion("@firebase/auth-compat","0.2.18");var Lc,jc="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:{},Mc={},Uc=Uc||{},Vc=jc||self;function zc(){}function qc(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function Gc(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var Kc="closure_uid_"+(1e9*Math.random()>>>0),Hc=0;function Wc(e,t,n){return e.call.apply(e.bind,arguments)}function Qc(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function Jc(e,t,n){return(Jc=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Wc:Qc).apply(null,arguments)}function Yc(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function Xc(e,t){function n(){}n.prototype=t.prototype,e.Z=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Vb=function(e,n,r){for(var i=Array(arguments.length-2),u=2;u<arguments.length;u++)i[u-2]=arguments[u];return t.prototype[n].apply(e,i)}}function $c(){this.s=this.s,this.o=this.o}var Zc={};$c.prototype.s=!1,$c.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var e=function(e){return Object.prototype.hasOwnProperty.call(e,Kc)&&e[Kc]||(e[Kc]=++Hc)}(this);delete Zc[e]}},$c.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var el=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},tl=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var r=e.length,i="string"===typeof e?e.split(""):e,u=0;u<r;u++)u in i&&t.call(n,i[u],u,e)};function nl(e){return Array.prototype.concat.apply([],arguments)}function rl(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function il(e){return/^[\s\xa0]*$/.test(e)}var ul,al=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function ol(e,t){return-1!=e.indexOf(t)}function sl(e,t){return e<t?-1:e>t?1:0}e:{var cl=Vc.navigator;if(cl){var ll=cl.userAgent;if(ll){ul=ll;break e}}ul=""}function fl(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function hl(e){var t={};for(var n in e)t[n]=e[n];return t}var dl="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function pl(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var u=0;u<dl.length;u++)n=dl[u],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function vl(e){return vl[" "](e),e}vl[" "]=zc;var ml,yl=ol(ul,"Opera"),gl=ol(ul,"Trident")||ol(ul,"MSIE"),kl=ol(ul,"Edge"),bl=kl||gl,wl=ol(ul,"Gecko")&&!(ol(ul.toLowerCase(),"webkit")&&!ol(ul,"Edge"))&&!(ol(ul,"Trident")||ol(ul,"MSIE"))&&!ol(ul,"Edge"),El=ol(ul.toLowerCase(),"webkit")&&!ol(ul,"Edge");function xl(){var e=Vc.document;return e?e.documentMode:void 0}e:{var Al="",_l=function(){var e=ul;return wl?/rv:([^\);]+)(\)|;)/.exec(e):kl?/Edge\/([\d\.]+)/.exec(e):gl?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):El?/WebKit\/(\S+)/.exec(e):yl?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(_l&&(Al=_l?_l[1]:""),gl){var Cl=xl();if(null!=Cl&&Cl>parseFloat(Al)){ml=String(Cl);break e}}ml=Al}var Il,Sl={};function Tl(){return function(e){var t=Sl;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=e(9)}((function(){for(var e=0,t=al(String(ml)).split("."),n=al("9").split("."),r=Math.max(t.length,n.length),i=0;0==e&&i<r;i++){var u=t[i]||"",a=n[i]||"";do{if(u=/(\d*)(\D*)(.*)/.exec(u)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==u[0].length&&0==a[0].length)break;e=sl(0==u[1].length?0:parseInt(u[1],10),0==a[1].length?0:parseInt(a[1],10))||sl(0==u[2].length,0==a[2].length)||sl(u[2],a[2]),u=u[3],a=a[3]}while(0==e)}return 0<=e}))}if(Vc.document&&gl){var Dl=xl();Il=Dl||(parseInt(ml,10)||void 0)}else Il=void 0;var Nl=Il,Fl=function(){if(!Vc.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{Vc.addEventListener("test",zc,t),Vc.removeEventListener("test",zc,t)}catch(n){}return e}();function Rl(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}function Pl(e,t){if(Rl.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(wl){e:{try{vl(t.nodeName);var i=!0;break e}catch(u){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:Ol[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&Pl.Z.h.call(this)}}Rl.prototype.h=function(){this.defaultPrevented=!0},Xc(Pl,Rl);var Ol={2:"touch",3:"pen",4:"mouse"};Pl.prototype.h=function(){Pl.Z.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var Bl="closure_listenable_"+(1e6*Math.random()|0),Ll=0;function jl(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ia=i,this.key=++Ll,this.ca=this.fa=!1}function Ml(e){e.ca=!0,e.listener=null,e.proxy=null,e.src=null,e.ia=null}function Ul(e){this.src=e,this.g={},this.h=0}function Vl(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],u=el(i,t);(r=0<=u)&&Array.prototype.splice.call(i,u,1),r&&(Ml(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function zl(e,t,n,r){for(var i=0;i<e.length;++i){var u=e[i];if(!u.ca&&u.listener==t&&u.capture==!!n&&u.ia==r)return i}return-1}Ul.prototype.add=function(e,t,n,r,i){var u=e.toString();(e=this.g[u])||(e=this.g[u]=[],this.h++);var a=zl(e,t,r,i);return-1<a?(t=e[a],n||(t.fa=!1)):((t=new jl(t,this.src,u,!!r,i)).fa=n,e.push(t)),t};var ql="closure_lm_"+(1e6*Math.random()|0),Gl={};function Kl(e,t,n,r,i){if(r&&r.once)return Wl(e,t,n,r,i);if(Array.isArray(t)){for(var u=0;u<t.length;u++)Kl(e,t[u],n,r,i);return null}return n=ef(n),e&&e[Bl]?e.N(t,n,Gc(r)?!!r.capture:!!r,i):Hl(e,t,n,!1,r,i)}function Hl(e,t,n,r,i,u){if(!t)throw Error("Invalid event type");var a=Gc(i)?!!i.capture:!!i,o=$l(e);if(o||(e[ql]=o=new Ul(e)),(n=o.add(t,n,r,a,u)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}var t=Xl;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)Fl||(i=a),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(Yl(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function Wl(e,t,n,r,i){if(Array.isArray(t)){for(var u=0;u<t.length;u++)Wl(e,t[u],n,r,i);return null}return n=ef(n),e&&e[Bl]?e.O(t,n,Gc(r)?!!r.capture:!!r,i):Hl(e,t,n,!0,r,i)}function Ql(e,t,n,r,i){if(Array.isArray(t))for(var u=0;u<t.length;u++)Ql(e,t[u],n,r,i);else r=Gc(r)?!!r.capture:!!r,n=ef(n),e&&e[Bl]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=zl(u=e.g[t],n,r,i))&&(Ml(u[n]),Array.prototype.splice.call(u,n,1),0==u.length&&(delete e.g[t],e.h--)))):e&&(e=$l(e))&&(t=e.g[t.toString()],e=-1,t&&(e=zl(t,n,r,i)),(n=-1<e?t[e]:null)&&Jl(n))}function Jl(e){if("number"!==typeof e&&e&&!e.ca){var t=e.src;if(t&&t[Bl])Vl(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(Yl(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=$l(t))?(Vl(n,e),0==n.h&&(n.src=null,t[ql]=null)):Ml(e)}}}function Yl(e){return e in Gl?Gl[e]:Gl[e]="on"+e}function Xl(e,t){if(e.ca)e=!0;else{t=new Pl(t,this);var n=e.listener,r=e.ia||e.src;e.fa&&Jl(e),e=n.call(r,t)}return e}function $l(e){return(e=e[ql])instanceof Ul?e:null}var Zl="__closure_events_fn_"+(1e9*Math.random()>>>0);function ef(e){return"function"===typeof e?e:(e[Zl]||(e[Zl]=function(t){return e.handleEvent(t)}),e[Zl])}function tf(){$c.call(this),this.i=new Ul(this),this.P=this,this.I=null}function nf(e,t){var n,r=e.I;if(r)for(n=[];r;r=r.I)n.push(r);if(e=e.P,r=t.type||t,"string"===typeof t)t=new Rl(t,e);else if(t instanceof Rl)t.target=t.target||e;else{var i=t;pl(t=new Rl(r,e),i)}if(i=!0,n)for(var u=n.length-1;0<=u;u--){var a=t.g=n[u];i=rf(a,r,!0,t)&&i}if(i=rf(a=t.g=e,r,!0,t)&&i,i=rf(a,r,!1,t)&&i,n)for(u=0;u<n.length;u++)i=rf(a=t.g=n[u],r,!1,t)&&i}function rf(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,u=0;u<t.length;++u){var a=t[u];if(a&&!a.ca&&a.capture==n){var o=a.listener,s=a.ia||a.src;a.fa&&Vl(e.i,a),i=!1!==o.call(s,r)&&i}}return i&&!r.defaultPrevented}Xc(tf,$c),tf.prototype[Bl]=!0,tf.prototype.removeEventListener=function(e,t,n,r){Ql(this,e,t,n,r)},tf.prototype.M=function(){if(tf.Z.M.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Ml(n[r]);delete t.g[e],t.h--}}this.I=null},tf.prototype.N=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},tf.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var uf=Vc.JSON.stringify;function af(){var e=pf,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var of,sf=function(){function e(){ee(this,e),this.h=this.g=null}return ne(e,[{key:"add",value:function(e,t){var n=cf.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}}]),e}(),cf=new(function(){function e(t,n){ee(this,e),this.i=t,this.j=n,this.h=0,this.g=null}return ne(e,[{key:"get",value:function(){var e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}]),e}())((function(){return new lf}),(function(e){return e.reset()})),lf=function(){function e(){ee(this,e),this.next=this.g=this.h=null}return ne(e,[{key:"set",value:function(e,t){this.h=e,this.g=t,this.next=null}},{key:"reset",value:function(){this.next=this.g=this.h=null}}]),e}();function ff(e){Vc.setTimeout((function(){throw e}),0)}function hf(e,t){of||function(){var e=Vc.Promise.resolve(void 0);of=function(){e.then(vf)}}(),df||(of(),df=!0),pf.add(e,t)}var df=!1,pf=new sf;function vf(){for(var e;e=af();){try{e.h.call(e.g)}catch(n){ff(n)}var t=cf;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}df=!1}function mf(e,t){tf.call(this),this.h=e||1,this.g=t||Vc,this.j=Jc(this.kb,this),this.l=Date.now()}function yf(e){e.da=!1,e.S&&(e.g.clearTimeout(e.S),e.S=null)}function gf(e,t,n){if("function"===typeof e)n&&(e=Jc(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=Jc(e.handleEvent,e)}return 2147483647<Number(t)?-1:Vc.setTimeout(e,t||0)}function kf(e){e.g=gf((function(){e.g=null,e.i&&(e.i=!1,kf(e))}),e.j);var t=e.h;e.h=null,e.m.apply(null,t)}Xc(mf,tf),(Lc=mf.prototype).da=!1,Lc.S=null,Lc.kb=function(){if(this.da){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-e):(this.S&&(this.g.clearTimeout(this.S),this.S=null),nf(this,"tick"),this.da&&(yf(this),this.start()))}},Lc.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Lc.M=function(){mf.Z.M.call(this),yf(this),delete this.g};var bf=function(e){ae(n,e);var t=fe(n);function n(e,r){var i;return ee(this,n),(i=t.call(this)).m=e,i.j=r,i.h=null,i.i=!1,i.g=null,i}return ne(n,[{key:"l",value:function(e){this.h=arguments,this.g?this.i=!0:kf(this)}},{key:"M",value:function(){wn(oe(n.prototype),"M",this).call(this),this.g&&(Vc.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}]),n}($c);function wf(e){$c.call(this),this.h=e,this.g={}}Xc(wf,$c);var Ef=[];function xf(e,t,n,r){Array.isArray(n)||(n&&(Ef[0]=n.toString()),n=Ef);for(var i=0;i<n.length;i++){var u=Kl(t,n[i],r||e.handleEvent,!1,e.h||e);if(!u)break;e.g[u.key]=u}}function Af(e){fl(e.g,(function(e,t){this.g.hasOwnProperty(t)&&Jl(e)}),e),e.g={}}function _f(){this.g=!0}function Cf(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var u=i[0];if("noop"!=u&&"stop"!=u&&"close"!=u)for(var a=1;a<i.length;a++)i[a]=""}}}return uf(n)}catch(o){return t}}(e,n)+(r?" "+r:"")}))}wf.prototype.M=function(){wf.Z.M.call(this),Af(this)},wf.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},_f.prototype.Aa=function(){this.g=!1},_f.prototype.info=function(){};var If={},Sf=null;function Tf(){return Sf=Sf||new tf}function Df(e){Rl.call(this,If.Ma,e)}function Nf(e){var t=Tf();nf(t,new Df(t,e))}function Ff(e,t){Rl.call(this,If.STAT_EVENT,e),this.stat=t}function Rf(e){var t=Tf();nf(t,new Ff(t,e))}function Pf(e,t){Rl.call(this,If.Na,e),this.size=t}function Of(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return Vc.setTimeout((function(){e()}),t)}If.Ma="serverreachability",Xc(Df,Rl),If.STAT_EVENT="statevent",Xc(Ff,Rl),If.Na="timingevent",Xc(Pf,Rl);var Bf={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},Lf={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function jf(){}function Mf(e){return e.h||(e.h=e.i())}function Uf(){}jf.prototype.h=null;var Vf,zf={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function qf(){Rl.call(this,"d")}function Gf(){Rl.call(this,"c")}function Kf(){}function Hf(e,t,n,r){this.l=e,this.j=t,this.m=n,this.X=r||1,this.V=new wf(this),this.P=Qf,e=bl?125:void 0,this.W=new mf(e),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new Wf}function Wf(){this.i=null,this.g="",this.h=!1}Xc(qf,Rl),Xc(Gf,Rl),Xc(Kf,jf),Kf.prototype.g=function(){return new XMLHttpRequest},Kf.prototype.i=function(){return{}},Vf=new Kf;var Qf=45e3,Jf={},Yf={};function Xf(e,t,n){e.K=1,e.v=bh(ph(t)),e.s=n,e.U=!0,$f(e,null)}function $f(e,t){e.F=Date.now(),nh(e),e.A=ph(e.v);var n=e.A,r=e.X;Array.isArray(r)||(r=[String(r)]),Rh(n.h,"t",r),e.C=0,n=e.l.H,e.h=new Wf,e.g=Od(e.l,n?t:null,!e.s),0<e.O&&(e.L=new bf(Jc(e.Ia,e,e.g),e.O)),xf(e.V,e.g,"readystatechange",e.gb),t=e.H?hl(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.s,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),Nf(1),function(e,t,n,r,i,u){e.info((function(){if(e.g)if(u)for(var a="",o=u.split("&"),s=0;s<o.length;s++){var c=o[s].split("=");if(1<c.length){var l=c[0];c=c[1];var f=l.split("_");a=2<=f.length&&"type"==f[1]?a+(l+"=")+c+"&":a+(l+"=redacted&")}}else a=null;else a=u;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+a}))}(e.j,e.u,e.A,e.m,e.X,e.s)}function Zf(e){return!!e.g&&("GET"==e.u&&2!=e.K&&e.l.Ba)}function eh(e,t,n){for(var r,i=!0;!e.I&&e.C<n.length;){if((r=th(e,n))==Yf){4==t&&(e.o=4,Rf(14),i=!1),Cf(e.j,e.m,null,"[Incomplete Response]");break}if(r==Jf){e.o=4,Rf(15),Cf(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}Cf(e.j,e.m,r,null),oh(e,r)}Zf(e)&&r!=Yf&&r!=Jf&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,Rf(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.aa&&(e.aa=!0,(t=e.l).g==e&&t.$&&!t.L&&(t.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),Id(t),t.L=!0,Rf(11))):(Cf(e.j,e.m,n,"[Invalid Chunked Response]"),ah(e),uh(e))}function th(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?Yf:(n=Number(t.substring(n,r)),isNaN(n)?Jf:(r+=1)+n>t.length?Yf:(t=t.substr(r,n),e.C=r+n,t))}function nh(e){e.Y=Date.now()+e.P,rh(e,e.P)}function rh(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=Of(Jc(e.eb,e),t)}function ih(e){e.B&&(Vc.clearTimeout(e.B),e.B=null)}function uh(e){0==e.l.G||e.I||Dd(e.l,e)}function ah(e){ih(e);var t=e.L;t&&"function"==typeof t.na&&t.na(),e.L=null,yf(e.W),Af(e.V),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function oh(e,t){try{var n=e.l;if(0!=n.G&&(n.g==e||Vh(n.i,e)))if(n.I=e.N,!e.J&&Vh(n.i,e)&&3==n.G){try{var r=n.Ca.g.parse(t)}catch(u){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;Td(n),gd(n)}Cd(n),Rf(18)}}else n.ta=i[1],0<n.ta-n.U&&37500>i[2]&&n.N&&0==n.A&&!n.v&&(n.v=Of(Jc(n.ab,n),6e3));if(1>=Uh(n.i)&&n.ka){try{n.ka()}catch(u){}n.ka=void 0}}else Fd(n,11)}else if((e.J||n.g==e)&&Td(n),!il(t))for(i=n.Ca.g.parse(t),t=0;t<i.length;t++){var u=i[t];if(n.U=u[0],u=u[1],2==n.G)if("c"==u[0]){n.J=u[1],n.la=u[2];var a=u[3];null!=a&&(n.ma=a,n.h.info("VER="+n.ma));var o=u[4];null!=o&&(n.za=o,n.h.info("SVER="+n.za));var s=u[5];null!=s&&"number"===typeof s&&0<s&&(r=1.5*s,n.K=r,n.h.info("backChannelRequestTimeoutMs_="+r)),r=n;var c=e.g;if(c){var l=c.g?c.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var f=r.i;!f.g&&(ol(l,"spdy")||ol(l,"quic")||ol(l,"h2"))&&(f.j=f.l,f.g=new Set,f.h&&(zh(f,f.h),f.h=null))}if(r.D){var h=c.g?c.g.getResponseHeader("X-HTTP-Session-Id"):null;h&&(r.sa=h,kh(r.F,r.D,h))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-e.F,n.h.info("Handshake RTT: "+n.O+"ms"));var d=e;if((r=n).oa=Pd(r,r.H?r.la:null,r.W),d.J){qh(r.i,d);var p=d,v=r.K;v&&p.setTimeout(v),p.B&&(ih(p),nh(p)),r.g=d}else _d(r);0<n.l.length&&wd(n)}else"stop"!=u[0]&&"close"!=u[0]||Fd(n,7);else 3==n.G&&("stop"==u[0]||"close"==u[0]?"stop"==u[0]?Fd(n,7):yd(n):"noop"!=u[0]&&n.j&&n.j.wa(u),n.A=0)}Nf(4)}catch(u){}}function sh(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(qc(e)||"string"===typeof e)tl(e,t,void 0);else{if(e.T&&"function"==typeof e.T)var n=e.T();else if(e.R&&"function"==typeof e.R)n=void 0;else if(qc(e)||"string"===typeof e){n=[];for(var r=e.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,e)n[r++]=i;r=function(e){if(e.R&&"function"==typeof e.R)return e.R();if("string"===typeof e)return e.split("");if(qc(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length;for(var u=0;u<i;u++)t.call(void 0,r[u],n&&n[u],e)}}function ch(e,t){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof ch)for(n=e.T(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}function lh(e){if(e.i!=e.g.length){for(var t=0,n=0;t<e.g.length;){var r=e.g[t];fh(e.h,r)&&(e.g[n++]=r),t++}e.g.length=n}if(e.i!=e.g.length){var i={};for(n=t=0;t<e.g.length;)fh(i,r=e.g[t])||(e.g[n++]=r,i[r]=1),t++;e.g.length=n}}function fh(e,t){return Object.prototype.hasOwnProperty.call(e,t)}(Lc=Hf.prototype).setTimeout=function(e){this.P=e},Lc.gb=function(e){e=e.target;var t=this.L;t&&3==hd(e)?t.l():this.Ia(e)},Lc.Ia=function(e){try{if(e==this.g)e:{var t=hd(this.g),n=this.g.Da(),r=this.g.ba();if(!(3>t)&&(3!=t||bl||this.g&&(this.h.h||this.g.ga()||dd(this.g)))){this.I||4!=t||7==n||Nf(8==n||0>=r?3:2),ih(this);var i=this.g.ba();this.N=i;t:if(Zf(this)){var u=dd(this.g);e="";var a=u.length,o=4==hd(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){ah(this),uh(this);var s="";break t}this.h.i=new Vc.TextDecoder}for(n=0;n<a;n++)this.h.h=!0,e+=this.h.i.decode(u[n],{stream:o&&n==a-1});u.splice(0,a),this.h.g+=e,this.C=0,s=this.h.g}else s=this.g.ga();if(this.i=200==i,function(e,t,n,r,i,u,a){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+u+" "+a}))}(this.j,this.u,this.A,this.m,this.X,t,i),this.i){if(this.$&&!this.J){t:{if(this.g){var c,l=this.g;if((c=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!il(c)){var f=c;break t}}f=null}if(!(i=f)){this.i=!1,this.o=3,Rf(12),ah(this),uh(this);break e}Cf(this.j,this.m,i,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,oh(this,i)}this.U?(eh(this,t,s),bl&&this.i&&3==t&&(xf(this.V,this.W,"tick",this.fb),this.W.start())):(Cf(this.j,this.m,s,null),oh(this,s)),4==t&&ah(this),this.i&&!this.I&&(4==t?Dd(this.l,this):(this.i=!1,nh(this)))}else 400==i&&0<s.indexOf("Unknown SID")?(this.o=3,Rf(12)):(this.o=0,Rf(13)),ah(this),uh(this)}}}catch(t){}},Lc.fb=function(){if(this.g){var e=hd(this.g),t=this.g.ga();this.C<t.length&&(ih(this),eh(this,e,t),this.i&&4!=e&&nh(this))}},Lc.cancel=function(){this.I=!0,ah(this)},Lc.eb=function(){this.B=null;var e=Date.now();0<=e-this.Y?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.A),2!=this.K&&(Nf(3),Rf(17)),ah(this),this.o=2,uh(this)):rh(this,this.Y-e)},(Lc=ch.prototype).R=function(){lh(this);for(var e=[],t=0;t<this.g.length;t++)e.push(this.h[this.g[t]]);return e},Lc.T=function(){return lh(this),this.g.concat()},Lc.get=function(e,t){return fh(this.h,e)?this.h[e]:t},Lc.set=function(e,t){fh(this.h,e)||(this.i++,this.g.push(e)),this.h[e]=t},Lc.forEach=function(e,t){for(var n=this.T(),r=0;r<n.length;r++){var i=n[r],u=this.get(i);e.call(t,u,i,this)}};var hh=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function dh(e,t){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,e instanceof dh){this.g=void 0!==t?t:e.g,vh(this,e.j),this.s=e.s,mh(this,e.i),yh(this,e.m),this.l=e.l,t=e.h;var n=new Th;n.i=t.i,t.g&&(n.g=new ch(t.g),n.h=t.h),gh(this,n),this.o=e.o}else e&&(n=String(e).match(hh))?(this.g=!!t,vh(this,n[1]||"",!0),this.s=wh(n[2]||""),mh(this,n[3]||"",!0),yh(this,n[4]),this.l=wh(n[5]||"",!0),gh(this,n[6]||"",!0),this.o=wh(n[7]||"")):(this.g=!!t,this.h=new Th(null,this.g))}function ph(e){return new dh(e)}function vh(e,t,n){e.j=n?wh(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function mh(e,t,n){e.i=n?wh(t,!0):t}function yh(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function gh(e,t,n){t instanceof Th?(e.h=t,function(e,t){t&&!e.j&&(Dh(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(Nh(this,t),Rh(this,n,e))}),e)),e.j=t}(e.h,e.g)):(n||(t=Eh(t,Ih)),e.h=new Th(t,e.g))}function kh(e,t,n){e.h.set(t,n)}function bh(e){return kh(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function wh(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Eh(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,xh),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function xh(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}dh.prototype.toString=function(){var e=[],t=this.j;t&&e.push(Eh(t,Ah,!0),":");var n=this.i;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(Eh(t,Ah,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.i&&"/"!=n.charAt(0)&&e.push("/"),e.push(Eh(n,"/"==n.charAt(0)?Ch:_h,!0))),(n=this.h.toString())&&e.push("?",n),(n=this.o)&&e.push("#",Eh(n,Sh)),e.join("")};var Ah=/[#\/\?@]/g,_h=/[#\?:]/g,Ch=/[#\?]/g,Ih=/[#\?@]/g,Sh=/#/g;function Th(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function Dh(e){e.g||(e.g=new ch,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var u=e[n].substring(0,r);i=e[n].substring(r+1)}else u=e[n];t(u,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function Nh(e,t){Dh(e),t=Ph(e,t),fh(e.g.h,t)&&(e.i=null,e.h-=e.g.get(t).length,fh((e=e.g).h,t)&&(delete e.h[t],e.i--,e.g.length>2*e.i&&lh(e)))}function Fh(e,t){return Dh(e),t=Ph(e,t),fh(e.g.h,t)}function Rh(e,t,n){Nh(e,t),0<n.length&&(e.i=null,e.g.set(Ph(e,t),rl(n)),e.h+=n.length)}function Ph(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(Lc=Th.prototype).add=function(e,t){Dh(this),this.i=null,e=Ph(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},Lc.forEach=function(e,t){Dh(this),this.g.forEach((function(n,r){tl(n,(function(n){e.call(t,n,r,this)}),this)}),this)},Lc.T=function(){Dh(this);for(var e=this.g.R(),t=this.g.T(),n=[],r=0;r<t.length;r++)for(var i=e[r],u=0;u<i.length;u++)n.push(t[r]);return n},Lc.R=function(e){Dh(this);var t=[];if("string"===typeof e)Fh(this,e)&&(t=nl(t,this.g.get(Ph(this,e))));else{e=this.g.R();for(var n=0;n<e.length;n++)t=nl(t,e[n])}return t},Lc.set=function(e,t){return Dh(this),this.i=null,Fh(this,e=Ph(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},Lc.get=function(e,t){return e&&0<(e=this.R(e)).length?String(e[0]):t},Lc.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=this.g.T(),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r));r=this.R(r);for(var u=0;u<r.length;u++){var a=i;""!==r[u]&&(a+="="+encodeURIComponent(String(r[u]))),e.push(a)}}return this.i=e.join("&")};var Oh=ne((function e(t,n){ee(this,e),this.h=t,this.g=n}));function Bh(e){this.l=e||jh,Vc.PerformanceNavigationTiming?e=0<(e=Vc.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(Vc.g&&Vc.g.Ea&&Vc.g.Ea()&&Vc.g.Ea().Zb),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var Lh,jh=10;function Mh(e){return!!e.h||!!e.g&&e.g.size>=e.j}function Uh(e){return e.h?1:e.g?e.g.size:0}function Vh(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function zh(e,t){e.g?e.g.add(t):e.h=t}function qh(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function Gh(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){var t,n=e.i,r=re(e.g.values());try{for(r.s();!(t=r.n()).done;){var i=t.value;n=n.concat(i.D)}}catch(u){r.e(u)}finally{r.f()}return n}return rl(e.i)}function Kh(){}function Hh(){this.g=new Kh}function Wh(e,t,n){var r=n||"";try{sh(e,(function(e,n){var i=e;Gc(e)&&(i=uf(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function Qh(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(u){}}function Jh(e){this.l=e.$b||null,this.j=e.ib||!1}function Yh(e,t){tf.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=Xh,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Bh.prototype.cancel=function(){if(this.i=Gh(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){var e,t=re(this.g.values());try{for(t.s();!(e=t.n()).done;){e.value.cancel()}}catch(n){t.e(n)}finally{t.f()}this.g.clear()}},Kh.prototype.stringify=function(e){return Vc.JSON.stringify(e,void 0)},Kh.prototype.parse=function(e){return Vc.JSON.parse(e,void 0)},Xc(Jh,jf),Jh.prototype.g=function(){return new Yh(this.l,this.j)},Jh.prototype.i=(Lh={},function(){return Lh}),Xc(Yh,tf);var Xh=0;function $h(e){e.j.read().then(e.Sa.bind(e)).catch(e.ha.bind(e))}function Zh(e){e.readyState=4,e.l=null,e.j=null,e.A=null,ed(e)}function ed(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(Lc=Yh.prototype).open=function(e,t){if(this.readyState!=Xh)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,ed(this)},Lc.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||Vc).fetch(new Request(this.B,t)).then(this.Va.bind(this),this.ha.bind(this))},Lc.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Zh(this)),this.readyState=Xh},Lc.Va=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,ed(this)),this.g&&(this.readyState=3,ed(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if("undefined"!==typeof Vc.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;$h(this)}else e.text().then(this.Ua.bind(this),this.ha.bind(this))},Lc.Sa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Zh(this):ed(this),3==this.readyState&&$h(this)}},Lc.Ua=function(e){this.g&&(this.response=this.responseText=e,Zh(this))},Lc.Ta=function(e){this.g&&(this.response=e,Zh(this))},Lc.ha=function(){this.g&&Zh(this)},Lc.setRequestHeader=function(e,t){this.v.append(e,t)},Lc.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},Lc.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(Yh.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var td=Vc.JSON.parse;function nd(e){tf.call(this),this.headers=new ch,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=rd,this.K=this.L=!1}Xc(nd,tf);var rd="",id=/^https?$/i,ud=["POST","PUT"];function ad(e){return"content-type"==e.toLowerCase()}function od(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,sd(e),ld(e)}function sd(e){e.D||(e.D=!0,nf(e,"complete"),nf(e,"error"))}function cd(e){if(e.h&&"undefined"!=typeof Uc&&(!e.C[1]||4!=hd(e)||2!=e.ba()))if(e.v&&4==hd(e))gf(e.Fa,0,e);else if(nf(e,"readystatechange"),4==hd(e)){e.h=!1;try{var t,n=e.ba();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var u=String(e.H).match(hh)[1]||null;if(!u&&Vc.self&&Vc.self.location){var a=Vc.self.location.protocol;u=a.substr(0,a.length-1)}i=!id.test(u?u.toLowerCase():"")}t=i}if(t)nf(e,"complete"),nf(e,"success");else{e.m=6;try{var o=2<hd(e)?e.g.statusText:""}catch(s){o=""}e.j=o+" ["+e.ba()+"]",sd(e)}}finally{ld(e)}}}function ld(e,t){if(e.g){fd(e);var n=e.g,r=e.C[0]?zc:null;e.g=null,e.C=null,t||nf(e,"ready");try{n.onreadystatechange=r}catch(i){}}}function fd(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(Vc.clearTimeout(e.A),e.A=null)}function hd(e){return e.g?e.g.readyState:0}function dd(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case rd:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(t){return null}}function pd(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=function(e){var t="";return fl(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):kh(e,t,n))}function vd(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function md(e){this.za=0,this.l=[],this.h=new _f,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=vd("failFast",!1,e),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=vd("baseRetryDelayMs",5e3,e),this.$a=vd("retryDelaySeedMs",1e4,e),this.Ya=vd("forwardChannelMaxRetries",2,e),this.ra=vd("forwardChannelRequestTimeoutMs",2e4,e),this.qa=e&&e.xmlHttpFactory||void 0,this.Ba=e&&e.Yb||!1,this.K=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.J="",this.i=new Bh(e&&e.concurrentRequestLimit),this.Ca=new Hh,this.ja=e&&e.fastHandshake||!1,this.Ra=e&&e.Wb||!1,e&&e.Aa&&this.h.Aa(),e&&e.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&e&&e.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!e||!1!==e.Xb}function yd(e){if(kd(e),3==e.G){var t=e.V++,n=ph(e.F);kh(n,"SID",e.J),kh(n,"RID",t),kh(n,"TYPE","terminate"),xd(e,n),(t=new Hf(e,e.h,t,void 0)).K=2,t.v=bh(ph(n)),n=!1,Vc.navigator&&Vc.navigator.sendBeacon&&(n=Vc.navigator.sendBeacon(t.v.toString(),"")),!n&&Vc.Image&&((new Image).src=t.v,n=!0),n||(t.g=Od(t.l,null),t.g.ea(t.v)),t.F=Date.now(),nh(t)}Rd(e)}function gd(e){e.g&&(Id(e),e.g.cancel(),e.g=null)}function kd(e){gd(e),e.u&&(Vc.clearTimeout(e.u),e.u=null),Td(e),e.i.cancel(),e.m&&("number"===typeof e.m&&Vc.clearTimeout(e.m),e.m=null)}function bd(e,t){e.l.push(new Oh(e.Za++,t)),3==e.G&&wd(e)}function wd(e){Mh(e.i)||e.m||(e.m=!0,hf(e.Ha,e),e.C=0)}function Ed(e,t){var n;n=t?t.m:e.V++;var r=ph(e.F);kh(r,"SID",e.J),kh(r,"RID",n),kh(r,"AID",e.U),xd(e,r),e.o&&e.s&&pd(r,e.o,e.s),n=new Hf(e,e.h,n,e.C+1),null===e.o&&(n.H=e.s),t&&(e.l=t.D.concat(e.l)),t=Ad(e,n,1e3),n.setTimeout(Math.round(.5*e.ra)+Math.round(.5*e.ra*Math.random())),zh(e.i,n),Xf(n,r,t)}function xd(e,t){e.j&&sh({},(function(e,n){kh(t,n,e)}))}function Ad(e,t,n){n=Math.min(e.l.length,n);var r=e.j?Jc(e.j.Oa,e.j,e):null;e:for(var i=e.l,u=-1;;){var a=["count="+n];-1==u?0<n?(u=i[0].h,a.push("ofs="+u)):u=0:a.push("ofs="+u);for(var o=!0,s=0;s<n;s++){var c=i[s].h,l=i[s].g;if(0>(c-=u))u=Math.max(0,i[s].h-100),o=!1;else try{Wh(l,a,"req"+c+"_")}catch(cp){r&&r(l)}}if(o){r=a.join("&");break e}}return e=e.l.splice(0,n),t.D=e,r}function _d(e){e.g||e.u||(e.Y=1,hf(e.Ga,e),e.A=0)}function Cd(e){return!(e.g||e.u||3<=e.A)&&(e.Y++,e.u=Of(Jc(e.Ga,e),Nd(e,e.A)),e.A++,!0)}function Id(e){null!=e.B&&(Vc.clearTimeout(e.B),e.B=null)}function Sd(e){e.g=new Hf(e,e.h,"rpc",e.Y),null===e.o&&(e.g.H=e.s),e.g.O=0;var t=ph(e.oa);kh(t,"RID","rpc"),kh(t,"SID",e.J),kh(t,"CI",e.N?"0":"1"),kh(t,"AID",e.U),xd(e,t),kh(t,"TYPE","xmlhttp"),e.o&&e.s&&pd(t,e.o,e.s),e.K&&e.g.setTimeout(e.K);var n=e.g;e=e.la,n.K=1,n.v=bh(ph(t)),n.s=null,n.U=!0,$f(n,e)}function Td(e){null!=e.v&&(Vc.clearTimeout(e.v),e.v=null)}function Dd(e,t){var n=null;if(e.g==t){Td(e),Id(e),e.g=null;var r=2}else{if(!Vh(e.i,t))return;n=t.D,qh(e.i,t),r=1}if(e.I=t.N,0!=e.G)if(t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.F;var i=e.C;nf(r=Tf(),new Pf(r,n,t,i)),wd(e)}else _d(e);else if(3==(i=t.o)||0==i&&0<e.I||!(1==r&&function(e,t){return!(Uh(e.i)>=e.i.j-(e.m?1:0))&&(e.m?(e.l=t.D.concat(e.l),!0):!(1==e.G||2==e.G||e.C>=(e.Xa?0:e.Ya))&&(e.m=Of(Jc(e.Ha,e,t),Nd(e,e.C)),e.C++,!0))}(e,t)||2==r&&Cd(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:Fd(e,5);break;case 4:Fd(e,10);break;case 3:Fd(e,6);break;default:Fd(e,2)}}function Nd(e,t){var n=e.Pa+Math.floor(Math.random()*e.$a);return e.j||(n*=2),n*t}function Fd(e,t){if(e.h.info("Error code "+t),2==t){var n=null;e.j&&(n=null);var r=Jc(e.jb,e);n||(n=new dh("//www.google.com/images/cleardot.gif"),Vc.location&&"http"==Vc.location.protocol||vh(n,"https"),bh(n)),function(e,t){var n=new _f;if(Vc.Image){var r=new Image;r.onload=Yc(Qh,n,r,"TestLoadImage: loaded",!0,t),r.onerror=Yc(Qh,n,r,"TestLoadImage: error",!1,t),r.onabort=Yc(Qh,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=Yc(Qh,n,r,"TestLoadImage: timeout",!1,t),Vc.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else Rf(2);e.G=0,e.j&&e.j.va(t),Rd(e),kd(e)}function Rd(e){e.G=0,e.I=-1,e.j&&(0==Gh(e.i).length&&0==e.l.length||(e.i.i.length=0,rl(e.l),e.l.length=0),e.j.ua())}function Pd(e,t,n){var r=function(e){return e instanceof dh?ph(e):new dh(e,void 0)}(n);if(""!=r.i)t&&mh(r,t+"."+r.i),yh(r,r.m);else{var i=Vc.location;r=function(e,t,n,r){var i=new dh(null,void 0);return e&&vh(i,e),t&&mh(i,t),n&&yh(i,n),r&&(i.l=r),i}(i.protocol,t?t+"."+i.hostname:i.hostname,+i.port,n)}return e.aa&&fl(e.aa,(function(e,t){kh(r,t,e)})),t=e.D,n=e.sa,t&&n&&kh(r,t,n),kh(r,"VER",e.ma),xd(e,r),r}function Od(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Ba&&!e.qa?new nd(new Jh({ib:!0})):new nd(e.qa)).L=e.H,t}function Bd(){}function Ld(){if(gl&&!(10<=Number(Nl)))throw Error("Environmental error: no available transport.")}function jd(e,t){tf.call(this),this.g=new md(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.P=e,(e=t&&t.httpHeadersOverwriteParam)&&!il(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!il(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new Vd(this)}function Md(e){qf.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function Ud(){Gf.call(this),this.status=1}function Vd(e){this.g=e}(Lc=nd.prototype).ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Vf.g(),this.C=this.u?Mf(this.u):Mf(Vf),this.g.onreadystatechange=Jc(this.Fa,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(u){return void od(this,u)}e=n||"";var i=new ch(this.headers);r&&sh(r,(function(e,t){i.set(t,e)})),r=function(e){e:{for(var t=ad,n=e.length,r="string"===typeof e?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e)){t=i;break e}t=-1}return 0>t?null:"string"===typeof e?e.charAt(t):e[t]}(i.T()),n=Vc.FormData&&e instanceof Vc.FormData,!(0<=el(ud,t))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach((function(e,t){this.g.setRequestHeader(t,e)}),this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{fd(this),0<this.B&&((this.K=function(e){return gl&&Tl()&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Jc(this.pa,this)):this.A=gf(this.pa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(u){od(this,u)}},Lc.pa=function(){"undefined"!=typeof Uc&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,nf(this,"timeout"),this.abort(8))},Lc.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,nf(this,"complete"),nf(this,"abort"),ld(this))},Lc.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),ld(this,!0)),nd.Z.M.call(this)},Lc.Fa=function(){this.s||(this.F||this.v||this.l?cd(this):this.cb())},Lc.cb=function(){cd(this)},Lc.ba=function(){try{return 2<hd(this)?this.g.status:-1}catch(Lh){return-1}},Lc.ga=function(){try{return this.g?this.g.responseText:""}catch(Lh){return""}},Lc.Qa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),td(t)}},Lc.Da=function(){return this.m},Lc.La=function(){return"string"===typeof this.j?this.j:String(this.j)},(Lc=md.prototype).ma=8,Lc.G=1,Lc.hb=function(e){try{this.h.info("Origin Trials invoked: "+e)}catch(t){}},Lc.Ha=function(e){if(this.m)if(this.m=null,1==this.G){if(!e){this.V=Math.floor(1e5*Math.random()),e=this.V++;var t=new Hf(this,this.h,e,void 0),n=this.s;if(this.P&&(n?pl(n=hl(n),this.P):n=this.P),null===this.o&&(t.H=n),this.ja)e:{for(var r=0,i=0;i<this.l.length;i++){var u=this.l[i];if(void 0===(u="__data__"in u.g&&"string"===typeof(u=u.g.__data__)?u.length:void 0))break;if(4096<(r+=u)){r=i;break e}if(4096===r||i===this.l.length-1){r=i+1;break e}}r=1e3}else r=1e3;r=Ad(this,t,r),kh(i=ph(this.F),"RID",e),kh(i,"CVER",22),this.D&&kh(i,"X-HTTP-Session-Id",this.D),xd(this,i),this.o&&n&&pd(i,this.o,n),zh(this.i,t),this.Ra&&kh(i,"TYPE","init"),this.ja?(kh(i,"$req",r),kh(i,"SID","null"),t.$=!0,Xf(t,i,null)):Xf(t,i,r),this.G=2}}else 3==this.G&&(e?Ed(this,e):0==this.l.length||Mh(this.i)||Ed(this))},Lc.Ga=function(){if(this.u=null,Sd(this),this.$&&!(this.L||null==this.g||0>=this.O)){var e=2*this.O;this.h.info("BP detection timer enabled: "+e),this.B=Of(Jc(this.bb,this),e)}},Lc.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,Rf(10),gd(this),Sd(this))},Lc.ab=function(){null!=this.v&&(this.v=null,gd(this),Cd(this),Rf(19))},Lc.jb=function(e){e?(this.h.info("Successfully pinged google.com"),Rf(2)):(this.h.info("Failed to ping google.com"),Rf(1))},(Lc=Bd.prototype).xa=function(){},Lc.wa=function(){},Lc.va=function(){},Lc.ua=function(){},Lc.Oa=function(){},Ld.prototype.g=function(e,t){return new jd(e,t)},Xc(jd,tf),jd.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;e.Wa&&(e.h.info("Origin Trials enabled."),hf(Jc(e.hb,e,t))),Rf(0),e.W=t,e.aa=n||{},e.N=e.X,e.F=Pd(e,null,e.W),wd(e)},jd.prototype.close=function(){yd(this.g)},jd.prototype.u=function(e){if("string"===typeof e){var t={};t.__data__=e,bd(this.g,t)}else this.v?((t={}).__data__=uf(e),bd(this.g,t)):bd(this.g,e)},jd.prototype.M=function(){this.g.j=null,delete this.j,yd(this.g),delete this.g,jd.Z.M.call(this)},Xc(Md,qf),Xc(Ud,Gf),Xc(Vd,Bd),Vd.prototype.xa=function(){nf(this.g,"a")},Vd.prototype.wa=function(e){nf(this.g,new Md(e))},Vd.prototype.va=function(e){nf(this.g,new Ud(e))},Vd.prototype.ua=function(){nf(this.g,"b")},Ld.prototype.createWebChannel=Ld.prototype.g,jd.prototype.send=jd.prototype.u,jd.prototype.open=jd.prototype.m,jd.prototype.close=jd.prototype.close,Bf.NO_ERROR=0,Bf.TIMEOUT=8,Bf.HTTP_ERROR=6,Lf.COMPLETE="complete",Uf.EventType=zf,zf.OPEN="a",zf.CLOSE="b",zf.ERROR="c",zf.MESSAGE="d",tf.prototype.listen=tf.prototype.N,nd.prototype.listenOnce=nd.prototype.O,nd.prototype.getLastError=nd.prototype.La,nd.prototype.getLastErrorCode=nd.prototype.Da,nd.prototype.getStatus=nd.prototype.ba,nd.prototype.getResponseJson=nd.prototype.Qa,nd.prototype.getResponseText=nd.prototype.ga,nd.prototype.send=nd.prototype.ea;var zd=Mc.createWebChannelTransport=function(){return new Ld},qd=Mc.getStatEventTarget=function(){return Tf()},Gd=Mc.ErrorCode=Bf,Kd=Mc.EventType=Lf,Hd=Mc.Event=If,Wd=Mc.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},Qd=Mc.FetchXmlHttpFactory=Jh,Jd=Mc.WebChannel=Uf,Yd=Mc.XhrIo=nd,Xd="@firebase/firestore",$d=function(){function e(t){ee(this,e),this.uid=t}return ne(e,[{key:"isAuthenticated",value:function(){return null!=this.uid}},{key:"toKey",value:function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}},{key:"isEqual",value:function(e){return e.uid===this.uid}}]),e}();$d.UNAUTHENTICATED=new $d(null),$d.GOOGLE_CREDENTIALS=new $d("google-credentials-uid"),$d.FIRST_PARTY=new $d("first-party-uid"),$d.MOCK_USER=new $d("mock-user");var Zd="9.9.1",ep=new it("@firebase/firestore");function tp(){return ep.logLevel}function np(e){if(ep.logLevel<=Xe.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(up);ep.debug.apply(ep,["Firestore (".concat(Zd,"): ").concat(e)].concat(Ge(i)))}}function rp(e){if(ep.logLevel<=Xe.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(up);ep.error.apply(ep,["Firestore (".concat(Zd,"): ").concat(e)].concat(Ge(i)))}}function ip(e){if(ep.logLevel<=Xe.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(up);ep.warn.apply(ep,["Firestore (".concat(Zd,"): ").concat(e)].concat(Ge(i)))}}function up(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}var t}function ap(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state",t="FIRESTORE (".concat(Zd,") INTERNAL ASSERTION FAILED: ")+e;throw rp(t),new Error(t)}function op(e,t){e||ap()}function sp(e,t){return e}var cp={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},lp=function(e){ae(n,e);var t=fe(n);function n(e,r){var i;return ee(this,n),(i=t.call(this,e,r)).code=e,i.message=r,i.toString=function(){return"".concat(i.name,": [code=").concat(i.code,"]: ").concat(i.message)},i}return ne(n)}(Se),fp=ne((function e(){var t=this;ee(this,e),this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))})),hp=ne((function e(t,n){ee(this,e),this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(t))})),dp=function(){function e(){ee(this,e)}return ne(e,[{key:"getToken",value:function(){return Promise.resolve(null)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t($d.UNAUTHENTICATED)}))}},{key:"shutdown",value:function(){}}]),e}(),pp=function(){function e(t){ee(this,e),this.token=t,this.changeListener=null}return ne(e,[{key:"getToken",value:function(){return Promise.resolve(this.token)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){var n=this;this.changeListener=t,e.enqueueRetryable((function(){return t(n.token.user)}))}},{key:"shutdown",value:function(){this.changeListener=null}}]),e}(),vp=function(){function e(t){ee(this,e),this.t=t,this.currentUser=$d.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}return ne(e,[{key:"start",value:function(e,t){var n=this,r=this.i,i=function(e){return n.i!==r?(r=n.i,t(e)):Promise.resolve()},u=new fp;this.o=function(){n.i++,n.currentUser=n.u(),u.resolve(),u=new fp,e.enqueueRetryable((function(){return i(n.currentUser)}))};var a=function(){var t=u;e.enqueueRetryable(He(ze().mark((function e(){return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.promise;case 2:return e.next=4,i(n.currentUser);case 4:case"end":return e.stop()}}),e)}))))},o=function(e){np("FirebaseAuthCredentialsProvider","Auth detected"),n.auth=e,n.auth.addAuthTokenListener(n.o),a()};this.t.onInit((function(e){return o(e)})),setTimeout((function(){if(!n.auth){var e=n.t.getImmediate({optional:!0});e?o(e):(np("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new fp)}}),0),a()}},{key:"getToken",value:function(){var e=this,t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return e.i!==t?(np("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),e.getToken()):n?(op("string"==typeof n.accessToken),new hp(n.accessToken,e.currentUser)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.auth&&this.auth.removeAuthTokenListener(this.o)}},{key:"u",value:function(){var e=this.auth&&this.auth.getUid();return op(null===e||"string"==typeof e),new $d(e)}}]),e}(),mp=ne((function e(t,n,r){ee(this,e),this.type="FirstParty",this.user=$d.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",n);var i=t.auth.getAuthHeaderValueForFirstParty([]);i&&this.headers.set("Authorization",i),r&&this.headers.set("X-Goog-Iam-Authorization-Token",r)})),yp=function(){function e(t,n,r){ee(this,e),this.h=t,this.l=n,this.m=r}return ne(e,[{key:"getToken",value:function(){return Promise.resolve(new mp(this.h,this.l,this.m))}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t($d.FIRST_PARTY)}))}},{key:"shutdown",value:function(){}},{key:"invalidateToken",value:function(){}}]),e}(),gp=ne((function e(t){ee(this,e),this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)})),kp=function(){function e(t){ee(this,e),this.g=t,this.forceRefresh=!1,this.appCheck=null,this.p=null}return ne(e,[{key:"start",value:function(e,t){var n=this,r=function(e){null!=e.error&&np("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));var r=e.token!==n.p;return n.p=e.token,np("FirebaseAppCheckTokenProvider","Received ".concat(r?"new":"existing"," token.")),r?t(e.token):Promise.resolve()};this.o=function(t){e.enqueueRetryable((function(){return r(t)}))};var i=function(e){np("FirebaseAppCheckTokenProvider","AppCheck detected"),n.appCheck=e,n.appCheck.addTokenListener(n.o)};this.g.onInit((function(e){return i(e)})),setTimeout((function(){if(!n.appCheck){var e=n.g.getImmediate({optional:!0});e?i(e):np("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}},{key:"getToken",value:function(){var e=this,t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((function(t){return t?(op("string"==typeof t.token),e.p=t.token,new gp(t.token)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}]),e}();function bp(e){var t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}var wp=function(){function e(){ee(this,e)}return ne(e,null,[{key:"I",value:function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,n="";n.length<20;)for(var r=bp(40),i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%e.length));return n}}]),e}();function Ep(e,t){return e<t?-1:e>t?1:0}function xp(e,t,n){return e.length===t.length&&e.every((function(e,r){return n(e,t[r])}))}function Ap(e){return e+"\0"}var _p=function(){function e(t,n){if(ee(this,e),this.seconds=t,this.nanoseconds=n,n<0)throw new lp(cp.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new lp(cp.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new lp(cp.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new lp(cp.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return ne(e,[{key:"toDate",value:function(){return new Date(this.toMillis())}},{key:"toMillis",value:function(){return 1e3*this.seconds+this.nanoseconds/1e6}},{key:"_compareTo",value:function(e){return this.seconds===e.seconds?Ep(this.nanoseconds,e.nanoseconds):Ep(this.seconds,e.seconds)}},{key:"isEqual",value:function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}},{key:"toString",value:function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}},{key:"toJSON",value:function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}},{key:"valueOf",value:function(){var e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}],[{key:"now",value:function(){return e.fromMillis(Date.now())}},{key:"fromDate",value:function(t){return e.fromMillis(t.getTime())}},{key:"fromMillis",value:function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))}}]),e}(),Cp=function(){function e(t){ee(this,e),this.timestamp=t}return ne(e,[{key:"compareTo",value:function(e){return this.timestamp._compareTo(e.timestamp)}},{key:"isEqual",value:function(e){return this.timestamp.isEqual(e.timestamp)}},{key:"toMicroseconds",value:function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}},{key:"toString",value:function(){return"SnapshotVersion("+this.timestamp.toString()+")"}},{key:"toTimestamp",value:function(){return this.timestamp}}],[{key:"fromTimestamp",value:function(t){return new e(t)}},{key:"min",value:function(){return new e(new _p(0,0))}},{key:"max",value:function(){return new e(new _p(253402300799,999999999))}}]),e}(),Ip=function(){function e(t,n,r){ee(this,e),void 0===n?n=0:n>t.length&&ap(),void 0===r?r=t.length-n:r>t.length-n&&ap(),this.segments=t,this.offset=n,this.len=r}return ne(e,[{key:"length",get:function(){return this.len}},{key:"isEqual",value:function(t){return 0===e.comparator(this,t)}},{key:"child",value:function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach((function(e){n.push(e)})):n.push(t),this.construct(n)}},{key:"limit",value:function(){return this.offset+this.length}},{key:"popFirst",value:function(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}},{key:"popLast",value:function(){return this.construct(this.segments,this.offset,this.length-1)}},{key:"firstSegment",value:function(){return this.segments[this.offset]}},{key:"lastSegment",value:function(){return this.get(this.length-1)}},{key:"get",value:function(e){return this.segments[this.offset+e]}},{key:"isEmpty",value:function(){return 0===this.length}},{key:"isPrefixOf",value:function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"isImmediateParentOf",value:function(e){if(this.length+1!==e.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"forEach",value:function(e){for(var t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}},{key:"toArray",value:function(){return this.segments.slice(this.offset,this.limit())}}],[{key:"comparator",value:function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var i=e.get(r),u=t.get(r);if(i<u)return-1;if(i>u)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}]),e}(),Sp=function(e){ae(n,e);var t=fe(n);function n(){return ee(this,n),t.apply(this,arguments)}return ne(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().join("/")}},{key:"toString",value:function(){return this.canonicalString()}}],[{key:"fromString",value:function(){for(var e=[],t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];for(var u=0,a=r;u<a.length;u++){var o=a[u];if(o.indexOf("//")>=0)throw new lp(cp.INVALID_ARGUMENT,"Invalid segment (".concat(o,"). Paths must not contain // in them."));e.push.apply(e,Ge(o.split("/").filter((function(e){return e.length>0}))))}return new n(e)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(Ip),Tp=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Dp=function(e){ae(n,e);var t=fe(n);function n(){return ee(this,n),t.apply(this,arguments)}return ne(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().map((function(e){return e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e})).join(".")}},{key:"toString",value:function(){return this.canonicalString()}},{key:"isKeyField",value:function(){return 1===this.length&&"__name__"===this.get(0)}}],[{key:"isValidIdentifier",value:function(e){return Tp.test(e)}},{key:"keyField",value:function(){return new n(["__name__"])}},{key:"fromServerFormat",value:function(e){for(var t=[],r="",i=0,u=function(){if(0===r.length)throw new lp(cp.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(r),r=""},a=!1;i<e.length;){var o=e[i];if("\\"===o){if(i+1===e.length)throw new lp(cp.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var s=e[i+1];if("\\"!==s&&"."!==s&&"`"!==s)throw new lp(cp.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=s,i+=2}else"`"===o?(a=!a,i++):"."!==o||a?(r+=o,i++):(u(),i++)}if(u(),a)throw new lp(cp.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(Ip),Np=function(){function e(t){ee(this,e),this.path=t}return ne(e,[{key:"collectionGroup",get:function(){return this.path.popLast().lastSegment()}},{key:"hasCollectionId",value:function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}},{key:"getCollectionGroup",value:function(){return this.path.get(this.path.length-2)}},{key:"getCollectionPath",value:function(){return this.path.popLast()}},{key:"isEqual",value:function(e){return null!==e&&0===Sp.comparator(this.path,e.path)}},{key:"toString",value:function(){return this.path.toString()}}],[{key:"fromPath",value:function(t){return new e(Sp.fromString(t))}},{key:"fromName",value:function(t){return new e(Sp.fromString(t).popFirst(5))}},{key:"empty",value:function(){return new e(Sp.emptyPath())}},{key:"comparator",value:function(e,t){return Sp.comparator(e.path,t.path)}},{key:"isDocumentKey",value:function(e){return e.length%2==0}},{key:"fromSegments",value:function(t){return new e(new Sp(t.slice()))}}]),e}(),Fp=ne((function e(t,n,r,i){ee(this,e),this.indexId=t,this.collectionGroup=n,this.fields=r,this.indexState=i}));function Rp(e){return e.fields.find((function(e){return 2===e.kind}))}function Pp(e){return e.fields.filter((function(e){return 2!==e.kind}))}Fp.UNKNOWN_ID=-1;var Op=ne((function e(t,n){ee(this,e),this.fieldPath=t,this.kind=n})),Bp=function(){function e(t,n){ee(this,e),this.sequenceNumber=t,this.offset=n}return ne(e,null,[{key:"empty",value:function(){return new e(0,Mp.min())}}]),e}();function Lp(e,t){var n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=Cp.fromTimestamp(1e9===r?new _p(n+1,0):new _p(n,r));return new Mp(i,Np.empty(),t)}function jp(e){return new Mp(e.readTime,e.key,-1)}var Mp=function(){function e(t,n,r){ee(this,e),this.readTime=t,this.documentKey=n,this.largestBatchId=r}return ne(e,null,[{key:"min",value:function(){return new e(Cp.min(),Np.empty(),-1)}},{key:"max",value:function(){return new e(Cp.max(),Np.empty(),-1)}}]),e}();function Up(e,t){var n=e.readTime.compareTo(t.readTime);return 0!==n?n:0!==(n=Np.comparator(e.documentKey,t.documentKey))?n:Ep(e.largestBatchId,t.largestBatchId)}var Vp="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",zp=function(){function e(){ee(this,e),this.onCommittedListeners=[]}return ne(e,[{key:"addOnCommittedListener",value:function(e){this.onCommittedListeners.push(e)}},{key:"raiseOnCommittedEvent",value:function(){this.onCommittedListeners.forEach((function(e){return e()}))}}]),e}();function qp(e){return Gp.apply(this,arguments)}function Gp(){return Gp=He(ze().mark((function e(t){return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code===cp.FAILED_PRECONDITION&&t.message===Vp){e.next=2;break}throw t;case 2:np("LocalStore","Unexpectedly lost primary lease");case 3:case"end":return e.stop()}}),e)}))),Gp.apply(this,arguments)}var Kp=function(){function e(t){var n=this;ee(this,e),this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((function(e){n.isDone=!0,n.result=e,n.nextCallback&&n.nextCallback(e)}),(function(e){n.isDone=!0,n.error=e,n.catchCallback&&n.catchCallback(e)}))}return ne(e,[{key:"catch",value:function(e){return this.next(void 0,e)}},{key:"next",value:function(t,n){var r=this;return this.callbackAttached&&ap(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e((function(e,i){r.nextCallback=function(n){r.wrapSuccess(t,n).next(e,i)},r.catchCallback=function(t){r.wrapFailure(n,t).next(e,i)}}))}},{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.next(t,n)}))}},{key:"wrapUserFunction",value:function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(t){return e.reject(t)}}},{key:"wrapSuccess",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.resolve(n)}},{key:"wrapFailure",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.reject(n)}}],[{key:"resolve",value:function(t){return new e((function(e,n){e(t)}))}},{key:"reject",value:function(t){return new e((function(e,n){n(t)}))}},{key:"waitFor",value:function(t){return new e((function(e,n){var r=0,i=0,u=!1;t.forEach((function(t){++r,t.next((function(){++i,u&&i===r&&e()}),(function(e){return n(e)}))})),u=!0,i===r&&e()}))}},{key:"or",value:function(t){var n,r=e.resolve(!1),i=re(t);try{var u=function(){var t=n.value;r=r.next((function(n){return n?e.resolve(n):t()}))};for(i.s();!(n=i.n()).done;)u()}catch(a){i.e(a)}finally{i.f()}return r}},{key:"forEach",value:function(e,t){var n=this,r=[];return e.forEach((function(e,i){r.push(t.call(n,e,i))})),this.waitFor(r)}},{key:"mapArray",value:function(t,n){return new e((function(e,r){for(var i=t.length,u=new Array(i),a=0,o=function(o){var s=o;n(t[s]).next((function(t){u[s]=t,++a===i&&e(u)}),(function(e){return r(e)}))},s=0;s<i;s++)o(s)}))}},{key:"doWhile",value:function(t,n){return new e((function(e,r){!function i(){!0===t()?n().next((function(){i()}),r):e()}()}))}}]),e}(),Hp=function(){function e(t,n){var r=this;ee(this,e),this.action=t,this.transaction=n,this.aborted=!1,this.T=new fp,this.transaction.oncomplete=function(){r.T.resolve()},this.transaction.onabort=function(){n.error?r.T.reject(new Jp(t,n.error)):r.T.resolve()},this.transaction.onerror=function(e){var n=ev(e.target.error);r.T.reject(new Jp(t,n))}}return ne(e,[{key:"A",get:function(){return this.T.promise}},{key:"abort",value:function(e){e&&this.T.reject(e),this.aborted||(np("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}},{key:"R",value:function(){var e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}},{key:"store",value:function(e){var t=this.transaction.objectStore(e);return new Xp(t)}}],[{key:"open",value:function(t,n,r,i){try{return new e(n,t.transaction(i,r))}catch(t){throw new Jp(n,t)}}}]),e}(),Wp=function(){function e(t,n,r){ee(this,e),this.name=t,this.version=n,this.P=r,12.2===e.v(we())&&rp("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return ne(e,[{key:"k",value:function(){var e=He(ze().mark((function e(t){var n=this;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.db,e.t0){e.next=6;break}return np("SimpleDb","Opening database:",this.name),e.next=5,new Promise((function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){var n=t.target.result;e(n)},i.onblocked=function(){r(new Jp(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;"VersionError"===n.name?r(new lp(cp.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):"InvalidStateError"===n.name?r(new lp(cp.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+n)):r(new Jp(t,n))},i.onupgradeneeded=function(e){np("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',e.oldVersion);var t=e.target.result;n.P.O(t,i.transaction,e.oldVersion,n.version).next((function(){np("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}));case 5:this.db=e.sent;case 6:return this.M&&(this.db.onversionchange=function(e){return n.M(e)}),e.abrupt("return",this.db);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"F",value:function(e){this.M=e,this.db&&(this.db.onversionchange=function(t){return e(t)})}},{key:"runTransaction",value:function(){var e=He(ze().mark((function e(t,n,r,i){var u,a,o,s,c,l=this;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:u="readonly"===n,a=0;case 2:return++a,e.prev=3,e.delegateYield(ze().mark((function e(){var n,a;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.k(t);case 2:return l.db=e.sent,n=Hp.open(l.db,t,u?"readonly":"readwrite",r),a=i(n).next((function(e){return n.R(),e})).catch((function(e){return n.abort(e),Kp.reject(e)})).toPromise(),a.catch((function(){})),e.next=7,n.A;case 7:return e.t0=a,e.abrupt("return",{v:e.t0});case 9:case"end":return e.stop()}}),e)}))(),"t0",5);case 5:if("object"!==typeof(o=e.t0)){e.next=8;break}return e.abrupt("return",o.v);case 8:e.next=15;break;case 10:if(e.prev=10,e.t1=e.catch(3),s=e.t1,c="FirebaseError"!==s.name&&a<3,np("SimpleDb","Transaction failed with error:",s.message,"Retrying:",c),this.close(),c){e.next=15;break}return e.abrupt("return",Promise.reject(s));case 15:e.next=2;break;case 17:case"end":return e.stop()}}),e,this,[[3,10]])})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"close",value:function(){this.db&&this.db.close(),this.db=void 0}}],[{key:"delete",value:function(e){return np("SimpleDb","Removing database:",e),$p(window.indexedDB.deleteDatabase(e)).toPromise()}},{key:"V",value:function(){if(!Ie())return!1;if(e.S())return!0;var t=we(),n=e.v(t),r=0<n&&n<10,i=e.D(t),u=0<i&&i<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||r||u)}},{key:"S",value:function(){var e;return"undefined"!=typeof process&&"YES"===(null===(e={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0})||void 0===e?void 0:e.C)}},{key:"N",value:function(e,t){return e.store(t)}},{key:"v",value:function(e){var t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)}},{key:"D",value:function(e){var t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}}]),e}(),Qp=function(){function e(t){ee(this,e),this.$=t,this.B=!1,this.L=null}return ne(e,[{key:"isDone",get:function(){return this.B}},{key:"U",get:function(){return this.L}},{key:"cursor",set:function(e){this.$=e}},{key:"done",value:function(){this.B=!0}},{key:"q",value:function(e){this.L=e}},{key:"delete",value:function(){return $p(this.$.delete())}}]),e}(),Jp=function(e){ae(n,e);var t=fe(n);function n(e,r){var i;return ee(this,n),(i=t.call(this,cp.UNAVAILABLE,"IndexedDB transaction '".concat(e,"' failed: ").concat(r))).name="IndexedDbTransactionError",i}return ne(n)}(lp);function Yp(e){return"IndexedDbTransactionError"===e.name}var Xp=function(){function e(t){ee(this,e),this.store=t}return ne(e,[{key:"put",value:function(e,t){var n;return void 0!==t?(np("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(np("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),$p(n)}},{key:"add",value:function(e){return np("SimpleDb","ADD",this.store.name,e,e),$p(this.store.add(e))}},{key:"get",value:function(e){var t=this;return $p(this.store.get(e)).next((function(n){return void 0===n&&(n=null),np("SimpleDb","GET",t.store.name,e,n),n}))}},{key:"delete",value:function(e){return np("SimpleDb","DELETE",this.store.name,e),$p(this.store.delete(e))}},{key:"count",value:function(){return np("SimpleDb","COUNT",this.store.name),$p(this.store.count())}},{key:"K",value:function(e,t){var n=this.options(e,t);if(n.index||"function"!=typeof this.store.getAll){var r=this.cursor(n),i=[];return this.G(r,(function(e,t){i.push(t)})).next((function(){return i}))}var u=this.store.getAll(n.range);return new Kp((function(e,t){u.onerror=function(e){t(e.target.error)},u.onsuccess=function(t){e(t.target.result)}}))}},{key:"j",value:function(e,t){var n=this.store.getAll(e,null===t?void 0:t);return new Kp((function(e,t){n.onerror=function(e){t(e.target.error)},n.onsuccess=function(t){e(t.target.result)}}))}},{key:"W",value:function(e,t){np("SimpleDb","DELETE ALL",this.store.name);var n=this.options(e,t);n.H=!1;var r=this.cursor(n);return this.G(r,(function(e,t,n){return n.delete()}))}},{key:"J",value:function(e,t){var n;t?n=e:(n={},t=e);var r=this.cursor(n);return this.G(r,t)}},{key:"Y",value:function(e){var t=this.cursor({});return new Kp((function(n,r){t.onerror=function(e){var t=ev(e.target.error);r(t)},t.onsuccess=function(t){var r=t.target.result;r?e(r.primaryKey,r.value).next((function(e){e?r.continue():n()})):n()}}))}},{key:"G",value:function(e,t){var n=[];return new Kp((function(r,i){e.onerror=function(e){i(e.target.error)},e.onsuccess=function(e){var i=e.target.result;if(i){var u=new Qp(i),a=t(i.primaryKey,i.value,u);if(a instanceof Kp){var o=a.catch((function(e){return u.done(),Kp.reject(e)}));n.push(o)}u.isDone?r():null===u.U?i.continue():i.continue(u.U)}else r()}})).next((function(){return Kp.waitFor(n)}))}},{key:"options",value:function(e,t){var n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}}},{key:"cursor",value:function(e){var t="next";if(e.reverse&&(t="prev"),e.index){var n=this.store.index(e.index);return e.H?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}]),e}();function $p(e){return new Kp((function(t,n){e.onsuccess=function(e){var n=e.target.result;t(n)},e.onerror=function(e){var t=ev(e.target.error);n(t)}}))}var Zp=!1;function ev(e){var t=Wp.v(we());if(t>=12.2&&t<13){var n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){var r=new lp("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '".concat(n,"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround."));return Zp||(Zp=!0,setTimeout((function(){throw r}),0)),r}}return e}var tv=function(){function e(t,n){ee(this,e),this.asyncQueue=t,this.X=n,this.task=null}return ne(e,[{key:"start",value:function(){}},{key:"stop",value:function(){this.task&&(this.task.cancel(),this.task=null)}},{key:"started",get:function(){return null!==this.task}},{key:"Z",value:function(e){var t=this;np("IndexBackiller","Scheduled in ".concat(e,"ms")),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,He(ze().mark((function e(){return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.task=null,e.prev=1,e.t0=np,e.t1="Documents written: ",e.next=6,t.X.tt();case 6:e.t2=e.sent,e.t3=e.t1.concat.call(e.t1,e.t2),(0,e.t0)("IndexBackiller",e.t3),e.next=19;break;case 11:if(e.prev=11,e.t4=e.catch(1),!Yp(e.t4)){e.next=17;break}np("IndexBackiller","Ignoring IndexedDB error during index backfill: ",e.t4),e.next=19;break;case 17:return e.next=19,qp(e.t4);case 19:return e.next=21,t.Z(1);case 21:case"end":return e.stop()}}),e,null,[[1,11]])}))))}}]),e}(),nv=function(){function e(t,n){ee(this,e),this.localStore=t,this.persistence=n}return ne(e,[{key:"tt",value:function(){var e=He(ze().mark((function e(){var t,n=this,r=arguments;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:50,e.abrupt("return",this.persistence.runTransaction("Backfill Indexes","readwrite-primary",(function(e){return n.et(e,t)})));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"et",value:function(e,t){var n=this,r=new Set,i=t,u=!0;return Kp.doWhile((function(){return!0===u&&i>0}),(function(){return n.localStore.indexManager.getNextCollectionGroupToUpdate(e).next((function(t){if(null!==t&&!r.has(t))return np("IndexBackiller","Processing collection: ".concat(t)),n.nt(e,t,i).next((function(e){i-=e,r.add(t)}));u=!1}))})).next((function(){return t-i}))}},{key:"nt",value:function(e,t,n){var r=this;return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next((function(i){return r.localStore.localDocuments.getNextDocuments(e,t,i,n).next((function(n){var u=n.changes;return r.localStore.indexManager.updateIndexEntries(e,u).next((function(){return r.st(i,n)})).next((function(n){return np("IndexBackiller","Updating offset: ".concat(n)),r.localStore.indexManager.updateCollectionGroup(e,t,n)})).next((function(){return u.size}))}))}))}},{key:"st",value:function(e,t){var n=e;return t.changes.forEach((function(e,t){var r=jp(t);Up(r,n)>0&&(n=r)})),new Mp(n.readTime,n.documentKey,Math.max(t.batchId,e.largestBatchId))}}]),e}(),rv=function(){function e(t,n){var r=this;ee(this,e),this.previousValue=t,n&&(n.sequenceNumberHandler=function(e){return r.it(e)},this.rt=function(e){return n.writeSequenceNumber(e)})}return ne(e,[{key:"it",value:function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}},{key:"next",value:function(){var e=++this.previousValue;return this.rt&&this.rt(e),e}}]),e}();function iv(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function uv(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function av(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}rv.ot=-1;var ov=function(){function e(t,n){ee(this,e),this.comparator=t,this.root=n||cv.EMPTY}return ne(e,[{key:"insert",value:function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,cv.BLACK,null,null))}},{key:"remove",value:function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,cv.BLACK,null,null))}},{key:"get",value:function(e){for(var t=this.root;!t.isEmpty();){var n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}},{key:"indexOf",value:function(e){for(var t=0,n=this.root;!n.isEmpty();){var r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}},{key:"isEmpty",value:function(){return this.root.isEmpty()}},{key:"size",get:function(){return this.root.size}},{key:"minKey",value:function(){return this.root.minKey()}},{key:"maxKey",value:function(){return this.root.maxKey()}},{key:"inorderTraversal",value:function(e){return this.root.inorderTraversal(e)}},{key:"forEach",value:function(e){this.inorderTraversal((function(t,n){return e(t,n),!1}))}},{key:"toString",value:function(){var e=[];return this.inorderTraversal((function(t,n){return e.push("".concat(t,":").concat(n)),!1})),"{".concat(e.join(", "),"}")}},{key:"reverseTraversal",value:function(e){return this.root.reverseTraversal(e)}},{key:"getIterator",value:function(){return new sv(this.root,null,this.comparator,!1)}},{key:"getIteratorFrom",value:function(e){return new sv(this.root,e,this.comparator,!1)}},{key:"getReverseIterator",value:function(){return new sv(this.root,null,this.comparator,!0)}},{key:"getReverseIteratorFrom",value:function(e){return new sv(this.root,e,this.comparator,!0)}}]),e}(),sv=function(){function e(t,n,r,i){ee(this,e),this.isReverse=i,this.nodeStack=[];for(var u=1;!t.isEmpty();)if(u=n?r(t.key,n):1,n&&i&&(u*=-1),u<0)t=this.isReverse?t.left:t.right;else{if(0===u){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return ne(e,[{key:"getNext",value:function(){var e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}},{key:"hasNext",value:function(){return this.nodeStack.length>0}},{key:"peek",value:function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}]),e}(),cv=function(){function e(t,n,r,i,u){ee(this,e),this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:e.EMPTY,this.right=null!=u?u:e.EMPTY,this.size=this.left.size+1+this.right.size}return ne(e,[{key:"copy",value:function(t,n,r,i,u){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=u?u:this.right)}},{key:"isEmpty",value:function(){return!1}},{key:"inorderTraversal",value:function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}},{key:"min",value:function(){return this.left.isEmpty()?this:this.left.min()}},{key:"minKey",value:function(){return this.min().key}},{key:"maxKey",value:function(){return this.right.isEmpty()?this.key:this.right.maxKey()}},{key:"insert",value:function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp()}},{key:"removeMin",value:function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()}},{key:"remove",value:function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(t,i.key)){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}},{key:"isRed",value:function(){return this.color}},{key:"fixUp",value:function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}},{key:"moveRedLeft",value:function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e}},{key:"moveRedRight",value:function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e}},{key:"rotateLeft",value:function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}},{key:"rotateRight",value:function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}},{key:"colorFlip",value:function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}},{key:"checkMaxDepth",value:function(){var e=this.check();return Math.pow(2,e)<=this.size+1}},{key:"check",value:function(){if(this.isRed()&&this.left.isRed())throw ap();if(this.right.isRed())throw ap();var e=this.left.check();if(e!==this.right.check())throw ap();return e+(this.isRed()?0:1)}}]),e}();cv.EMPTY=null,cv.RED=!0,cv.BLACK=!1,cv.EMPTY=new(function(){function e(){ee(this,e),this.size=0}return ne(e,[{key:"key",get:function(){throw ap()}},{key:"value",get:function(){throw ap()}},{key:"color",get:function(){throw ap()}},{key:"left",get:function(){throw ap()}},{key:"right",get:function(){throw ap()}},{key:"copy",value:function(e,t,n,r,i){return this}},{key:"insert",value:function(e,t,n){return new cv(e,t)}},{key:"remove",value:function(e,t){return this}},{key:"isEmpty",value:function(){return!0}},{key:"inorderTraversal",value:function(e){return!1}},{key:"reverseTraversal",value:function(e){return!1}},{key:"minKey",value:function(){return null}},{key:"maxKey",value:function(){return null}},{key:"isRed",value:function(){return!1}},{key:"checkMaxDepth",value:function(){return!0}},{key:"check",value:function(){return 0}}]),e}());var lv=function(){function e(t){ee(this,e),this.comparator=t,this.data=new ov(this.comparator)}return ne(e,[{key:"has",value:function(e){return null!==this.data.get(e)}},{key:"first",value:function(){return this.data.minKey()}},{key:"last",value:function(){return this.data.maxKey()}},{key:"size",get:function(){return this.data.size}},{key:"indexOf",value:function(e){return this.data.indexOf(e)}},{key:"forEach",value:function(e){this.data.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"forEachInRange",value:function(e,t){for(var n=this.data.getIteratorFrom(e[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}},{key:"forEachWhile",value:function(e,t){var n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}},{key:"firstAfterOrEqual",value:function(e){var t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}},{key:"getIterator",value:function(){return new fv(this.data.getIterator())}},{key:"getIteratorFrom",value:function(e){return new fv(this.data.getIteratorFrom(e))}},{key:"add",value:function(e){return this.copy(this.data.remove(e).insert(e,!0))}},{key:"delete",value:function(e){return this.has(e)?this.copy(this.data.remove(e)):this}},{key:"isEmpty",value:function(){return this.data.isEmpty()}},{key:"unionWith",value:function(e){var t=this;return t.size<e.size&&(t=e,e=this),e.forEach((function(e){t=t.add(e)})),t}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var i=n.getNext().key,u=r.getNext().key;if(0!==this.comparator(i,u))return!1}return!0}},{key:"toArray",value:function(){var e=[];return this.forEach((function(t){e.push(t)})),e}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){return e.push(t)})),"SortedSet("+e.toString()+")"}},{key:"copy",value:function(t){var n=new e(this.comparator);return n.data=t,n}}]),e}(),fv=function(){function e(t){ee(this,e),this.iter=t}return ne(e,[{key:"getNext",value:function(){return this.iter.getNext().key}},{key:"hasNext",value:function(){return this.iter.hasNext()}}]),e}();function hv(e){return e.hasNext()?e.getNext():void 0}var dv=function(){function e(t){ee(this,e),this.fields=t,t.sort(Dp.comparator)}return ne(e,[{key:"unionWith",value:function(t){var n,r=new lv(Dp.comparator),i=re(this.fields);try{for(i.s();!(n=i.n()).done;){var u=n.value;r=r.add(u)}}catch(c){i.e(c)}finally{i.f()}var a,o=re(t);try{for(o.s();!(a=o.n()).done;){var s=a.value;r=r.add(s)}}catch(c){o.e(c)}finally{o.f()}return new e(r.toArray())}},{key:"covers",value:function(e){var t,n=re(this.fields);try{for(n.s();!(t=n.n()).done;){if(t.value.isPrefixOf(e))return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"isEqual",value:function(e){return xp(this.fields,e.fields,(function(e,t){return e.isEqual(t)}))}}],[{key:"empty",value:function(){return new e([])}}]),e}();var pv=function(e){function t(e){ee(this,t),this.binaryString=e}return ne(t,[{key:Symbol.iterator,value:function(){var e=this,t=0;return{next:function(){return t<e.binaryString.length?{value:e.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}}},{key:"toBase64",value:function(){return e=this.binaryString,btoa(e);var e}},{key:"toUint8Array",value:function(){return function(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}},{key:"approximateByteSize",value:function(){return 2*this.binaryString.length}},{key:"compareTo",value:function(e){return Ep(this.binaryString,e.binaryString)}},{key:"isEqual",value:function(e){return this.binaryString===e.binaryString}}],[{key:"fromBase64String",value:function(e){return new t(atob(e))}},{key:"fromUint8Array",value:function(e){var n=function(e){for(var t="",n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new t(n)}}]),t}();pv.EMPTY_BYTE_STRING=new pv("");var vv=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function mv(e){if(op(!!e),"string"==typeof e){var t=0,n=vv.exec(e);if(op(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:yv(e.seconds),nanos:yv(e.nanos)}}function yv(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function gv(e){return"string"==typeof e?pv.fromBase64String(e):pv.fromUint8Array(e)}function kv(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function bv(e){var t=e.mapValue.fields.__previous_value__;return kv(t)?bv(t):t}function wv(e){var t=mv(e.mapValue.fields.__local_write_time__.timestampValue);return new _p(t.seconds,t.nanos)}var Ev=ne((function e(t,n,r,i,u,a,o,s){ee(this,e),this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=u,this.forceLongPolling=a,this.autoDetectLongPolling=o,this.useFetchStreams=s})),xv=function(){function e(t,n){ee(this,e),this.projectId=t,this.database=n||"(default)"}return ne(e,[{key:"isDefaultDatabase",get:function(){return"(default)"===this.database}},{key:"isEqual",value:function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database}}],[{key:"empty",value:function(){return new e("","")}}]),e}();function Av(e){return null==e}function _v(e){return 0===e&&1/e==-1/0}function Cv(e){return"number"==typeof e&&Number.isInteger(e)&&!_v(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}var Iv={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Sv={nullValue:"NULL_VALUE"};function Tv(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?kv(e)?4:qv(e)?9007199254740991:10:ap()}function Dv(e,t){if(e===t)return!0;var n=Tv(e);if(n!==Tv(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return wv(e).isEqual(wv(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;var n=mv(e.timestampValue),r=mv(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return gv(e.bytesValue).isEqual(gv(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return yv(e.geoPointValue.latitude)===yv(t.geoPointValue.latitude)&&yv(e.geoPointValue.longitude)===yv(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return yv(e.integerValue)===yv(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){var n=yv(e.doubleValue),r=yv(t.doubleValue);return n===r?_v(n)===_v(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return xp(e.arrayValue.values||[],t.arrayValue.values||[],Dv);case 10:return function(e,t){var n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(iv(n)!==iv(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!Dv(n[i],r[i])))return!1;return!0}(e,t);default:return ap()}}function Nv(e,t){return void 0!==(e.values||[]).find((function(e){return Dv(e,t)}))}function Fv(e,t){if(e===t)return 0;var n=Tv(e),r=Tv(t);if(n!==r)return Ep(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ep(e.booleanValue,t.booleanValue);case 2:return function(e,t){var n=yv(e.integerValue||e.doubleValue),r=yv(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return Rv(e.timestampValue,t.timestampValue);case 4:return Rv(wv(e),wv(t));case 5:return Ep(e.stringValue,t.stringValue);case 6:return function(e,t){var n=gv(e),r=gv(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){for(var n=e.split("/"),r=t.split("/"),i=0;i<n.length&&i<r.length;i++){var u=Ep(n[i],r[i]);if(0!==u)return u}return Ep(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){var n=Ep(yv(e.latitude),yv(t.latitude));return 0!==n?n:Ep(yv(e.longitude),yv(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){for(var n=e.values||[],r=t.values||[],i=0;i<n.length&&i<r.length;++i){var u=Fv(n[i],r[i]);if(u)return u}return Ep(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){if(e===Iv.mapValue&&t===Iv.mapValue)return 0;if(e===Iv.mapValue)return 1;if(t===Iv.mapValue)return-1;var n=e.fields||{},r=Object.keys(n),i=t.fields||{},u=Object.keys(i);r.sort(),u.sort();for(var a=0;a<r.length&&a<u.length;++a){var o=Ep(r[a],u[a]);if(0!==o)return o;var s=Fv(n[r[a]],i[u[a]]);if(0!==s)return s}return Ep(r.length,u.length)}(e.mapValue,t.mapValue);default:throw ap()}}function Rv(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return Ep(e,t);var n=mv(e),r=mv(t),i=Ep(n.seconds,r.seconds);return 0!==i?i:Ep(n.nanos,r.nanos)}function Pv(e){return Ov(e)}function Ov(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){var t=mv(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?gv(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,Np.fromName(n).toString()):"geoPointValue"in e?"geo(".concat((t=e.geoPointValue).latitude,",").concat(t.longitude,")"):"arrayValue"in e?function(e){var t,n="[",r=!0,i=re(e.values||[]);try{for(i.s();!(t=i.n()).done;){var u=t.value;r?r=!1:n+=",",n+=Ov(u)}}catch(a){i.e(a)}finally{i.f()}return n+"]"}(e.arrayValue):"mapValue"in e?function(e){var t,n="{",r=!0,i=re(Object.keys(e.fields||{}).sort());try{for(i.s();!(t=i.n()).done;){var u=t.value;r?r=!1:n+=",",n+="".concat(u,":").concat(Ov(e.fields[u]))}}catch(a){i.e(a)}finally{i.f()}return n+"}"}(e.mapValue):ap();var t,n}function Bv(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function Lv(e){return!!e&&"integerValue"in e}function jv(e){return!!e&&"arrayValue"in e}function Mv(e){return!!e&&"nullValue"in e}function Uv(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Vv(e){return!!e&&"mapValue"in e}function zv(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){var t={mapValue:{fields:{}}};return uv(e.mapValue.fields,(function(e,n){return t.mapValue.fields[e]=zv(n)})),t}if(e.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(e.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=zv(e.arrayValue.values[r]);return n}return Object.assign({},e)}function qv(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}function Gv(e){return"nullValue"in e?Sv:"booleanValue"in e?{booleanValue:!1}:"integerValue"in e||"doubleValue"in e?{doubleValue:NaN}:"timestampValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in e?{stringValue:""}:"bytesValue"in e?{bytesValue:""}:"referenceValue"in e?Bv(xv.empty(),Np.empty()):"geoPointValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in e?{arrayValue:{}}:"mapValue"in e?{mapValue:{}}:ap()}function Kv(e){return"nullValue"in e?{booleanValue:!1}:"booleanValue"in e?{doubleValue:NaN}:"integerValue"in e||"doubleValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in e?{stringValue:""}:"stringValue"in e?{bytesValue:""}:"bytesValue"in e?Bv(xv.empty(),Np.empty()):"referenceValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in e?{arrayValue:{}}:"arrayValue"in e?{mapValue:{}}:"mapValue"in e?Iv:ap()}function Hv(e,t){var n=Fv(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?-1:!e.inclusive&&t.inclusive?1:0}function Wv(e,t){var n=Fv(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?1:!e.inclusive&&t.inclusive?-1:0}var Qv=function(){function e(t){ee(this,e),this.value=t}return ne(e,[{key:"field",value:function(e){if(e.isEmpty())return this.value;for(var t=this.value,n=0;n<e.length-1;++n)if(!Vv(t=(t.mapValue.fields||{})[e.get(n)]))return null;return(t=(t.mapValue.fields||{})[e.lastSegment()])||null}},{key:"set",value:function(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=zv(t)}},{key:"setAll",value:function(e){var t=this,n=Dp.emptyPath(),r={},i=[];e.forEach((function(e,u){if(!n.isImmediateParentOf(u)){var a=t.getFieldsMap(n);t.applyChanges(a,r,i),r={},i=[],n=u.popLast()}e?r[u.lastSegment()]=zv(e):i.push(u.lastSegment())}));var u=this.getFieldsMap(n);this.applyChanges(u,r,i)}},{key:"delete",value:function(e){var t=this.field(e.popLast());Vv(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}},{key:"isEqual",value:function(e){return Dv(this.value,e.value)}},{key:"getFieldsMap",value:function(e){var t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(var n=0;n<e.length;++n){var r=t.mapValue.fields[e.get(n)];Vv(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}},{key:"applyChanges",value:function(e,t,n){uv(t,(function(t,n){return e[t]=n}));var r,i=re(n);try{for(i.s();!(r=i.n()).done;){var u=r.value;delete e[u]}}catch(a){i.e(a)}finally{i.f()}}},{key:"clone",value:function(){return new e(zv(this.value))}}],[{key:"empty",value:function(){return new e({mapValue:{}})}}]),e}();function Jv(e){var t=[];return uv(e.fields,(function(e,n){var r=new Dp([e]);if(Vv(n)){var i=Jv(n.mapValue).fields;if(0===i.length)t.push(r);else{var u,a=re(i);try{for(a.s();!(u=a.n()).done;){var o=u.value;t.push(r.child(o))}}catch(s){a.e(s)}finally{a.f()}}}else t.push(r)})),new dv(t)}var Yv=function(){function e(t,n,r,i,u,a){ee(this,e),this.key=t,this.documentType=n,this.version=r,this.readTime=i,this.data=u,this.documentState=a}return ne(e,[{key:"convertToFoundDocument",value:function(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}},{key:"convertToNoDocument",value:function(e){return this.version=e,this.documentType=2,this.data=Qv.empty(),this.documentState=0,this}},{key:"convertToUnknownDocument",value:function(e){return this.version=e,this.documentType=3,this.data=Qv.empty(),this.documentState=2,this}},{key:"setHasCommittedMutations",value:function(){return this.documentState=2,this}},{key:"setHasLocalMutations",value:function(){return this.documentState=1,this.version=Cp.min(),this}},{key:"setReadTime",value:function(e){return this.readTime=e,this}},{key:"hasLocalMutations",get:function(){return 1===this.documentState}},{key:"hasCommittedMutations",get:function(){return 2===this.documentState}},{key:"hasPendingWrites",get:function(){return this.hasLocalMutations||this.hasCommittedMutations}},{key:"isValidDocument",value:function(){return 0!==this.documentType}},{key:"isFoundDocument",value:function(){return 1===this.documentType}},{key:"isNoDocument",value:function(){return 2===this.documentType}},{key:"isUnknownDocument",value:function(){return 3===this.documentType}},{key:"isEqual",value:function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}},{key:"mutableCopy",value:function(){return new e(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}},{key:"toString",value:function(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}],[{key:"newInvalidDocument",value:function(t){return new e(t,0,Cp.min(),Cp.min(),Qv.empty(),0)}},{key:"newFoundDocument",value:function(t,n,r){return new e(t,1,n,Cp.min(),r,0)}},{key:"newNoDocument",value:function(t,n){return new e(t,2,n,Cp.min(),Qv.empty(),0)}},{key:"newUnknownDocument",value:function(t,n){return new e(t,3,n,Cp.min(),Qv.empty(),2)}}]),e}(),Xv=ne((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],u=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;ee(this,e),this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=u,this.startAt=a,this.endAt=o,this.ut=null}));function $v(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,u=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;return new Xv(e,t,n,r,i,u,a)}function Zv(e){var t=sp(e);if(null===t.ut){var n=t.path.canonicalString();null!==t.collectionGroup&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((function(e){return(t=e).field.canonicalString()+t.op.toString()+Pv(t.value);var t})).join(","),n+="|ob:",n+=t.orderBy.map((function(e){return function(e){return e.field.canonicalString()+e.dir}(e)})).join(","),Av(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((function(e){return Pv(e)})).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((function(e){return Pv(e)})).join(",")),t.ut=n}return t.ut}function em(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!mm(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if(i=e.filters[r],u=t.filters[r],i.op!==u.op||!i.field.isEqual(u.field)||!Dv(i.value,u.value))return!1;var i,u;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!gm(e.startAt,t.startAt)&&gm(e.endAt,t.endAt)}function tm(e){return Np.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}function nm(e,t){return e.filters.filter((function(e){return e instanceof um&&e.field.isEqual(t)}))}function rm(e,t,n){var r,i=Sv,u=!0,a=re(nm(e,t));try{for(a.s();!(r=a.n()).done;){var o=r.value,s=Sv,c=!0;switch(o.op){case"<":case"<=":s=Gv(o.value);break;case"==":case"in":case">=":s=o.value;break;case">":s=o.value,c=!1;break;case"!=":case"not-in":s=Sv}Hv({value:i,inclusive:u},{value:s,inclusive:c})<0&&(i=s,u=c)}}catch(h){a.e(h)}finally{a.f()}if(null!==n)for(var l=0;l<e.orderBy.length;++l)if(e.orderBy[l].field.isEqual(t)){var f=n.position[l];Hv({value:i,inclusive:u},{value:f,inclusive:n.inclusive})<0&&(i=f,u=n.inclusive);break}return{value:i,inclusive:u}}function im(e,t,n){var r,i=Iv,u=!0,a=re(nm(e,t));try{for(a.s();!(r=a.n()).done;){var o=r.value,s=Iv,c=!0;switch(o.op){case">=":case">":s=Kv(o.value),c=!1;break;case"==":case"in":case"<=":s=o.value;break;case"<":s=o.value,c=!1;break;case"!=":case"not-in":s=Iv}Wv({value:i,inclusive:u},{value:s,inclusive:c})>0&&(i=s,u=c)}}catch(h){a.e(h)}finally{a.f()}if(null!==n)for(var l=0;l<e.orderBy.length;++l)if(e.orderBy[l].field.isEqual(t)){var f=n.position[l];Wv({value:i,inclusive:u},{value:f,inclusive:n.inclusive})>0&&(i=f,u=n.inclusive);break}return{value:i,inclusive:u}}var um=function(e){ae(n,e);var t=fe(n);function n(e,r,i){var u;return ee(this,n),(u=t.call(this)).field=e,u.op=r,u.value=i,u}return ne(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return"!="===this.op?null!==t&&this.at(Fv(t,this.value)):null!==t&&Tv(this.value)===Tv(t)&&this.at(Fv(t,this.value))}},{key:"at",value:function(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return ap()}}},{key:"ht",value:function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}],[{key:"create",value:function(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.ct(e,t,r):new am(e,t,r):"array-contains"===t?new lm(e,r):"in"===t?new fm(e,r):"not-in"===t?new hm(e,r):"array-contains-any"===t?new dm(e,r):new n(e,t,r)}},{key:"ct",value:function(e,t,n){return"in"===t?new om(e,n):new sm(e,n)}}]),n}(function(){return ne((function e(){ee(this,e)}))}()),am=function(e){ae(n,e);var t=fe(n);function n(e,r,i){var u;return ee(this,n),(u=t.call(this,e,r,i)).key=Np.fromName(i.referenceValue),u}return ne(n,[{key:"matches",value:function(e){var t=Np.comparator(e.key,this.key);return this.at(t)}}]),n}(um),om=function(e){ae(n,e);var t=fe(n);function n(e,r){var i;return ee(this,n),(i=t.call(this,e,"in",r)).keys=cm("in",r),i}return ne(n,[{key:"matches",value:function(e){return this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(um),sm=function(e){ae(n,e);var t=fe(n);function n(e,r){var i;return ee(this,n),(i=t.call(this,e,"not-in",r)).keys=cm("not-in",r),i}return ne(n,[{key:"matches",value:function(e){return!this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(um);function cm(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(e){return Np.fromName(e.referenceValue)}))}var lm=function(e){ae(n,e);var t=fe(n);function n(e,r){return ee(this,n),t.call(this,e,"array-contains",r)}return ne(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return jv(t)&&Nv(t.arrayValue,this.value)}}]),n}(um),fm=function(e){ae(n,e);var t=fe(n);function n(e,r){return ee(this,n),t.call(this,e,"in",r)}return ne(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return null!==t&&Nv(this.value.arrayValue,t)}}]),n}(um),hm=function(e){ae(n,e);var t=fe(n);function n(e,r){return ee(this,n),t.call(this,e,"not-in",r)}return ne(n,[{key:"matches",value:function(e){if(Nv(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var t=e.data.field(this.field);return null!==t&&!Nv(this.value.arrayValue,t)}}]),n}(um),dm=function(e){ae(n,e);var t=fe(n);function n(e,r){return ee(this,n),t.call(this,e,"array-contains-any",r)}return ne(n,[{key:"matches",value:function(e){var t=this,n=e.data.field(this.field);return!(!jv(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(e){return Nv(t.value.arrayValue,e)}))}}]),n}(um),pm=ne((function e(t,n){ee(this,e),this.position=t,this.inclusive=n})),vm=ne((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";ee(this,e),this.field=t,this.dir=n}));function mm(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}function ym(e,t,n){for(var r=0,i=0;i<e.position.length;i++){var u=t[i],a=e.position[i];if(r=u.field.isKeyField()?Np.comparator(Np.fromName(a.referenceValue),n.key):Fv(a,n.data.field(u.field)),"desc"===u.dir&&(r*=-1),0!==r)break}return r}function gm(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!Dv(e.position[n],t.position[n]))return!1;return!0}var km=ne((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],u=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;ee(this,e),this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=u,this.limitType=a,this.startAt=o,this.endAt=s,this.lt=null,this.ft=null,this.startAt,this.endAt}));function bm(e,t,n,r,i,u,a,o){return new km(e,t,n,r,i,u,a,o)}function wm(e){return new km(e)}function Em(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function xm(e){var t,n=re(e.filters);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(r.ht())return r.field}}catch(i){n.e(i)}finally{n.f()}return null}function Am(e){return null!==e.collectionGroup}function _m(e){var t=sp(e);if(null===t.lt){t.lt=[];var n=xm(t),r=Em(t);if(null!==n&&null===r)n.isKeyField()||t.lt.push(new vm(n)),t.lt.push(new vm(Dp.keyField(),"asc"));else{var i,u=!1,a=re(t.explicitOrderBy);try{for(a.s();!(i=a.n()).done;){var o=i.value;t.lt.push(o),o.field.isKeyField()&&(u=!0)}}catch(c){a.e(c)}finally{a.f()}if(!u){var s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.lt.push(new vm(Dp.keyField(),s))}}}return t.lt}function Cm(e){var t=sp(e);if(!t.ft)if("F"===t.limitType)t.ft=$v(t.path,t.collectionGroup,_m(t),t.filters,t.limit,t.startAt,t.endAt);else{var n,r=[],i=re(_m(t));try{for(i.s();!(n=i.n()).done;){var u=n.value,a="desc"===u.dir?"asc":"desc";r.push(new vm(u.field,a))}}catch(c){i.e(c)}finally{i.f()}var o=t.endAt?new pm(t.endAt.position,t.endAt.inclusive):null,s=t.startAt?new pm(t.startAt.position,t.startAt.inclusive):null;t.ft=$v(t.path,t.collectionGroup,r,t.filters,t.limit,o,s)}return t.ft}function Im(e,t,n){return new km(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Sm(e,t){return em(Cm(e),Cm(t))&&e.limitType===t.limitType}function Tm(e){return"".concat(Zv(Cm(e)),"|lt:").concat(e.limitType)}function Dm(e){return"Query(target=".concat(function(e){var t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map((function(e){return"".concat((t=e).field.canonicalString()," ").concat(t.op," ").concat(Pv(t.value));var t})).join(", "),"]")),Av(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map((function(e){return function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e)})).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((function(e){return Pv(e)})).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((function(e){return Pv(e)})).join(",")),"Target(".concat(t,")")}(Cm(e)),"; limitType=").concat(e.limitType,")")}function Nm(e,t){return t.isFoundDocument()&&function(e,t){var n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):Np.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){var n,r=re(e.explicitOrderBy);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(!i.field.isKeyField()&&null===t.data.field(i.field))return!1}}catch(u){r.e(u)}finally{r.f()}return!0}(e,t)&&function(e,t){var n,r=re(e.filters);try{for(r.s();!(n=r.n()).done;){if(!n.value.matches(t))return!1}}catch(i){r.e(i)}finally{r.f()}return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){var r=ym(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,_m(e),t))&&!(e.endAt&&!function(e,t,n){var r=ym(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,_m(e),t))}(e,t)}function Fm(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function Rm(e){return function(t,n){var r,i=!1,u=re(_m(e));try{for(u.s();!(r=u.n()).done;){var a=r.value,o=Pm(a,t,n);if(0!==o)return o;i=i||a.field.isKeyField()}}catch(s){u.e(s)}finally{u.f()}return 0}}function Pm(e,t,n){var r=e.field.isKeyField()?Np.comparator(t.key,n.key):function(e,t,n){var r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?Fv(r,i):ap()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return ap()}}function Om(e,t){if(e.dt){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:_v(t)?"-0":t}}function Bm(e){return{integerValue:""+e}}function Lm(e,t){return Cv(t)?Bm(t):Om(e,t)}var jm=ne((function e(){ee(this,e),this._=void 0}));function Mm(e,t,n){return e instanceof zm?function(e,t){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof qm?Gm(e,t):e instanceof Km?Hm(e,t):function(e,t){var n=Vm(e,t),r=Qm(n)+Qm(e._t);return Lv(n)&&Lv(e._t)?Bm(r):Om(e.wt,r)}(e,t)}function Um(e,t,n){return e instanceof qm?Gm(e,t):e instanceof Km?Hm(e,t):n}function Vm(e,t){return e instanceof Wm?Lv(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}var zm=function(e){ae(n,e);var t=fe(n);function n(){return ee(this,n),t.apply(this,arguments)}return ne(n)}(jm),qm=function(e){ae(n,e);var t=fe(n);function n(e){var r;return ee(this,n),(r=t.call(this)).elements=e,r}return ne(n)}(jm);function Gm(e,t){var n,r=Jm(t),i=re(e.elements);try{var u=function(){var e=n.value;r.some((function(t){return Dv(t,e)}))||r.push(e)};for(i.s();!(n=i.n()).done;)u()}catch(a){i.e(a)}finally{i.f()}return{arrayValue:{values:r}}}var Km=function(e){ae(n,e);var t=fe(n);function n(e){var r;return ee(this,n),(r=t.call(this)).elements=e,r}return ne(n)}(jm);function Hm(e,t){var n,r=Jm(t),i=re(e.elements);try{var u=function(){var e=n.value;r=r.filter((function(t){return!Dv(t,e)}))};for(i.s();!(n=i.n()).done;)u()}catch(a){i.e(a)}finally{i.f()}return{arrayValue:{values:r}}}var Wm=function(e){ae(n,e);var t=fe(n);function n(e,r){var i;return ee(this,n),(i=t.call(this)).wt=e,i._t=r,i}return ne(n)}(jm);function Qm(e){return yv(e.integerValue||e.doubleValue)}function Jm(e){return jv(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}var Ym=ne((function e(t,n){ee(this,e),this.field=t,this.transform=n}));var Xm=ne((function e(t,n){ee(this,e),this.version=t,this.transformResults=n})),$m=function(){function e(t,n){ee(this,e),this.updateTime=t,this.exists=n}return ne(e,[{key:"isNone",get:function(){return void 0===this.updateTime&&void 0===this.exists}},{key:"isEqual",value:function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}],[{key:"none",value:function(){return new e}},{key:"exists",value:function(t){return new e(void 0,t)}},{key:"updateTime",value:function(t){return new e(t)}}]),e}();function Zm(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}var ey=ne((function e(){ee(this,e)}));function ty(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new dy(e.key,$m.none()):new ay(e.key,e.data,$m.none());var n,r=e.data,i=Qv.empty(),u=new lv(Dp.comparator),a=re(t.fields);try{for(a.s();!(n=a.n()).done;){var o=n.value;if(!u.has(o)){var s=r.field(o);null===s&&o.length>1&&(o=o.popLast(),s=r.field(o)),null===s?i.delete(o):i.set(o,s),u=u.add(o)}}}catch(c){a.e(c)}finally{a.f()}return new oy(e.key,i,new dv(u.toArray()),$m.none())}function ny(e,t,n){e instanceof ay?function(e,t,n){var r=e.value.clone(),i=cy(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof oy?function(e,t,n){if(Zm(e.precondition,t)){var r=cy(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(sy(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else t.convertToUnknownDocument(n.version)}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function ry(e,t,n,r){return e instanceof ay?function(e,t,n,r){if(!Zm(e.precondition,t))return n;var i=e.value.clone(),u=ly(e.fieldTransforms,r,t);return i.setAll(u),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof oy?function(e,t,n,r){if(!Zm(e.precondition,t))return n;var i=ly(e.fieldTransforms,r,t),u=t.data;return u.setAll(sy(e)),u.setAll(i),t.convertToFoundDocument(t.version,u).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map((function(e){return e.field})))}(e,t,n,r):function(e,t,n){return Zm(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function iy(e,t){var n,r=null,i=re(e.fieldTransforms);try{for(i.s();!(n=i.n()).done;){var u=n.value,a=t.data.field(u.field),o=Vm(u.transform,a||null);null!=o&&(null===r&&(r=Qv.empty()),r.set(u.field,o))}}catch(s){i.e(s)}finally{i.f()}return r||null}function uy(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&xp(e,t,(function(e,t){return function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof qm&&t instanceof qm||e instanceof Km&&t instanceof Km?xp(e.elements,t.elements,Dv):e instanceof Wm&&t instanceof Wm?Dv(e._t,t._t):e instanceof zm&&t instanceof zm}(e.transform,t.transform)}(e,t)}))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}var ay=function(e){ae(n,e);var t=fe(n);function n(e,r,i){var u,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];return ee(this,n),(u=t.call(this)).key=e,u.value=r,u.precondition=i,u.fieldTransforms=a,u.type=0,u}return ne(n,[{key:"getFieldMask",value:function(){return null}}]),n}(ey),oy=function(e){ae(n,e);var t=fe(n);function n(e,r,i,u){var a,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];return ee(this,n),(a=t.call(this)).key=e,a.data=r,a.fieldMask=i,a.precondition=u,a.fieldTransforms=o,a.type=1,a}return ne(n,[{key:"getFieldMask",value:function(){return this.fieldMask}}]),n}(ey);function sy(e){var t=new Map;return e.fieldMask.fields.forEach((function(n){if(!n.isEmpty()){var r=e.data.field(n);t.set(n,r)}})),t}function cy(e,t,n){var r=new Map;op(e.length===n.length);for(var i=0;i<n.length;i++){var u=e[i],a=u.transform,o=t.data.field(u.field);r.set(u.field,Um(a,o,n[i]))}return r}function ly(e,t,n){var r,i=new Map,u=re(e);try{for(u.s();!(r=u.n()).done;){var a=r.value,o=a.transform,s=n.data.field(a.field);i.set(a.field,Mm(o,s,t))}}catch(c){u.e(c)}finally{u.f()}return i}var fy,hy,dy=function(e){ae(n,e);var t=fe(n);function n(e,r){var i;return ee(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=2,i.fieldTransforms=[],i}return ne(n,[{key:"getFieldMask",value:function(){return null}}]),n}(ey),py=function(e){ae(n,e);var t=fe(n);function n(e,r){var i;return ee(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=3,i.fieldTransforms=[],i}return ne(n,[{key:"getFieldMask",value:function(){return null}}]),n}(ey),vy=ne((function e(t){ee(this,e),this.count=t}));function my(e){switch(e){default:return ap();case cp.CANCELLED:case cp.UNKNOWN:case cp.DEADLINE_EXCEEDED:case cp.RESOURCE_EXHAUSTED:case cp.INTERNAL:case cp.UNAVAILABLE:case cp.UNAUTHENTICATED:return!1;case cp.INVALID_ARGUMENT:case cp.NOT_FOUND:case cp.ALREADY_EXISTS:case cp.PERMISSION_DENIED:case cp.FAILED_PRECONDITION:case cp.ABORTED:case cp.OUT_OF_RANGE:case cp.UNIMPLEMENTED:case cp.DATA_LOSS:return!0}}function yy(e){if(void 0===e)return rp("GRPC error has no .code"),cp.UNKNOWN;switch(e){case fy.OK:return cp.OK;case fy.CANCELLED:return cp.CANCELLED;case fy.UNKNOWN:return cp.UNKNOWN;case fy.DEADLINE_EXCEEDED:return cp.DEADLINE_EXCEEDED;case fy.RESOURCE_EXHAUSTED:return cp.RESOURCE_EXHAUSTED;case fy.INTERNAL:return cp.INTERNAL;case fy.UNAVAILABLE:return cp.UNAVAILABLE;case fy.UNAUTHENTICATED:return cp.UNAUTHENTICATED;case fy.INVALID_ARGUMENT:return cp.INVALID_ARGUMENT;case fy.NOT_FOUND:return cp.NOT_FOUND;case fy.ALREADY_EXISTS:return cp.ALREADY_EXISTS;case fy.PERMISSION_DENIED:return cp.PERMISSION_DENIED;case fy.FAILED_PRECONDITION:return cp.FAILED_PRECONDITION;case fy.ABORTED:return cp.ABORTED;case fy.OUT_OF_RANGE:return cp.OUT_OF_RANGE;case fy.UNIMPLEMENTED:return cp.UNIMPLEMENTED;case fy.DATA_LOSS:return cp.DATA_LOSS;default:return ap()}}(hy=fy||(fy={}))[hy.OK=0]="OK",hy[hy.CANCELLED=1]="CANCELLED",hy[hy.UNKNOWN=2]="UNKNOWN",hy[hy.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",hy[hy.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",hy[hy.NOT_FOUND=5]="NOT_FOUND",hy[hy.ALREADY_EXISTS=6]="ALREADY_EXISTS",hy[hy.PERMISSION_DENIED=7]="PERMISSION_DENIED",hy[hy.UNAUTHENTICATED=16]="UNAUTHENTICATED",hy[hy.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",hy[hy.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",hy[hy.ABORTED=10]="ABORTED",hy[hy.OUT_OF_RANGE=11]="OUT_OF_RANGE",hy[hy.UNIMPLEMENTED=12]="UNIMPLEMENTED",hy[hy.INTERNAL=13]="INTERNAL",hy[hy.UNAVAILABLE=14]="UNAVAILABLE",hy[hy.DATA_LOSS=15]="DATA_LOSS";var gy=function(){function e(t,n){ee(this,e),this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}return ne(e,[{key:"get",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n){var r,i=re(n);try{for(i.s();!(r=i.n()).done;){var u=c(r.value,2),a=u[0],o=u[1];if(this.equalsFn(a,e))return o}}catch(s){i.e(s)}finally{i.f()}}}},{key:"has",value:function(e){return void 0!==this.get(e)}},{key:"set",value:function(e,t){var n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}},{key:"delete",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}},{key:"forEach",value:function(e){uv(this.inner,(function(t,n){var r,i=re(n);try{for(i.s();!(r=i.n()).done;){var u=c(r.value,2),a=u[0],o=u[1];e(a,o)}}catch(s){i.e(s)}finally{i.f()}}))}},{key:"isEmpty",value:function(){return av(this.inner)}},{key:"size",value:function(){return this.innerSize}}]),e}(),ky=new ov(Np.comparator);function by(){return ky}var wy=new ov(Np.comparator);function Ey(){for(var e=wy,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,u=n;i<u.length;i++){var a=u[i];e=e.insert(a.key,a)}return e}function xy(e){var t=wy;return e.forEach((function(e,n){return t=t.insert(e,n.overlayedDocument)})),t}function Ay(){return Cy()}function _y(){return Cy()}function Cy(){return new gy((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)}))}var Iy=new ov(Np.comparator),Sy=new lv(Np.comparator);function Ty(){for(var e=Sy,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,u=n;i<u.length;i++){var a=u[i];e=e.add(a)}return e}var Dy=new lv(Ep);function Ny(){return Dy}var Fy=function(){function e(t,n,r,i,u){ee(this,e),this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=u}return ne(e,null,[{key:"createSynthesizedRemoteEventForCurrentChange",value:function(t,n){var r=new Map;return r.set(t,Ry.createSynthesizedTargetChangeForCurrentChange(t,n)),new e(Cp.min(),r,Ny(),by(),Ty())}}]),e}(),Ry=function(){function e(t,n,r,i,u){ee(this,e),this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=u}return ne(e,null,[{key:"createSynthesizedTargetChangeForCurrentChange",value:function(t,n){return new e(pv.EMPTY_BYTE_STRING,n,Ty(),Ty(),Ty())}}]),e}(),Py=ne((function e(t,n,r,i){ee(this,e),this.gt=t,this.removedTargetIds=n,this.key=r,this.yt=i})),Oy=ne((function e(t,n){ee(this,e),this.targetId=t,this.It=n})),By=ne((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:pv.EMPTY_BYTE_STRING,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;ee(this,e),this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=i})),Ly=function(){function e(){ee(this,e),this.Tt=0,this.Et=Uy(),this.At=pv.EMPTY_BYTE_STRING,this.Rt=!1,this.bt=!0}return ne(e,[{key:"current",get:function(){return this.Rt}},{key:"resumeToken",get:function(){return this.At}},{key:"Pt",get:function(){return 0!==this.Tt}},{key:"vt",get:function(){return this.bt}},{key:"Vt",value:function(e){e.approximateByteSize()>0&&(this.bt=!0,this.At=e)}},{key:"St",value:function(){var e=Ty(),t=Ty(),n=Ty();return this.Et.forEach((function(r,i){switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:ap()}})),new Ry(this.At,this.Rt,e,t,n)}},{key:"Dt",value:function(){this.bt=!1,this.Et=Uy()}},{key:"Ct",value:function(e,t){this.bt=!0,this.Et=this.Et.insert(e,t)}},{key:"xt",value:function(e){this.bt=!0,this.Et=this.Et.remove(e)}},{key:"Nt",value:function(){this.Tt+=1}},{key:"kt",value:function(){this.Tt-=1}},{key:"Ot",value:function(){this.bt=!0,this.Rt=!0}}]),e}(),jy=function(){function e(t){ee(this,e),this.Mt=t,this.Ft=new Map,this.$t=by(),this.Bt=My(),this.Lt=new lv(Ep)}return ne(e,[{key:"Ut",value:function(e){var t,n=re(e.gt);try{for(n.s();!(t=n.n()).done;){var r=t.value;e.yt&&e.yt.isFoundDocument()?this.qt(r,e.yt):this.Kt(r,e.key,e.yt)}}catch(o){n.e(o)}finally{n.f()}var i,u=re(e.removedTargetIds);try{for(u.s();!(i=u.n()).done;){var a=i.value;this.Kt(a,e.key,e.yt)}}catch(o){u.e(o)}finally{u.f()}}},{key:"Gt",value:function(e){var t=this;this.forEachTarget(e,(function(n){var r=t.Qt(n);switch(e.state){case 0:t.jt(n)&&r.Vt(e.resumeToken);break;case 1:r.kt(),r.Pt||r.Dt(),r.Vt(e.resumeToken);break;case 2:r.kt(),r.Pt||t.removeTarget(n);break;case 3:t.jt(n)&&(r.Ot(),r.Vt(e.resumeToken));break;case 4:t.jt(n)&&(t.Wt(n),r.Vt(e.resumeToken));break;default:ap()}}))}},{key:"forEachTarget",value:function(e,t){var n=this;e.targetIds.length>0?e.targetIds.forEach(t):this.Ft.forEach((function(e,r){n.jt(r)&&t(r)}))}},{key:"zt",value:function(e){var t=e.targetId,n=e.It.count,r=this.Ht(t);if(r){var i=r.target;if(tm(i))if(0===n){var u=new Np(i.path);this.Kt(t,u,Yv.newNoDocument(u,Cp.min()))}else op(1===n);else this.Jt(t)!==n&&(this.Wt(t),this.Lt=this.Lt.add(t))}}},{key:"Yt",value:function(e){var t=this,n=new Map;this.Ft.forEach((function(r,i){var u=t.Ht(i);if(u){if(r.current&&tm(u.target)){var a=new Np(u.target.path);null!==t.$t.get(a)||t.Xt(i,a)||t.Kt(i,a,Yv.newNoDocument(a,e))}r.vt&&(n.set(i,r.St()),r.Dt())}}));var r=Ty();this.Bt.forEach((function(e,n){var i=!0;n.forEachWhile((function(e){var n=t.Ht(e);return!n||2===n.purpose||(i=!1,!1)})),i&&(r=r.add(e))})),this.$t.forEach((function(t,n){return n.setReadTime(e)}));var i=new Fy(e,n,this.Lt,this.$t,r);return this.$t=by(),this.Bt=My(),this.Lt=new lv(Ep),i}},{key:"qt",value:function(e,t){if(this.jt(e)){var n=this.Xt(e,t.key)?2:0;this.Qt(e).Ct(t.key,n),this.$t=this.$t.insert(t.key,t),this.Bt=this.Bt.insert(t.key,this.Zt(t.key).add(e))}}},{key:"Kt",value:function(e,t,n){if(this.jt(e)){var r=this.Qt(e);this.Xt(e,t)?r.Ct(t,1):r.xt(t),this.Bt=this.Bt.insert(t,this.Zt(t).delete(e)),n&&(this.$t=this.$t.insert(t,n))}}},{key:"removeTarget",value:function(e){this.Ft.delete(e)}},{key:"Jt",value:function(e){var t=this.Qt(e).St();return this.Mt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}},{key:"Nt",value:function(e){this.Qt(e).Nt()}},{key:"Qt",value:function(e){var t=this.Ft.get(e);return t||(t=new Ly,this.Ft.set(e,t)),t}},{key:"Zt",value:function(e){var t=this.Bt.get(e);return t||(t=new lv(Ep),this.Bt=this.Bt.insert(e,t)),t}},{key:"jt",value:function(e){var t=null!==this.Ht(e);return t||np("WatchChangeAggregator","Detected inactive target",e),t}},{key:"Ht",value:function(e){var t=this.Ft.get(e);return t&&t.Pt?null:this.Mt.te(e)}},{key:"Wt",value:function(e){var t=this;this.Ft.set(e,new Ly),this.Mt.getRemoteKeysForTarget(e).forEach((function(n){t.Kt(e,n,null)}))}},{key:"Xt",value:function(e,t){return this.Mt.getRemoteKeysForTarget(e).has(t)}}]),e}();function My(){return new ov(Np.comparator)}function Uy(){return new ov(Np.comparator)}var Vy={asc:"ASCENDING",desc:"DESCENDING"},zy={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},qy=ne((function e(t,n){ee(this,e),this.databaseId=t,this.dt=n}));function Gy(e,t){return e.dt?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function Ky(e,t){return e.dt?t.toBase64():t.toUint8Array()}function Hy(e,t){return Gy(e,t.toTimestamp())}function Wy(e){return op(!!e),Cp.fromTimestamp(function(e){var t=mv(e);return new _p(t.seconds,t.nanos)}(e))}function Qy(e,t){return function(e){return new Sp(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function Jy(e){var t=Sp.fromString(e);return op(gg(t)),t}function Yy(e,t){return Qy(e.databaseId,t.path)}function Xy(e,t){var n=Jy(t);if(n.get(1)!==e.databaseId.projectId)throw new lp(cp.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new lp(cp.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new Np(tg(n))}function $y(e,t){return Qy(e.databaseId,t)}function Zy(e){var t=Jy(e);return 4===t.length?Sp.emptyPath():tg(t)}function eg(e){return new Sp(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function tg(e){return op(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function ng(e,t,n){return{name:Yy(e,t),fields:n.value.mapValue.fields}}function rg(e,t,n){var r=Xy(e,t.name),i=Wy(t.updateTime),u=new Qv({mapValue:{fields:t.fields}}),a=Yv.newFoundDocument(r,i,u);return n&&a.setHasCommittedMutations(),n?a.setHasCommittedMutations():a}function ig(e,t){return"found"in t?function(e,t){op(!!t.found),t.found.name,t.found.updateTime;var n=Xy(e,t.found.name),r=Wy(t.found.updateTime),i=new Qv({mapValue:{fields:t.found.fields}});return Yv.newFoundDocument(n,r,i)}(e,t):"missing"in t?function(e,t){op(!!t.missing),op(!!t.readTime);var n=Xy(e,t.missing),r=Wy(t.readTime);return Yv.newNoDocument(n,r)}(e,t):ap()}function ug(e,t){var n;if(t instanceof ay)n={update:ng(e,t.key,t.value)};else if(t instanceof dy)n={delete:Yy(e,t.key)};else if(t instanceof oy)n={update:ng(e,t.key,t.data),updateMask:yg(t.fieldMask)};else{if(!(t instanceof py))return ap();n={verify:Yy(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((function(e){return function(e,t){var n=t.transform;if(n instanceof zm)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof qm)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof Km)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof Wm)return{fieldPath:t.field.canonicalString(),increment:n._t};throw ap()}(0,e)}))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:Hy(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:ap()}(e,t.precondition)),n}function ag(e,t){var n=t.currentDocument?function(e){return void 0!==e.updateTime?$m.updateTime(Wy(e.updateTime)):void 0!==e.exists?$m.exists(e.exists):$m.none()}(t.currentDocument):$m.none(),r=t.updateTransforms?t.updateTransforms.map((function(t){return function(e,t){var n=null;if("setToServerValue"in t)op("REQUEST_TIME"===t.setToServerValue),n=new zm;else if("appendMissingElements"in t){var r=t.appendMissingElements.values||[];n=new qm(r)}else if("removeAllFromArray"in t){var i=t.removeAllFromArray.values||[];n=new Km(i)}else"increment"in t?n=new Wm(e,t.increment):ap();var u=Dp.fromServerFormat(t.fieldPath);return new Ym(u,n)}(e,t)})):[];if(t.update){t.update.name;var i=Xy(e,t.update.name),u=new Qv({mapValue:{fields:t.update.fields}});if(t.updateMask){var a=function(e){var t=e.fieldPaths||[];return new dv(t.map((function(e){return Dp.fromServerFormat(e)})))}(t.updateMask);return new oy(i,u,a,n,r)}return new ay(i,u,n,r)}if(t.delete){var o=Xy(e,t.delete);return new dy(o,n)}if(t.verify){var s=Xy(e,t.verify);return new py(s,n)}return ap()}function og(e,t){return{documents:[$y(e,t.path)]}}function sg(e,t){var n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=$y(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=$y(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(e){if(0!==e.length){var t=e.map((function(e){return function(e){if("=="===e.op){if(Uv(e.value))return{unaryFilter:{field:dg(e.field),op:"IS_NAN"}};if(Mv(e.value))return{unaryFilter:{field:dg(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Uv(e.value))return{unaryFilter:{field:dg(e.field),op:"IS_NOT_NAN"}};if(Mv(e.value))return{unaryFilter:{field:dg(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:dg(e.field),op:hg(e.op),value:e.value}}}(e)}));return 1===t.length?t[0]:{compositeFilter:{op:"AND",filters:t}}}}(t.filters);i&&(n.structuredQuery.where=i);var u=function(e){if(0!==e.length)return e.map((function(e){return function(e){return{field:dg(e.field),direction:fg(e.dir)}}(e)}))}(t.orderBy);u&&(n.structuredQuery.orderBy=u);var a,o=function(e,t){return e.dt||Av(t)?t:{value:t}}(e,t.limit);return null!==o&&(n.structuredQuery.limit=o),t.startAt&&(n.structuredQuery.startAt={before:(a=t.startAt).inclusive,values:a.position}),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),n}function cg(e){var t=Zy(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){op(1===r);var u=n.from[0];u.allDescendants?i=u.collectionId:t=t.child(u.collectionId)}var a=[];n.where&&(a=lg(n.where));var o=[];n.orderBy&&(o=n.orderBy.map((function(e){return function(e){return new vm(pg(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)})));var s=null;n.limit&&(s=function(e){var t;return Av(t="object"==typeof e?e.value:e)?null:t}(n.limit));var c=null;n.startAt&&(c=function(e){var t=!!e.before,n=e.values||[];return new pm(n,t)}(n.startAt));var l=null;return n.endAt&&(l=function(e){var t=!e.before,n=e.values||[];return new pm(n,t)}(n.endAt)),bm(t,i,o,a,s,"F",c,l)}function lg(e){return e?void 0!==e.unaryFilter?[mg(e)]:void 0!==e.fieldFilter?[vg(e)]:void 0!==e.compositeFilter?e.compositeFilter.filters.map((function(e){return lg(e)})).reduce((function(e,t){return e.concat(t)})):ap():[]}function fg(e){return Vy[e]}function hg(e){return zy[e]}function dg(e){return{fieldPath:e.canonicalString()}}function pg(e){return Dp.fromServerFormat(e.fieldPath)}function vg(e){return um.create(pg(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ap()}}(e.fieldFilter.op),e.fieldFilter.value)}function mg(e){switch(e.unaryFilter.op){case"IS_NAN":var t=pg(e.unaryFilter.field);return um.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=pg(e.unaryFilter.field);return um.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=pg(e.unaryFilter.field);return um.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=pg(e.unaryFilter.field);return um.create(i,"!=",{nullValue:"NULL_VALUE"});default:return ap()}}function yg(e){var t=[];return e.fields.forEach((function(e){return t.push(e.canonicalString())})),{fieldPaths:t}}function gg(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}function kg(e){for(var t="",n=0;n<e.length;n++)t.length>0&&(t=wg(t)),t=bg(e.get(n),t);return wg(t)}function bg(e,t){for(var n=t,r=e.length,i=0;i<r;i++){var u=e.charAt(i);switch(u){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=u}}return n}function wg(e){return e+"\x01\x01"}function Eg(e){var t=e.length;if(op(t>=2),2===t)return op("\x01"===e.charAt(0)&&"\x01"===e.charAt(1)),Sp.emptyPath();for(var n=t-2,r=[],i="",u=0;u<t;){var a=e.indexOf("\x01",u);switch((a<0||a>n)&&ap(),e.charAt(a+1)){case"\x01":var o=e.substring(u,a),s=void 0;0===i.length?s=o:(s=i+=o,i=""),r.push(s);break;case"\x10":i+=e.substring(u,a),i+="\0";break;case"\x11":i+=e.substring(u,a+1);break;default:ap()}u=a+2}return new Sp(r)}var xg=["userId","batchId"];function Ag(e,t){return[e,kg(t)]}function _g(e,t,n){return[e,kg(t),n]}var Cg={},Ig=["prefixPath","collectionGroup","readTime","documentId"],Sg=["prefixPath","collectionGroup","documentId"],Tg=["collectionGroup","readTime","prefixPath","documentId"],Dg=["canonicalId","targetId"],Ng=["targetId","path"],Fg=["path","targetId"],Rg=["collectionId","parent"],Pg=["indexId","uid"],Og=["uid","sequenceNumber"],Bg=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],Lg=["indexId","uid","orderedDocumentKey"],jg=["userId","collectionPath","documentId"],Mg=["userId","collectionPath","largestBatchId"],Ug=["userId","collectionGroup","largestBatchId"],Vg=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments"].concat(["clientMetadata"]).concat(["remoteDocumentGlobal"]).concat(["collectionParents"]).concat(["bundles","namedQueries"]),zg=[].concat(Ge(Vg),["documentOverlays"]),qg=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Gg=qg,Kg=[].concat(Gg,["indexConfiguration","indexState","indexEntries"]),Hg=function(e){ae(n,e);var t=fe(n);function n(e,r){var i;return ee(this,n),(i=t.call(this)).ee=e,i.currentSequenceNumber=r,i}return ne(n)}(zp);function Wg(e,t){var n=sp(e);return Wp.N(n.ee,t)}var Qg=function(){function e(t,n,r,i){ee(this,e),this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}return ne(e,[{key:"applyToRemoteDocument",value:function(e,t){for(var n=t.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(e.key)&&ny(i,e,n[r])}}},{key:"applyToLocalView",value:function(e,t){var n,r=re(this.baseMutations);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.key.isEqual(e.key)&&(t=ry(i,e,t,this.localWriteTime))}}catch(s){r.e(s)}finally{r.f()}var u,a=re(this.mutations);try{for(a.s();!(u=a.n()).done;){var o=u.value;o.key.isEqual(e.key)&&(t=ry(o,e,t,this.localWriteTime))}}catch(s){a.e(s)}finally{a.f()}return t}},{key:"applyToLocalDocumentSet",value:function(e,t){var n=this,r=_y();return this.mutations.forEach((function(i){var u=e.get(i.key),a=u.overlayedDocument,o=n.applyToLocalView(a,u.mutatedFields),s=ty(a,o=t.has(i.key)?null:o);null!==s&&r.set(i.key,s),a.isValidDocument()||a.convertToNoDocument(Cp.min())})),r}},{key:"keys",value:function(){return this.mutations.reduce((function(e,t){return e.add(t.key)}),Ty())}},{key:"isEqual",value:function(e){return this.batchId===e.batchId&&xp(this.mutations,e.mutations,(function(e,t){return uy(e,t)}))&&xp(this.baseMutations,e.baseMutations,(function(e,t){return uy(e,t)}))}}]),e}(),Jg=function(){function e(t,n,r,i){ee(this,e),this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}return ne(e,null,[{key:"from",value:function(t,n,r){op(t.mutations.length===r.length);for(var i=Iy,u=t.mutations,a=0;a<u.length;a++)i=i.insert(u[a].key,r[a].version);return new e(t,n,r,i)}}]),e}(),Yg=function(){function e(t,n){ee(this,e),this.largestBatchId=t,this.mutation=n}return ne(e,[{key:"getKey",value:function(){return this.mutation.key}},{key:"isEqual",value:function(e){return null!==e&&this.mutation===e.mutation}},{key:"toString",value:function(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}]),e}(),Xg=function(){function e(t,n,r,i){var u=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Cp.min(),a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:Cp.min(),o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:pv.EMPTY_BYTE_STRING;ee(this,e),this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=o}return ne(e,[{key:"withSequenceNumber",value:function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}},{key:"withResumeToken",value:function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t)}},{key:"withLastLimboFreeSnapshotVersion",value:function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)}}]),e}(),$g=ne((function e(t){ee(this,e),this.ne=t}));function Zg(e,t){var n=t.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:ek(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())r.document=function(e,t){return{name:Yy(e,t.key),fields:t.data.value.mapValue.fields,updateTime:Gy(e,t.version.toTimestamp())}}(e.ne,t);else if(t.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:tk(t.version)};else{if(!t.isUnknownDocument())return ap();r.unknownDocument={path:n.path.toArray(),version:tk(t.version)}}return r}function ek(e){var t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function tk(e){var t=e.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function nk(e){var t=new _p(e.seconds,e.nanoseconds);return Cp.fromTimestamp(t)}function rk(e,t){for(var n=(t.baseMutations||[]).map((function(t){return ag(e.ne,t)})),r=0;r<t.mutations.length-1;++r){var i=t.mutations[r];if(r+1<t.mutations.length&&void 0!==t.mutations[r+1].transform){var u=t.mutations[r+1];i.updateTransforms=u.transform.fieldTransforms,t.mutations.splice(r+1,1),++r}}var a=t.mutations.map((function(t){return ag(e.ne,t)})),o=_p.fromMillis(t.localWriteTimeMs);return new Qg(t.batchId,o,n,a)}function ik(e){var t,n,r=nk(e.readTime),i=void 0!==e.lastLimboFreeSnapshotVersion?nk(e.lastLimboFreeSnapshotVersion):Cp.min();return void 0!==e.query.documents?(op(1===(n=e.query).documents.length),t=Cm(wm(Zy(n.documents[0])))):t=function(e){return Cm(cg(e))}(e.query),new Xg(t,e.targetId,0,e.lastListenSequenceNumber,r,i,pv.fromBase64String(e.resumeToken))}function uk(e,t){var n,r=tk(t.snapshotVersion),i=tk(t.lastLimboFreeSnapshotVersion);n=tm(t.target)?og(e.ne,t.target):sg(e.ne,t.target);var u=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:Zv(t.target),readTime:r,resumeToken:u,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:n}}function ak(e){var t=cg({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?Im(t,t.limit,"L"):t}function ok(e,t){return new Yg(t.largestBatchId,ag(e.ne,t.overlayMutation))}function sk(e,t){var n=t.path.lastSegment();return[e,kg(t.path.popLast()),n]}function ck(e,t,n,r){return{indexId:e,uid:t.uid||"",sequenceNumber:n,readTime:tk(r.readTime),documentKey:kg(r.documentKey.path),largestBatchId:r.largestBatchId}}var lk=function(){function e(){ee(this,e)}return ne(e,[{key:"getBundleMetadata",value:function(e,t){return fk(e).get(t).next((function(e){if(e)return{id:(t=e).bundleId,createTime:nk(t.createTime),version:t.version};var t}))}},{key:"saveBundleMetadata",value:function(e,t){return fk(e).put({bundleId:(n=t).id,createTime:tk(Wy(n.createTime)),version:n.version});var n}},{key:"getNamedQuery",value:function(e,t){return hk(e).get(t).next((function(e){if(e)return{name:(t=e).name,query:ak(t.bundledQuery),readTime:nk(t.readTime)};var t}))}},{key:"saveNamedQuery",value:function(e,t){return hk(e).put(function(e){return{name:e.name,readTime:tk(Wy(e.readTime)),bundledQuery:e.bundledQuery}}(t))}}]),e}();function fk(e){return Wg(e,"bundles")}function hk(e){return Wg(e,"namedQueries")}var dk=function(){function e(t,n){ee(this,e),this.wt=t,this.userId=n}return ne(e,[{key:"getOverlay",value:function(e,t){var n=this;return pk(e).get(sk(this.userId,t)).next((function(e){return e?ok(n.wt,e):null}))}},{key:"getOverlays",value:function(e,t){var n=this,r=Ay();return Kp.forEach(t,(function(t){return n.getOverlay(e,t).next((function(e){null!==e&&r.set(t,e)}))})).next((function(){return r}))}},{key:"saveOverlays",value:function(e,t,n){var r=this,i=[];return n.forEach((function(n,u){var a=new Yg(t,u);i.push(r.ie(e,a))})),Kp.waitFor(i)}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=new Set;t.forEach((function(e){return i.add(kg(e.getCollectionPath()))}));var u=[];return i.forEach((function(t){var i=IDBKeyRange.bound([r.userId,t,n],[r.userId,t,n+1],!1,!0);u.push(pk(e).W("collectionPathOverlayIndex",i))})),Kp.waitFor(u)}},{key:"getOverlaysForCollection",value:function(e,t,n){var r=this,i=Ay(),u=kg(t),a=IDBKeyRange.bound([this.userId,u,n],[this.userId,u,Number.POSITIVE_INFINITY],!0);return pk(e).K("collectionPathOverlayIndex",a).next((function(e){var t,n=re(e);try{for(n.s();!(t=n.n()).done;){var u=t.value,a=ok(r.wt,u);i.set(a.getKey(),a)}}catch(o){n.e(o)}finally{n.f()}return i}))}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){var i,u=this,a=Ay(),o=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,Number.POSITIVE_INFINITY],!0);return pk(e).J({index:"collectionGroupOverlayIndex",range:o},(function(e,t,n){var o=ok(u.wt,t);a.size()<r||o.largestBatchId===i?(a.set(o.getKey(),o),i=o.largestBatchId):n.done()})).next((function(){return a}))}},{key:"ie",value:function(e,t){return pk(e).put(function(e,t,n){var r=c(sk(t,n.mutation.key),3);r[0];return{userId:t,collectionPath:r[1],documentId:r[2],collectionGroup:n.mutation.key.getCollectionGroup(),largestBatchId:n.largestBatchId,overlayMutation:ug(e.ne,n.mutation)}}(this.wt,this.userId,t))}}],[{key:"se",value:function(t,n){return new e(t,n.uid||"")}}]),e}();function pk(e){return Wg(e,"documentOverlays")}var vk=function(){function e(){ee(this,e)}return ne(e,[{key:"re",value:function(e,t){this.oe(e,t),t.ue()}},{key:"oe",value:function(e,t){if("nullValue"in e)this.ce(t,5);else if("booleanValue"in e)this.ce(t,10),t.ae(e.booleanValue?1:0);else if("integerValue"in e)this.ce(t,15),t.ae(yv(e.integerValue));else if("doubleValue"in e){var n=yv(e.doubleValue);isNaN(n)?this.ce(t,13):(this.ce(t,15),_v(n)?t.ae(0):t.ae(n))}else if("timestampValue"in e){var r=e.timestampValue;this.ce(t,20),"string"==typeof r?t.he(r):(t.he("".concat(r.seconds||"")),t.ae(r.nanos||0))}else if("stringValue"in e)this.le(e.stringValue,t),this.fe(t);else if("bytesValue"in e)this.ce(t,30),t.de(gv(e.bytesValue)),this.fe(t);else if("referenceValue"in e)this._e(e.referenceValue,t);else if("geoPointValue"in e){var i=e.geoPointValue;this.ce(t,45),t.ae(i.latitude||0),t.ae(i.longitude||0)}else"mapValue"in e?qv(e)?this.ce(t,Number.MAX_SAFE_INTEGER):(this.we(e.mapValue,t),this.fe(t)):"arrayValue"in e?(this.me(e.arrayValue,t),this.fe(t)):ap()}},{key:"le",value:function(e,t){this.ce(t,25),this.ge(e,t)}},{key:"ge",value:function(e,t){t.he(e)}},{key:"we",value:function(e,t){var n=e.fields||{};this.ce(t,55);for(var r=0,i=Object.keys(n);r<i.length;r++){var u=i[r];this.le(u,t),this.oe(n[u],t)}}},{key:"me",value:function(e,t){var n=e.values||[];this.ce(t,50);var r,i=re(n);try{for(i.s();!(r=i.n()).done;){var u=r.value;this.oe(u,t)}}catch(a){i.e(a)}finally{i.f()}}},{key:"_e",value:function(e,t){var n=this;this.ce(t,37),Np.fromName(e).path.forEach((function(e){n.ce(t,60),n.ge(e,t)}))}},{key:"ce",value:function(e,t){e.ae(t)}},{key:"fe",value:function(e){e.ae(2)}}]),e}();function mk(e){if(0===e)return 8;var t=0;return e>>4==0&&(t+=4,e<<=4),e>>6==0&&(t+=2,e<<=2),e>>7==0&&(t+=1),t}function yk(e){var t=64-function(e){for(var t=0,n=0;n<8;++n){var r=mk(255&e[n]);if(t+=r,8!==r)break}return t}(e);return Math.ceil(t/8)}vk.ye=new vk;var gk=function(){function e(){ee(this,e),this.buffer=new Uint8Array(1024),this.position=0}return ne(e,[{key:"pe",value:function(e){for(var t=e[Symbol.iterator](),n=t.next();!n.done;)this.Ie(n.value),n=t.next();this.Te()}},{key:"Ee",value:function(e){for(var t=e[Symbol.iterator](),n=t.next();!n.done;)this.Ae(n.value),n=t.next();this.Re()}},{key:"be",value:function(e){var t,n=re(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.charCodeAt(0);if(i<128)this.Ie(i);else if(i<2048)this.Ie(960|i>>>6),this.Ie(128|63&i);else if(r<"\ud800"||"\udbff"<r)this.Ie(480|i>>>12),this.Ie(128|63&i>>>6),this.Ie(128|63&i);else{var u=r.codePointAt(0);this.Ie(240|u>>>18),this.Ie(128|63&u>>>12),this.Ie(128|63&u>>>6),this.Ie(128|63&u)}}}catch(a){n.e(a)}finally{n.f()}this.Te()}},{key:"Pe",value:function(e){var t,n=re(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.charCodeAt(0);if(i<128)this.Ae(i);else if(i<2048)this.Ae(960|i>>>6),this.Ae(128|63&i);else if(r<"\ud800"||"\udbff"<r)this.Ae(480|i>>>12),this.Ae(128|63&i>>>6),this.Ae(128|63&i);else{var u=r.codePointAt(0);this.Ae(240|u>>>18),this.Ae(128|63&u>>>12),this.Ae(128|63&u>>>6),this.Ae(128|63&u)}}}catch(a){n.e(a)}finally{n.f()}this.Re()}},{key:"ve",value:function(e){var t=this.Ve(e),n=yk(t);this.Se(1+n),this.buffer[this.position++]=255&n;for(var r=t.length-n;r<t.length;++r)this.buffer[this.position++]=255&t[r]}},{key:"De",value:function(e){var t=this.Ve(e),n=yk(t);this.Se(1+n),this.buffer[this.position++]=~(255&n);for(var r=t.length-n;r<t.length;++r)this.buffer[this.position++]=~(255&t[r])}},{key:"Ce",value:function(){this.xe(255),this.xe(255)}},{key:"Ne",value:function(){this.ke(255),this.ke(255)}},{key:"reset",value:function(){this.position=0}},{key:"seed",value:function(e){this.Se(e.length),this.buffer.set(e,this.position),this.position+=e.length}},{key:"Oe",value:function(){return this.buffer.slice(0,this.position)}},{key:"Ve",value:function(e){var t=function(e){var t=new DataView(new ArrayBuffer(8));return t.setFloat64(0,e,!1),new Uint8Array(t.buffer)}(e),n=0!=(128&t[0]);t[0]^=n?255:128;for(var r=1;r<t.length;++r)t[r]^=n?255:0;return t}},{key:"Ie",value:function(e){var t=255&e;0===t?(this.xe(0),this.xe(255)):255===t?(this.xe(255),this.xe(0)):this.xe(t)}},{key:"Ae",value:function(e){var t=255&e;0===t?(this.ke(0),this.ke(255)):255===t?(this.ke(255),this.ke(0)):this.ke(e)}},{key:"Te",value:function(){this.xe(0),this.xe(1)}},{key:"Re",value:function(){this.ke(0),this.ke(1)}},{key:"xe",value:function(e){this.Se(1),this.buffer[this.position++]=e}},{key:"ke",value:function(e){this.Se(1),this.buffer[this.position++]=~e}},{key:"Se",value:function(e){var t=e+this.position;if(!(t<=this.buffer.length)){var n=2*this.buffer.length;n<t&&(n=t);var r=new Uint8Array(n);r.set(this.buffer),this.buffer=r}}}]),e}(),kk=function(){function e(t){ee(this,e),this.Me=t}return ne(e,[{key:"de",value:function(e){this.Me.pe(e)}},{key:"he",value:function(e){this.Me.be(e)}},{key:"ae",value:function(e){this.Me.ve(e)}},{key:"ue",value:function(){this.Me.Ce()}}]),e}(),bk=function(){function e(t){ee(this,e),this.Me=t}return ne(e,[{key:"de",value:function(e){this.Me.Ee(e)}},{key:"he",value:function(e){this.Me.Pe(e)}},{key:"ae",value:function(e){this.Me.De(e)}},{key:"ue",value:function(){this.Me.Ne()}}]),e}(),wk=function(){function e(){ee(this,e),this.Me=new gk,this.Fe=new kk(this.Me),this.$e=new bk(this.Me)}return ne(e,[{key:"seed",value:function(e){this.Me.seed(e)}},{key:"Be",value:function(e){return 0===e?this.Fe:this.$e}},{key:"Oe",value:function(){return this.Me.Oe()}},{key:"reset",value:function(){this.Me.reset()}}]),e}(),Ek=function(){function e(t,n,r,i){ee(this,e),this.indexId=t,this.documentKey=n,this.arrayValue=r,this.directionalValue=i}return ne(e,[{key:"Le",value:function(){var t=this.directionalValue.length,n=0===t||255===this.directionalValue[t-1]?t+1:t,r=new Uint8Array(n);return r.set(this.directionalValue,0),n!==t?r.set([0],this.directionalValue.length):++r[r.length-1],new e(this.indexId,this.documentKey,this.arrayValue,r)}}]),e}();function xk(e,t){var n=e.indexId-t.indexId;return 0!==n?n:0!==(n=Ak(e.arrayValue,t.arrayValue))?n:0!==(n=Ak(e.directionalValue,t.directionalValue))?n:Np.comparator(e.documentKey,t.documentKey)}function Ak(e,t){for(var n=0;n<e.length&&n<t.length;++n){var r=e[n]-t[n];if(0!==r)return r}return e.length-t.length}var _k=function(){function e(t){ee(this,e),this.collectionId=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment(),this.Ue=t.orderBy,this.qe=[];var n,r=re(t.filters);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.ht()?this.Ke=i:this.qe.push(i)}}catch(u){r.e(u)}finally{r.f()}}return ne(e,[{key:"Ge",value:function(e){var t=Rp(e);if(void 0!==t&&!this.Qe(t))return!1;for(var n=Pp(e),r=0,i=0;r<n.length&&this.Qe(n[r]);++r);if(r===n.length)return!0;if(void 0!==this.Ke){var u=n[r];if(!this.je(this.Ke,u)||!this.We(this.Ue[i++],u))return!1;++r}for(;r<n.length;++r){var a=n[r];if(i>=this.Ue.length||!this.We(this.Ue[i++],a))return!1}return!0}},{key:"Qe",value:function(e){var t,n=re(this.qe);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(this.je(r,e))return!0}}catch(i){n.e(i)}finally{n.f()}return!1}},{key:"je",value:function(e,t){if(void 0===e||!e.field.isEqual(t.fieldPath))return!1;var n="array-contains"===e.op||"array-contains-any"===e.op;return 2===t.kind===n}},{key:"We",value:function(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}]),e}(),Ck=function(){function e(){ee(this,e),this.ze=new Ik}return ne(e,[{key:"addToCollectionParentIndex",value:function(e,t){return this.ze.add(t),Kp.resolve()}},{key:"getCollectionParents",value:function(e,t){return Kp.resolve(this.ze.getEntries(t))}},{key:"addFieldIndex",value:function(e,t){return Kp.resolve()}},{key:"deleteFieldIndex",value:function(e,t){return Kp.resolve()}},{key:"getDocumentsMatchingTarget",value:function(e,t){return Kp.resolve(null)}},{key:"getIndexType",value:function(e,t){return Kp.resolve(0)}},{key:"getFieldIndexes",value:function(e,t){return Kp.resolve([])}},{key:"getNextCollectionGroupToUpdate",value:function(e){return Kp.resolve(null)}},{key:"getMinOffset",value:function(e,t){return Kp.resolve(Mp.min())}},{key:"getMinOffsetFromCollectionGroup",value:function(e,t){return Kp.resolve(Mp.min())}},{key:"updateCollectionGroup",value:function(e,t,n){return Kp.resolve()}},{key:"updateIndexEntries",value:function(e,t){return Kp.resolve()}}]),e}(),Ik=function(){function e(){ee(this,e),this.index={}}return ne(e,[{key:"add",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new lv(Sp.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}},{key:"has",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}},{key:"getEntries",value:function(e){return(this.index[e]||new lv(Sp.comparator)).toArray()}}]),e}(),Sk=new Uint8Array(0),Tk=function(){function e(t,n){ee(this,e),this.user=t,this.databaseId=n,this.He=new Ik,this.Je=new gy((function(e){return Zv(e)}),(function(e,t){return em(e,t)})),this.uid=t.uid||""}return ne(e,[{key:"addToCollectionParentIndex",value:function(e,t){var n=this;if(!this.He.has(t)){var r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener((function(){n.He.add(t)}));var u={collectionId:r,parent:kg(i)};return Dk(e).put(u)}return Kp.resolve()}},{key:"getCollectionParents",value:function(e,t){var n=[],r=IDBKeyRange.bound([t,""],[Ap(t),""],!1,!0);return Dk(e).K(r).next((function(e){var r,i=re(e);try{for(i.s();!(r=i.n()).done;){var u=r.value;if(u.collectionId!==t)break;n.push(Eg(u.parent))}}catch(a){i.e(a)}finally{i.f()}return n}))}},{key:"addFieldIndex",value:function(e,t){var n=this,r=Fk(e),i=function(e){return{indexId:e.indexId,collectionGroup:e.collectionGroup,fields:e.fields.map((function(e){return[e.fieldPath.canonicalString(),e.kind]}))}}(t);delete i.indexId;var u=r.add(i);if(t.indexState){var a=Rk(e);return u.next((function(e){a.put(ck(e,n.user,t.indexState.sequenceNumber,t.indexState.offset))}))}return u.next()}},{key:"deleteFieldIndex",value:function(e,t){var n=Fk(e),r=Rk(e),i=Nk(e);return n.delete(t.indexId).next((function(){return r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))})).next((function(){return i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))}))}},{key:"getDocumentsMatchingTarget",value:function(e,t){var n=this,r=Nk(e),i=!0,u=new Map;return Kp.forEach(this.Ye(t),(function(t){return n.Xe(e,t).next((function(e){i&&(i=!!e),u.set(t,e)}))})).next((function(){if(i){var e=Ty(),a=[];return Kp.forEach(u,(function(i,u){var o;np("IndexedDbIndexManager","Using index ".concat((o=i,"id=".concat(o.indexId,"|cg=").concat(o.collectionGroup,"|f=").concat(o.fields.map((function(e){return"".concat(e.fieldPath,":").concat(e.kind)})).join(",")))," to execute ").concat(Zv(t)));var s=function(e,t){var n=Rp(t);if(void 0===n)return null;var r,i=re(nm(e,n.fieldPath));try{for(i.s();!(r=i.n()).done;){var u=r.value;switch(u.op){case"array-contains-any":return u.value.arrayValue.values||[];case"array-contains":return[u.value]}}}catch(a){i.e(a)}finally{i.f()}return null}(u,i),c=function(e,t){var n,r=new Map,i=re(Pp(t));try{for(i.s();!(n=i.n()).done;){var u,a=n.value,o=re(nm(e,a.fieldPath));try{for(o.s();!(u=o.n()).done;){var s=u.value;switch(s.op){case"==":case"in":r.set(a.fieldPath.canonicalString(),s.value);break;case"not-in":case"!=":return r.set(a.fieldPath.canonicalString(),s.value),Array.from(r.values())}}}catch(c){o.e(c)}finally{o.f()}}}catch(c){i.e(c)}finally{i.f()}return null}(u,i),l=function(e,t){var n,r=[],i=!0,u=re(Pp(t));try{for(u.s();!(n=u.n()).done;){var a=n.value,o=0===a.kind?rm(e,a.fieldPath,e.startAt):im(e,a.fieldPath,e.startAt);r.push(o.value),i&&(i=o.inclusive)}}catch(s){u.e(s)}finally{u.f()}return new pm(r,i)}(u,i),f=function(e,t){var n,r=[],i=!0,u=re(Pp(t));try{for(u.s();!(n=u.n()).done;){var a=n.value,o=0===a.kind?im(e,a.fieldPath,e.endAt):rm(e,a.fieldPath,e.endAt);r.push(o.value),i&&(i=o.inclusive)}}catch(s){u.e(s)}finally{u.f()}return new pm(r,i)}(u,i),h=n.Ze(i,u,l),d=n.Ze(i,u,f),p=n.tn(i,u,c),v=n.en(i.indexId,s,h,l.inclusive,d,f.inclusive,p);return Kp.forEach(v,(function(n){return r.j(n,t.limit).next((function(t){t.forEach((function(t){var n=Np.fromSegments(t.documentKey);e.has(n)||(e=e.add(n),a.push(n))}))}))}))})).next((function(){return a}))}return Kp.resolve(null)}))}},{key:"Ye",value:function(e){var t=this.Je.get(e);return t||(t=[e],this.Je.set(e,t),t)}},{key:"en",value:function(e,t,n,r,i,u,a){for(var o=this,s=(null!=t?t.length:1)*Math.max(n.length,i.length),c=s/(null!=t?t.length:1),l=[],f=function(s){var f=t?o.nn(t[s/c]):Sk,h=o.sn(e,f,n[s%c],r),d=o.rn(e,f,i[s%c],u),p=a.map((function(t){return o.sn(e,f,t,!0)}));l.push.apply(l,Ge(o.createRange(h,d,p)))},h=0;h<s;++h)f(h);return l}},{key:"sn",value:function(e,t,n,r){var i=new Ek(e,Np.empty(),t,n);return r?i:i.Le()}},{key:"rn",value:function(e,t,n,r){var i=new Ek(e,Np.empty(),t,n);return r?i.Le():i}},{key:"Xe",value:function(e,t){var n=new _k(t),r=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,r).next((function(e){var t,r=null,i=re(e);try{for(i.s();!(t=i.n()).done;){var u=t.value;n.Ge(u)&&(!r||u.fields.length>r.fields.length)&&(r=u)}}catch(a){i.e(a)}finally{i.f()}return r}))}},{key:"getIndexType",value:function(e,t){var n=this,r=2;return Kp.forEach(this.Ye(t),(function(t){return n.Xe(e,t).next((function(e){e?0!==r&&e.fields.length<function(e){var t,n=new lv(Dp.comparator),r=!1,i=re(e.filters);try{for(i.s();!(t=i.n()).done;){var u=t.value;u.field.isKeyField()||("array-contains"===u.op||"array-contains-any"===u.op?r=!0:n=n.add(u.field))}}catch(c){i.e(c)}finally{i.f()}var a,o=re(e.orderBy);try{for(o.s();!(a=o.n()).done;){var s=a.value;s.field.isKeyField()||(n=n.add(s.field))}}catch(c){o.e(c)}finally{o.f()}return n.size+(r?1:0)}(t)&&(r=1):r=0}))})).next((function(){return r}))}},{key:"on",value:function(e,t){var n,r=new wk,i=re(Pp(e));try{for(i.s();!(n=i.n()).done;){var u=n.value,a=t.data.field(u.fieldPath);if(null==a)return null;var o=r.Be(u.kind);vk.ye.re(a,o)}}catch(s){i.e(s)}finally{i.f()}return r.Oe()}},{key:"nn",value:function(e){var t=new wk;return vk.ye.re(e,t.Be(0)),t.Oe()}},{key:"un",value:function(e,t){var n=new wk;return vk.ye.re(Bv(this.databaseId,t),n.Be(function(e){var t=Pp(e);return 0===t.length?0:t[t.length-1].kind}(e))),n.Oe()}},{key:"tn",value:function(e,t,n){if(null===n)return[];var r=[];r.push(new wk);var i,u=0,a=re(Pp(e));try{for(a.s();!(i=a.n()).done;){var o,s=i.value,c=n[u++],l=re(r);try{for(l.s();!(o=l.n()).done;){var f=o.value;if(this.cn(t,s.fieldPath)&&jv(c))r=this.an(r,s,c);else{var h=f.Be(s.kind);vk.ye.re(c,h)}}}catch(d){l.e(d)}finally{l.f()}}}catch(d){a.e(d)}finally{a.f()}return this.hn(r)}},{key:"Ze",value:function(e,t,n){return this.tn(e,t,n.position)}},{key:"hn",value:function(e){for(var t=[],n=0;n<e.length;++n)t[n]=e[n].Oe();return t}},{key:"an",value:function(e,t,n){var r,i=Ge(e),u=[],a=re(n.arrayValue.values||[]);try{for(a.s();!(r=a.n()).done;){var o,s=r.value,c=re(i);try{for(c.s();!(o=c.n()).done;){var l=o.value,f=new wk;f.seed(l.Oe()),vk.ye.re(s,f.Be(t.kind)),u.push(f)}}catch(h){c.e(h)}finally{c.f()}}}catch(h){a.e(h)}finally{a.f()}return u}},{key:"cn",value:function(e,t){return!!e.filters.find((function(e){return e instanceof um&&e.field.isEqual(t)&&("in"===e.op||"not-in"===e.op)}))}},{key:"getFieldIndexes",value:function(e,t){var n=this,r=Fk(e),i=Rk(e);return(t?r.K("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.K()).next((function(e){var t=[];return Kp.forEach(e,(function(e){return i.get([e.indexId,n.uid]).next((function(n){t.push(function(e,t){var n=t?new Bp(t.sequenceNumber,new Mp(nk(t.readTime),new Np(Eg(t.documentKey)),t.largestBatchId)):Bp.empty(),r=e.fields.map((function(e){var t=c(e,2),n=t[0],r=t[1];return new Op(Dp.fromServerFormat(n),r)}));return new Fp(e.indexId,e.collectionGroup,r,n)}(e,n))}))})).next((function(){return t}))}))}},{key:"getNextCollectionGroupToUpdate",value:function(e){return this.getFieldIndexes(e).next((function(e){return 0===e.length?null:(e.sort((function(e,t){var n=e.indexState.sequenceNumber-t.indexState.sequenceNumber;return 0!==n?n:Ep(e.collectionGroup,t.collectionGroup)})),e[0].collectionGroup)}))}},{key:"updateCollectionGroup",value:function(e,t,n){var r=this,i=Fk(e),u=Rk(e);return this.ln(e).next((function(e){return i.K("collectionGroupIndex",IDBKeyRange.bound(t,t)).next((function(t){return Kp.forEach(t,(function(t){return u.put(ck(t.indexId,r.user,e,n))}))}))}))}},{key:"updateIndexEntries",value:function(e,t){var n=this,r=new Map;return Kp.forEach(t,(function(t,i){var u=r.get(t.collectionGroup);return(u?Kp.resolve(u):n.getFieldIndexes(e,t.collectionGroup)).next((function(u){return r.set(t.collectionGroup,u),Kp.forEach(u,(function(r){return n.fn(e,t,r).next((function(t){var u=n.dn(i,r);return t.isEqual(u)?Kp.resolve():n._n(e,i,r,t,u)}))}))}))}))}},{key:"wn",value:function(e,t,n,r){return Nk(e).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.un(n,t.key),documentKey:t.key.path.toArray()})}},{key:"mn",value:function(e,t,n,r){return Nk(e).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.un(n,t.key),t.key.path.toArray()])}},{key:"fn",value:function(e,t,n){var r=Nk(e),i=new lv(xk);return r.J({index:"documentKeyIndex",range:IDBKeyRange.only([n.indexId,this.uid,this.un(n,t)])},(function(e,r){i=i.add(new Ek(n.indexId,t,r.arrayValue,r.directionalValue))})).next((function(){return i}))}},{key:"dn",value:function(e,t){var n=new lv(xk),r=this.on(t,e);if(null==r)return n;var i=Rp(t);if(null!=i){var u=e.data.field(i.fieldPath);if(jv(u)){var a,o=re(u.arrayValue.values||[]);try{for(o.s();!(a=o.n()).done;){var s=a.value;n=n.add(new Ek(t.indexId,e.key,this.nn(s),r))}}catch(c){o.e(c)}finally{o.f()}}}else n=n.add(new Ek(t.indexId,e.key,Sk,r));return n}},{key:"_n",value:function(e,t,n,r,i){var u=this;np("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);var a=[];return function(e,t,n,r,i){for(var u=e.getIterator(),a=t.getIterator(),o=hv(u),s=hv(a);o||s;){var c=!1,l=!1;if(o&&s){var f=n(o,s);f<0?l=!0:f>0&&(c=!0)}else null!=o?l=!0:c=!0;c?(r(s),s=hv(a)):l?(i(o),o=hv(u)):(o=hv(u),s=hv(a))}}(r,i,xk,(function(r){a.push(u.wn(e,t,n,r))}),(function(r){a.push(u.mn(e,t,n,r))})),Kp.waitFor(a)}},{key:"ln",value:function(e){var t=1;return Rk(e).J({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(function(e,n,r){r.done(),t=n.sequenceNumber+1})).next((function(){return t}))}},{key:"createRange",value:function(e,t,n){n=n.sort((function(e,t){return xk(e,t)})).filter((function(e,t,n){return!t||0!==xk(e,n[t-1])}));var r=[];r.push(e);var i,u=re(n);try{for(u.s();!(i=u.n()).done;){var a=i.value,o=xk(a,e),s=xk(a,t);if(0===o)r[0]=e.Le();else if(o>0&&s<0)r.push(a),r.push(a.Le());else if(s>0)break}}catch(f){u.e(f)}finally{u.f()}r.push(t);for(var c=[],l=0;l<r.length;l+=2)c.push(IDBKeyRange.bound([r[l].indexId,this.uid,r[l].arrayValue,r[l].directionalValue,Sk,[]],[r[l+1].indexId,this.uid,r[l+1].arrayValue,r[l+1].directionalValue,Sk,[]]));return c}},{key:"getMinOffsetFromCollectionGroup",value:function(e,t){return this.getFieldIndexes(e,t).next(Pk)}},{key:"getMinOffset",value:function(e,t){var n=this;return Kp.mapArray(this.Ye(t),(function(t){return n.Xe(e,t).next((function(e){return e||ap()}))})).next(Pk)}}]),e}();function Dk(e){return Wg(e,"collectionParents")}function Nk(e){return Wg(e,"indexEntries")}function Fk(e){return Wg(e,"indexConfiguration")}function Rk(e){return Wg(e,"indexState")}function Pk(e){op(0!==e.length);for(var t=e[0].indexState.offset,n=t.largestBatchId,r=1;r<e.length;r++){var i=e[r].indexState.offset;Up(i,t)<0&&(t=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new Mp(t.readTime,t.documentKey,n)}var Ok={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Bk=function(){function e(t,n,r){ee(this,e),this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}return ne(e,null,[{key:"withCacheSize",value:function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}]),e}();function Lk(e,t,n){var r=e.store("mutations"),i=e.store("documentMutations"),u=[],a=IDBKeyRange.only(n.batchId),o=0,s=r.J({range:a},(function(e,t,n){return o++,n.delete()}));u.push(s.next((function(){op(1===o)})));var c,l=[],f=re(n.mutations);try{for(f.s();!(c=f.n()).done;){var h=c.value,d=_g(t,h.key.path,n.batchId);u.push(i.delete(d)),l.push(h.key)}}catch(p){f.e(p)}finally{f.f()}return Kp.waitFor(u).next((function(){return l}))}function jk(e){if(!e)return 0;var t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw ap();t=e.noDocument}return JSON.stringify(t).length}Bk.DEFAULT_COLLECTION_PERCENTILE=10,Bk.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Bk.DEFAULT=new Bk(41943040,Bk.DEFAULT_COLLECTION_PERCENTILE,Bk.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Bk.DISABLED=new Bk(-1,0,0);var Mk=function(){function e(t,n,r,i){ee(this,e),this.userId=t,this.wt=n,this.indexManager=r,this.referenceDelegate=i,this.gn={}}return ne(e,[{key:"checkEmpty",value:function(e){var t=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Vk(e).J({index:"userMutationsIndex",range:n},(function(e,n,r){t=!1,r.done()})).next((function(){return t}))}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this,u=zk(e),a=Vk(e);return a.add({}).next((function(o){op("number"==typeof o);var s,c=new Qg(o,t,n,r),l=function(e,t,n){var r=n.baseMutations.map((function(t){return ug(e.ne,t)})),i=n.mutations.map((function(t){return ug(e.ne,t)}));return{userId:t,batchId:n.batchId,localWriteTimeMs:n.localWriteTime.toMillis(),baseMutations:r,mutations:i}}(i.wt,i.userId,c),f=[],h=new lv((function(e,t){return Ep(e.canonicalString(),t.canonicalString())})),d=re(r);try{for(d.s();!(s=d.n()).done;){var p=s.value,v=_g(i.userId,p.key.path,o);h=h.add(p.key.path.popLast()),f.push(a.put(l)),f.push(u.put(v,Cg))}}catch(m){d.e(m)}finally{d.f()}return h.forEach((function(t){f.push(i.indexManager.addToCollectionParentIndex(e,t))})),e.addOnCommittedListener((function(){i.gn[o]=c.keys()})),Kp.waitFor(f).next((function(){return c}))}))}},{key:"lookupMutationBatch",value:function(e,t){var n=this;return Vk(e).get(t).next((function(e){return e?(op(e.userId===n.userId),rk(n.wt,e)):null}))}},{key:"yn",value:function(e,t){var n=this;return this.gn[t]?Kp.resolve(this.gn[t]):this.lookupMutationBatch(e,t).next((function(e){if(e){var r=e.keys();return n.gn[t]=r,r}return null}))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=this,r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]),u=null;return Vk(e).J({index:"userMutationsIndex",range:i},(function(e,t,i){t.userId===n.userId&&(op(t.batchId>=r),u=rk(n.wt,t)),i.done()})).next((function(){return u}))}},{key:"getHighestUnacknowledgedBatchId",value:function(e){var t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return Vk(e).J({index:"userMutationsIndex",range:t,reverse:!0},(function(e,t,r){n=t.batchId,r.done()})).next((function(){return n}))}},{key:"getAllMutationBatches",value:function(e){var t=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Vk(e).K("userMutationsIndex",n).next((function(e){return e.map((function(e){return rk(t.wt,e)}))}))}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=Ag(this.userId,t.path),i=IDBKeyRange.lowerBound(r),u=[];return zk(e).J({range:i},(function(r,i,a){var o=c(r,3),s=o[0],l=o[1],f=o[2],h=Eg(l);if(s===n.userId&&t.path.isEqual(h))return Vk(e).get(f).next((function(e){if(!e)throw ap();op(e.userId===n.userId),u.push(rk(n.wt,e))}));a.done()})).next((function(){return u}))}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new lv(Ep),i=[];return t.forEach((function(t){var u=Ag(n.userId,t.path),a=IDBKeyRange.lowerBound(u),o=zk(e).J({range:a},(function(e,i,u){var a=c(e,3),o=a[0],s=a[1],l=a[2],f=Eg(s);o===n.userId&&t.path.isEqual(f)?r=r.add(l):u.done()}));i.push(o)})),Kp.waitFor(i).next((function(){return n.pn(e,r)}))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=this,r=t.path,i=r.length+1,u=Ag(this.userId,r),a=IDBKeyRange.lowerBound(u),o=new lv(Ep);return zk(e).J({range:a},(function(e,t,u){var a=c(e,3),s=a[0],l=a[1],f=a[2],h=Eg(l);s===n.userId&&r.isPrefixOf(h)?h.length===i&&(o=o.add(f)):u.done()})).next((function(){return n.pn(e,o)}))}},{key:"pn",value:function(e,t){var n=this,r=[],i=[];return t.forEach((function(t){i.push(Vk(e).get(t).next((function(e){if(null===e)throw ap();op(e.userId===n.userId),r.push(rk(n.wt,e))})))})),Kp.waitFor(i).next((function(){return r}))}},{key:"removeMutationBatch",value:function(e,t){var n=this;return Lk(e.ee,this.userId,t).next((function(r){return e.addOnCommittedListener((function(){n.In(t.batchId)})),Kp.forEach(r,(function(t){return n.referenceDelegate.markPotentiallyOrphaned(e,t)}))}))}},{key:"In",value:function(e){delete this.gn[e]}},{key:"performConsistencyCheck",value:function(e){var t=this;return this.checkEmpty(e).next((function(n){if(!n)return Kp.resolve();var r=IDBKeyRange.lowerBound([t.userId]),i=[];return zk(e).J({range:r},(function(e,n,r){if(e[0]===t.userId){var u=Eg(e[1]);i.push(u)}else r.done()})).next((function(){op(0===i.length)}))}))}},{key:"containsKey",value:function(e,t){return Uk(e,this.userId,t)}},{key:"Tn",value:function(e){var t=this;return qk(e).get(this.userId).next((function(e){return e||{userId:t.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""}}))}}],[{key:"se",value:function(t,n,r,i){return op(""!==t.uid),new e(t.isAuthenticated()?t.uid:"",n,r,i)}}]),e}();function Uk(e,t,n){var r=Ag(t,n.path),i=r[1],u=IDBKeyRange.lowerBound(r),a=!1;return zk(e).J({range:u,H:!0},(function(e,n,r){var u=c(e,3),o=u[0],s=u[1];u[2];o===t&&s===i&&(a=!0),r.done()})).next((function(){return a}))}function Vk(e){return Wg(e,"mutations")}function zk(e){return Wg(e,"documentMutations")}function qk(e){return Wg(e,"mutationQueues")}var Gk=function(){function e(t){ee(this,e),this.En=t}return ne(e,[{key:"next",value:function(){return this.En+=2,this.En}}],[{key:"An",value:function(){return new e(0)}},{key:"Rn",value:function(){return new e(-1)}}]),e}(),Kk=function(){function e(t,n){ee(this,e),this.referenceDelegate=t,this.wt=n}return ne(e,[{key:"allocateTargetId",value:function(e){var t=this;return this.bn(e).next((function(n){var r=new Gk(n.highestTargetId);return n.highestTargetId=r.next(),t.Pn(e,n).next((function(){return n.highestTargetId}))}))}},{key:"getLastRemoteSnapshotVersion",value:function(e){return this.bn(e).next((function(e){return Cp.fromTimestamp(new _p(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))}))}},{key:"getHighestSequenceNumber",value:function(e){return this.bn(e).next((function(e){return e.highestListenSequenceNumber}))}},{key:"setTargetsMetadata",value:function(e,t,n){var r=this;return this.bn(e).next((function(i){return i.highestListenSequenceNumber=t,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),r.Pn(e,i)}))}},{key:"addTargetData",value:function(e,t){var n=this;return this.vn(e,t).next((function(){return n.bn(e).next((function(r){return r.targetCount+=1,n.Vn(t,r),n.Pn(e,r)}))}))}},{key:"updateTargetData",value:function(e,t){return this.vn(e,t)}},{key:"removeTargetData",value:function(e,t){var n=this;return this.removeMatchingKeysForTargetId(e,t.targetId).next((function(){return Hk(e).delete(t.targetId)})).next((function(){return n.bn(e)})).next((function(t){return op(t.targetCount>0),t.targetCount-=1,n.Pn(e,t)}))}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,u=[];return Hk(e).J((function(a,o){var s=ik(o);s.sequenceNumber<=t&&null===n.get(s.targetId)&&(i++,u.push(r.removeTargetData(e,s)))})).next((function(){return Kp.waitFor(u)})).next((function(){return i}))}},{key:"forEachTarget",value:function(e,t){return Hk(e).J((function(e,n){var r=ik(n);t(r)}))}},{key:"bn",value:function(e){return Wk(e).get("targetGlobalKey").next((function(e){return op(null!==e),e}))}},{key:"Pn",value:function(e,t){return Wk(e).put("targetGlobalKey",t)}},{key:"vn",value:function(e,t){return Hk(e).put(uk(this.wt,t))}},{key:"Vn",value:function(e,t){var n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}},{key:"getTargetCount",value:function(e){return this.bn(e).next((function(e){return e.targetCount}))}},{key:"getTargetData",value:function(e,t){var n=Zv(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return Hk(e).J({range:r,index:"queryTargetsIndex"},(function(e,n,r){var u=ik(n);em(t,u.target)&&(i=u,r.done())})).next((function(){return i}))}},{key:"addMatchingKeys",value:function(e,t,n){var r=this,i=[],u=Qk(e);return t.forEach((function(t){var a=kg(t.path);i.push(u.put({targetId:n,path:a})),i.push(r.referenceDelegate.addReference(e,n,t))})),Kp.waitFor(i)}},{key:"removeMatchingKeys",value:function(e,t,n){var r=this,i=Qk(e);return Kp.forEach(t,(function(t){var u=kg(t.path);return Kp.waitFor([i.delete([n,u]),r.referenceDelegate.removeReference(e,n,t)])}))}},{key:"removeMatchingKeysForTargetId",value:function(e,t){var n=Qk(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=IDBKeyRange.bound([t],[t+1],!1,!0),r=Qk(e),i=Ty();return r.J({range:n,H:!0},(function(e,t,n){var r=Eg(e[1]),u=new Np(r);i=i.add(u)})).next((function(){return i}))}},{key:"containsKey",value:function(e,t){var n=kg(t.path),r=IDBKeyRange.bound([n],[Ap(n)],!1,!0),i=0;return Qk(e).J({index:"documentTargetsIndex",H:!0,range:r},(function(e,t,n){var r=c(e,2),u=r[0];r[1];0!==u&&(i++,n.done())})).next((function(){return i>0}))}},{key:"te",value:function(e,t){return Hk(e).get(t).next((function(e){return e?ik(e):null}))}}]),e}();function Hk(e){return Wg(e,"targets")}function Wk(e){return Wg(e,"targetGlobal")}function Qk(e){return Wg(e,"targetDocuments")}function Jk(e,t){var n=c(e,2),r=n[0],i=n[1],u=c(t,2),a=u[0],o=u[1],s=Ep(r,a);return 0===s?Ep(i,o):s}var Yk=function(){function e(t){ee(this,e),this.Sn=t,this.buffer=new lv(Jk),this.Dn=0}return ne(e,[{key:"Cn",value:function(){return++this.Dn}},{key:"xn",value:function(e){var t=[e,this.Cn()];if(this.buffer.size<this.Sn)this.buffer=this.buffer.add(t);else{var n=this.buffer.last();Jk(t,n)<0&&(this.buffer=this.buffer.delete(n).add(t))}}},{key:"maxValue",get:function(){return this.buffer.last()[0]}}]),e}(),Xk=function(){function e(t,n,r){ee(this,e),this.garbageCollector=t,this.asyncQueue=n,this.localStore=r,this.Nn=null}return ne(e,[{key:"start",value:function(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.kn(6e4)}},{key:"stop",value:function(){this.Nn&&(this.Nn.cancel(),this.Nn=null)}},{key:"started",get:function(){return null!==this.Nn}},{key:"kn",value:function(e){var t=this;np("LruGarbageCollector","Garbage collection scheduled in ".concat(e,"ms")),this.Nn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,He(ze().mark((function e(){return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.Nn=null,e.prev=1,e.next=4,t.localStore.collectGarbage(t.garbageCollector);case 4:e.next=14;break;case 6:if(e.prev=6,e.t0=e.catch(1),!Yp(e.t0)){e.next=12;break}np("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e.t0),e.next=14;break;case 12:return e.next=14,qp(e.t0);case 14:return e.next=16,t.kn(3e5);case 16:case"end":return e.stop()}}),e,null,[[1,6]])}))))}}]),e}(),$k=function(){function e(t,n){ee(this,e),this.On=t,this.params=n}return ne(e,[{key:"calculateTargetCount",value:function(e,t){return this.On.Mn(e).next((function(e){return Math.floor(t/100*e)}))}},{key:"nthSequenceNumber",value:function(e,t){var n=this;if(0===t)return Kp.resolve(rv.ot);var r=new Yk(t);return this.On.forEachTarget(e,(function(e){return r.xn(e.sequenceNumber)})).next((function(){return n.On.Fn(e,(function(e){return r.xn(e)}))})).next((function(){return r.maxValue}))}},{key:"removeTargets",value:function(e,t,n){return this.On.removeTargets(e,t,n)}},{key:"removeOrphanedDocuments",value:function(e,t){return this.On.removeOrphanedDocuments(e,t)}},{key:"collect",value:function(e,t){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(np("LruGarbageCollector","Garbage collection skipped; disabled"),Kp.resolve(Ok)):this.getCacheSize(e).next((function(r){return r<n.params.cacheSizeCollectionThreshold?(np("LruGarbageCollector","Garbage collection skipped; Cache size ".concat(r," is lower than threshold ").concat(n.params.cacheSizeCollectionThreshold)),Ok):n.$n(e,t)}))}},{key:"getCacheSize",value:function(e){return this.On.getCacheSize(e)}},{key:"$n",value:function(e,t){var n,r,i,u,a,o,s,c=this,l=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((function(t){return t>c.params.maximumSequenceNumbersToCollect?(np("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of ".concat(c.params.maximumSequenceNumbersToCollect," from ").concat(t)),r=c.params.maximumSequenceNumbersToCollect):r=t,u=Date.now(),c.nthSequenceNumber(e,r)})).next((function(r){return n=r,a=Date.now(),c.removeTargets(e,n,t)})).next((function(t){return i=t,o=Date.now(),c.removeOrphanedDocuments(e,n)})).next((function(e){return s=Date.now(),tp()<=Xe.DEBUG&&np("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in ".concat(u-l,"ms\n\tDetermined least recently used ").concat(r," in ")+(a-u)+"ms\n"+"\tRemoved ".concat(i," targets in ")+(o-a)+"ms\n"+"\tRemoved ".concat(e," documents in ")+(s-o)+"ms\n"+"Total Duration: ".concat(s-l,"ms")),Kp.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e})}))}}]),e}(),Zk=function(){function e(t,n){ee(this,e),this.db=t,this.garbageCollector=function(e,t){return new $k(e,t)}(this,n)}return ne(e,[{key:"Mn",value:function(e){var t=this.Bn(e);return this.db.getTargetCache().getTargetCount(e).next((function(e){return t.next((function(t){return e+t}))}))}},{key:"Bn",value:function(e){var t=0;return this.Fn(e,(function(e){t++})).next((function(){return t}))}},{key:"forEachTarget",value:function(e,t){return this.db.getTargetCache().forEachTarget(e,t)}},{key:"Fn",value:function(e,t){return this.Ln(e,(function(e,n){return t(n)}))}},{key:"addReference",value:function(e,t,n){return eb(e,n)}},{key:"removeReference",value:function(e,t,n){return eb(e,n)}},{key:"removeTargets",value:function(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)}},{key:"markPotentiallyOrphaned",value:function(e,t){return eb(e,t)}},{key:"Un",value:function(e,t){return function(e,t){var n=!1;return qk(e).Y((function(r){return Uk(e,r,t).next((function(e){return e&&(n=!0),Kp.resolve(!e)}))})).next((function(){return n}))}(e,t)}},{key:"removeOrphanedDocuments",value:function(e,t){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],u=0;return this.Ln(e,(function(a,o){if(o<=t){var s=n.Un(e,a).next((function(t){if(!t)return u++,r.getEntry(e,a).next((function(){return r.removeEntry(a,Cp.min()),Qk(e).delete([0,kg(a.path)])}))}));i.push(s)}})).next((function(){return Kp.waitFor(i)})).next((function(){return r.apply(e)})).next((function(){return u}))}},{key:"removeTarget",value:function(e,t){var n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}},{key:"updateLimboDocument",value:function(e,t){return eb(e,t)}},{key:"Ln",value:function(e,t){var n,r=Qk(e),i=rv.ot;return r.J({index:"documentTargetsIndex"},(function(e,r){var u=c(e,2),a=u[0],o=(u[1],r.path),s=r.sequenceNumber;0===a?(i!==rv.ot&&t(new Np(Eg(n)),i),i=s,n=o):i=rv.ot})).next((function(){i!==rv.ot&&t(new Np(Eg(n)),i)}))}},{key:"getCacheSize",value:function(e){return this.db.getRemoteDocumentCache().getSize(e)}}]),e}();function eb(e,t){return Qk(e).put(function(e,t){return{targetId:0,path:kg(e.path),sequenceNumber:t}}(t,e.currentSequenceNumber))}var tb=function(){function e(){ee(this,e),this.changes=new gy((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),this.changesApplied=!1}return ne(e,[{key:"addEntry",value:function(e){this.assertNotApplied(),this.changes.set(e.key,e)}},{key:"removeEntry",value:function(e,t){this.assertNotApplied(),this.changes.set(e,Yv.newInvalidDocument(e).setReadTime(t))}},{key:"getEntry",value:function(e,t){this.assertNotApplied();var n=this.changes.get(t);return void 0!==n?Kp.resolve(n):this.getFromCache(e,t)}},{key:"getEntries",value:function(e,t){return this.getAllFromCache(e,t)}},{key:"apply",value:function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}},{key:"assertNotApplied",value:function(){}}]),e}(),nb=function(){function e(t){ee(this,e),this.wt=t}return ne(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t,n){return ab(e).put(n)}},{key:"removeEntry",value:function(e,t,n){return ab(e).delete(function(e,t){var n=e.path.toArray();return[n.slice(0,n.length-2),n[n.length-2],ek(t),n[n.length-1]]}(t,n))}},{key:"updateMetadata",value:function(e,t){var n=this;return this.getMetadata(e).next((function(r){return r.byteSize+=t,n.qn(e,r)}))}},{key:"getEntry",value:function(e,t){var n=this,r=Yv.newInvalidDocument(t);return ab(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(ob(t))},(function(e,i){r=n.Kn(t,i)})).next((function(){return r}))}},{key:"Gn",value:function(e,t){var n=this,r={size:0,document:Yv.newInvalidDocument(t)};return ab(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(ob(t))},(function(e,i){r={document:n.Kn(t,i),size:jk(i)}})).next((function(){return r}))}},{key:"getEntries",value:function(e,t){var n=this,r=by();return this.Qn(e,t,(function(e,t){var i=n.Kn(e,t);r=r.insert(e,i)})).next((function(){return r}))}},{key:"jn",value:function(e,t){var n=this,r=by(),i=new ov(Np.comparator);return this.Qn(e,t,(function(e,t){var u=n.Kn(e,t);r=r.insert(e,u),i=i.insert(e,jk(t))})).next((function(){return{documents:r,Wn:i}}))}},{key:"Qn",value:function(e,t,n){if(t.isEmpty())return Kp.resolve();var r=new lv(cb);t.forEach((function(e){return r=r.add(e)}));var i=IDBKeyRange.bound(ob(r.first()),ob(r.last())),u=r.getIterator(),a=u.getNext();return ab(e).J({index:"documentKeyIndex",range:i},(function(e,t,r){for(var i=Np.fromSegments([].concat(Ge(t.prefixPath),[t.collectionGroup,t.documentId]));a&&cb(a,i)<0;)n(a,null),a=u.getNext();a&&a.isEqual(i)&&(n(a,t),a=u.hasNext()?u.getNext():null),a?r.q(ob(a)):r.done()})).next((function(){for(;a;)n(a,null),a=u.hasNext()?u.getNext():null}))}},{key:"getAllFromCollection",value:function(e,t,n){var r=this,i=[t.popLast().toArray(),t.lastSegment(),ek(n.readTime),n.documentKey.path.isEmpty()?"":n.documentKey.path.lastSegment()],u=[t.popLast().toArray(),t.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return ab(e).K(IDBKeyRange.bound(i,u,!0)).next((function(e){var t,n=by(),i=re(e);try{for(i.s();!(t=i.n()).done;){var u=t.value,a=r.Kn(Np.fromSegments(u.prefixPath.concat(u.collectionGroup,u.documentId)),u);n=n.insert(a.key,a)}}catch(o){i.e(o)}finally{i.f()}return n}))}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){var i=this,u=by(),a=sb(t,n),o=sb(t,Mp.max());return ab(e).J({index:"collectionGroupIndex",range:IDBKeyRange.bound(a,o,!0)},(function(e,t,n){var a=i.Kn(Np.fromSegments(t.prefixPath.concat(t.collectionGroup,t.documentId)),t);(u=u.insert(a.key,a)).size===r&&n.done()})).next((function(){return u}))}},{key:"newChangeBuffer",value:function(e){return new ib(this,!!e&&e.trackRemovals)}},{key:"getSize",value:function(e){return this.getMetadata(e).next((function(e){return e.byteSize}))}},{key:"getMetadata",value:function(e){return ub(e).get("remoteDocumentGlobalKey").next((function(e){return op(!!e),e}))}},{key:"qn",value:function(e,t){return ub(e).put("remoteDocumentGlobalKey",t)}},{key:"Kn",value:function(e,t){if(t){var n=function(e,t){var n;if(t.document)n=rg(e.ne,t.document,!!t.hasCommittedMutations);else if(t.noDocument){var r=Np.fromSegments(t.noDocument.path),i=nk(t.noDocument.readTime);n=Yv.newNoDocument(r,i),t.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!t.unknownDocument)return ap();var u=Np.fromSegments(t.unknownDocument.path),a=nk(t.unknownDocument.version);n=Yv.newUnknownDocument(u,a)}return t.readTime&&n.setReadTime(function(e){var t=new _p(e[0],e[1]);return Cp.fromTimestamp(t)}(t.readTime)),n}(this.wt,t);if(!n.isNoDocument()||!n.version.isEqual(Cp.min()))return n}return Yv.newInvalidDocument(e)}}]),e}();function rb(e){return new nb(e)}var ib=function(e){ae(n,e);var t=fe(n);function n(e,r){var i;return ee(this,n),(i=t.call(this)).zn=e,i.trackRemovals=r,i.Hn=new gy((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),i}return ne(n,[{key:"applyChanges",value:function(e){var t=this,n=[],r=0,i=new lv((function(e,t){return Ep(e.canonicalString(),t.canonicalString())}));return this.changes.forEach((function(u,a){var o=t.Hn.get(u);if(n.push(t.zn.removeEntry(e,u,o.readTime)),a.isValidDocument()){var s=Zg(t.zn.wt,a);i=i.add(u.path.popLast());var c=jk(s);r+=c-o.size,n.push(t.zn.addEntry(e,u,s))}else if(r-=o.size,t.trackRemovals){var l=Zg(t.zn.wt,a.convertToNoDocument(Cp.min()));n.push(t.zn.addEntry(e,u,l))}})),i.forEach((function(r){n.push(t.zn.indexManager.addToCollectionParentIndex(e,r))})),n.push(this.zn.updateMetadata(e,r)),Kp.waitFor(n)}},{key:"getFromCache",value:function(e,t){var n=this;return this.zn.Gn(e,t).next((function(e){return n.Hn.set(t,{size:e.size,readTime:e.document.readTime}),e.document}))}},{key:"getAllFromCache",value:function(e,t){var n=this;return this.zn.jn(e,t).next((function(e){var t=e.documents;return e.Wn.forEach((function(e,r){n.Hn.set(e,{size:r,readTime:t.get(e).readTime})})),t}))}}]),n}(tb);function ub(e){return Wg(e,"remoteDocumentGlobal")}function ab(e){return Wg(e,"remoteDocumentsV14")}function ob(e){var t=e.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function sb(e,t){var n=t.documentKey.path.toArray();return[e,ek(t.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function cb(e,t){for(var n=e.path.toArray(),r=t.path.toArray(),i=0,u=0;u<n.length-2&&u<r.length-2;++u)if(i=Ep(n[u],r[u]))return i;return(i=Ep(n.length,r.length))||((i=Ep(n[n.length-2],r[r.length-2]))||Ep(n[n.length-1],r[r.length-1]))}var lb=ne((function e(t,n){ee(this,e),this.overlayedDocument=t,this.mutatedFields=n})),fb=function(){function e(t,n,r,i){ee(this,e),this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}return ne(e,[{key:"getDocument",value:function(e,t){var n=this,r=null;return this.documentOverlayCache.getOverlay(e,t).next((function(i){return r=i,n.getBaseDocument(e,t,r)})).next((function(e){return null!==r&&ry(r.mutation,e,dv.empty(),_p.now()),e}))}},{key:"getDocuments",value:function(e,t){var n=this;return this.remoteDocumentCache.getEntries(e,t).next((function(t){return n.getLocalViewOfDocuments(e,t,Ty()).next((function(){return t}))}))}},{key:"getLocalViewOfDocuments",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Ty(),i=Ay();return this.populateOverlays(e,i,t).next((function(){return n.computeViews(e,t,i,r).next((function(e){var t=Ey();return e.forEach((function(e,n){t=t.insert(e,n.overlayedDocument)})),t}))}))}},{key:"getOverlayedDocuments",value:function(e,t){var n=this,r=Ay();return this.populateOverlays(e,r,t).next((function(){return n.computeViews(e,t,r,Ty())}))}},{key:"populateOverlays",value:function(e,t,n){var r=[];return n.forEach((function(e){t.has(e)||r.push(e)})),this.documentOverlayCache.getOverlays(e,r).next((function(e){e.forEach((function(e,n){t.set(e,n)}))}))}},{key:"computeViews",value:function(e,t,n,r){var i=by(),u=Cy(),a=Cy();return t.forEach((function(e,t){var a=n.get(t.key);r.has(t.key)&&(void 0===a||a.mutation instanceof oy)?i=i.insert(t.key,t):void 0!==a&&(u.set(t.key,a.mutation.getFieldMask()),ry(a.mutation,t,a.mutation.getFieldMask(),_p.now()))})),this.recalculateAndSaveOverlays(e,i).next((function(e){return e.forEach((function(e,t){return u.set(e,t)})),t.forEach((function(e,t){var n;return a.set(e,new lb(t,null!==(n=u.get(e))&&void 0!==n?n:null))})),a}))}},{key:"recalculateAndSaveOverlays",value:function(e,t){var n=this,r=Cy(),i=new ov((function(e,t){return e-t})),u=Ty();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((function(e){var n,u=re(e);try{var a=function(){var e=n.value;e.keys().forEach((function(n){var u=t.get(n);if(null!==u){var a=r.get(n)||dv.empty();a=e.applyToLocalView(u,a),r.set(n,a);var o=(i.get(e.batchId)||Ty()).add(n);i=i.insert(e.batchId,o)}}))};for(u.s();!(n=u.n()).done;)a()}catch(o){u.e(o)}finally{u.f()}})).next((function(){for(var a=[],o=i.getReverseIterator(),s=function(){var i=o.getNext(),s=i.key,c=i.value,l=_y();c.forEach((function(e){if(!u.has(e)){var n=ty(t.get(e),r.get(e));null!==n&&l.set(e,n),u=u.add(e)}})),a.push(n.documentOverlayCache.saveOverlays(e,s,l))};o.hasNext();)s();return Kp.waitFor(a)})).next((function(){return r}))}},{key:"recalculateAndSaveOverlaysForDocumentKeys",value:function(e,t){var n=this;return this.remoteDocumentCache.getEntries(e,t).next((function(t){return n.recalculateAndSaveOverlays(e,t)}))}},{key:"getDocumentsMatchingQuery",value:function(e,t,n){return function(e){return Np.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):Am(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n):this.getDocumentsMatchingCollectionQuery(e,t,n)}},{key:"getNextDocuments",value:function(e,t,n,r){var i=this;return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next((function(u){var a=r-u.size>0?i.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-u.size):Kp.resolve(Ay()),o=-1,s=u;return a.next((function(t){return Kp.forEach(t,(function(t,n){return o<n.largestBatchId&&(o=n.largestBatchId),u.get(t)?Kp.resolve():i.getBaseDocument(e,t,n).next((function(e){s=s.insert(t,e)}))})).next((function(){return i.populateOverlays(e,t,u)})).next((function(){return i.computeViews(e,s,t,Ty())})).next((function(e){return{batchId:o,changes:xy(e)}}))}))}))}},{key:"getDocumentsMatchingDocumentQuery",value:function(e,t){return this.getDocument(e,new Np(t)).next((function(e){var t=Ey();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}},{key:"getDocumentsMatchingCollectionGroupQuery",value:function(e,t,n){var r=this,i=t.collectionGroup,u=Ey();return this.indexManager.getCollectionParents(e,i).next((function(a){return Kp.forEach(a,(function(a){var o=function(e,t){return new km(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,a.child(i));return r.getDocumentsMatchingCollectionQuery(e,o,n).next((function(e){e.forEach((function(e,t){u=u.insert(e,t)}))}))})).next((function(){return u}))}))}},{key:"getDocumentsMatchingCollectionQuery",value:function(e,t,n){var r,i=this;return this.remoteDocumentCache.getAllFromCollection(e,t.path,n).next((function(u){return r=u,i.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId)})).next((function(e){e.forEach((function(e,t){var n=t.getKey();null===r.get(n)&&(r=r.insert(n,Yv.newInvalidDocument(n)))}));var n=Ey();return r.forEach((function(r,i){var u=e.get(r);void 0!==u&&ry(u.mutation,i,dv.empty(),_p.now()),Nm(t,i)&&(n=n.insert(r,i))})),n}))}},{key:"getBaseDocument",value:function(e,t,n){return null===n||1===n.mutation.type?this.remoteDocumentCache.getEntry(e,t):Kp.resolve(Yv.newInvalidDocument(t))}}]),e}(),hb=function(){function e(t){ee(this,e),this.wt=t,this.Jn=new Map,this.Yn=new Map}return ne(e,[{key:"getBundleMetadata",value:function(e,t){return Kp.resolve(this.Jn.get(t))}},{key:"saveBundleMetadata",value:function(e,t){var n;return this.Jn.set(t.id,{id:(n=t).id,version:n.version,createTime:Wy(n.createTime)}),Kp.resolve()}},{key:"getNamedQuery",value:function(e,t){return Kp.resolve(this.Yn.get(t))}},{key:"saveNamedQuery",value:function(e,t){return this.Yn.set(t.name,function(e){return{name:e.name,query:ak(e.bundledQuery),readTime:Wy(e.readTime)}}(t)),Kp.resolve()}}]),e}(),db=function(){function e(){ee(this,e),this.overlays=new ov(Np.comparator),this.Xn=new Map}return ne(e,[{key:"getOverlay",value:function(e,t){return Kp.resolve(this.overlays.get(t))}},{key:"getOverlays",value:function(e,t){var n=this,r=Ay();return Kp.forEach(t,(function(t){return n.getOverlay(e,t).next((function(e){null!==e&&r.set(t,e)}))})).next((function(){return r}))}},{key:"saveOverlays",value:function(e,t,n){var r=this;return n.forEach((function(n,i){r.ie(e,t,i)})),Kp.resolve()}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=this.Xn.get(n);return void 0!==i&&(i.forEach((function(e){return r.overlays=r.overlays.remove(e)})),this.Xn.delete(n)),Kp.resolve()}},{key:"getOverlaysForCollection",value:function(e,t,n){for(var r=Ay(),i=t.length+1,u=new Np(t.child("")),a=this.overlays.getIteratorFrom(u);a.hasNext();){var o=a.getNext().value,s=o.getKey();if(!t.isPrefixOf(s.path))break;s.path.length===i&&o.largestBatchId>n&&r.set(o.getKey(),o)}return Kp.resolve(r)}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){for(var i=new ov((function(e,t){return e-t})),u=this.overlays.getIterator();u.hasNext();){var a=u.getNext().value;if(a.getKey().getCollectionGroup()===t&&a.largestBatchId>n){var o=i.get(a.largestBatchId);null===o&&(o=Ay(),i=i.insert(a.largestBatchId,o)),o.set(a.getKey(),a)}}for(var s=Ay(),c=i.getIterator();c.hasNext()&&(c.getNext().value.forEach((function(e,t){return s.set(e,t)})),!(s.size()>=r)););return Kp.resolve(s)}},{key:"ie",value:function(e,t,n){var r=this.overlays.get(n.key);if(null!==r){var i=this.Xn.get(r.largestBatchId).delete(n.key);this.Xn.set(r.largestBatchId,i)}this.overlays=this.overlays.insert(n.key,new Yg(t,n));var u=this.Xn.get(t);void 0===u&&(u=Ty(),this.Xn.set(t,u)),this.Xn.set(t,u.add(n.key))}}]),e}(),pb=function(){function e(){ee(this,e),this.Zn=new lv(vb.ts),this.es=new lv(vb.ns)}return ne(e,[{key:"isEmpty",value:function(){return this.Zn.isEmpty()}},{key:"addReference",value:function(e,t){var n=new vb(e,t);this.Zn=this.Zn.add(n),this.es=this.es.add(n)}},{key:"ss",value:function(e,t){var n=this;e.forEach((function(e){return n.addReference(e,t)}))}},{key:"removeReference",value:function(e,t){this.rs(new vb(e,t))}},{key:"os",value:function(e,t){var n=this;e.forEach((function(e){return n.removeReference(e,t)}))}},{key:"us",value:function(e){var t=this,n=new Np(new Sp([])),r=new vb(n,e),i=new vb(n,e+1),u=[];return this.es.forEachInRange([r,i],(function(e){t.rs(e),u.push(e.key)})),u}},{key:"cs",value:function(){var e=this;this.Zn.forEach((function(t){return e.rs(t)}))}},{key:"rs",value:function(e){this.Zn=this.Zn.delete(e),this.es=this.es.delete(e)}},{key:"hs",value:function(e){var t=new Np(new Sp([])),n=new vb(t,e),r=new vb(t,e+1),i=Ty();return this.es.forEachInRange([n,r],(function(e){i=i.add(e.key)})),i}},{key:"containsKey",value:function(e){var t=new vb(e,0),n=this.Zn.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}]),e}(),vb=function(){function e(t,n){ee(this,e),this.key=t,this.ls=n}return ne(e,null,[{key:"ts",value:function(e,t){return Np.comparator(e.key,t.key)||Ep(e.ls,t.ls)}},{key:"ns",value:function(e,t){return Ep(e.ls,t.ls)||Np.comparator(e.key,t.key)}}]),e}(),mb=function(){function e(t,n){ee(this,e),this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.fs=1,this.ds=new lv(vb.ts)}return ne(e,[{key:"checkEmpty",value:function(e){return Kp.resolve(0===this.mutationQueue.length)}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this.fs;this.fs++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];var u=new Qg(i,t,n,r);this.mutationQueue.push(u);var a,o=re(r);try{for(o.s();!(a=o.n()).done;){var s=a.value;this.ds=this.ds.add(new vb(s.key,i)),this.indexManager.addToCollectionParentIndex(e,s.key.path.popLast())}}catch(c){o.e(c)}finally{o.f()}return Kp.resolve(u)}},{key:"lookupMutationBatch",value:function(e,t){return Kp.resolve(this._s(t))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=t+1,r=this.ws(n),i=r<0?0:r;return Kp.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}},{key:"getHighestUnacknowledgedBatchId",value:function(){return Kp.resolve(0===this.mutationQueue.length?-1:this.fs-1)}},{key:"getAllMutationBatches",value:function(e){return Kp.resolve(this.mutationQueue.slice())}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=new vb(t,0),i=new vb(t,Number.POSITIVE_INFINITY),u=[];return this.ds.forEachInRange([r,i],(function(e){var t=n._s(e.ls);u.push(t)})),Kp.resolve(u)}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new lv(Ep);return t.forEach((function(e){var t=new vb(e,0),i=new vb(e,Number.POSITIVE_INFINITY);n.ds.forEachInRange([t,i],(function(e){r=r.add(e.ls)}))})),Kp.resolve(this.gs(r))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=t.path,r=n.length+1,i=n;Np.isDocumentKey(i)||(i=i.child(""));var u=new vb(new Np(i),0),a=new lv(Ep);return this.ds.forEachWhile((function(e){var t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(a=a.add(e.ls)),!0)}),u),Kp.resolve(this.gs(a))}},{key:"gs",value:function(e){var t=this,n=[];return e.forEach((function(e){var r=t._s(e);null!==r&&n.push(r)})),n}},{key:"removeMutationBatch",value:function(e,t){var n=this;op(0===this.ys(t.batchId,"removed")),this.mutationQueue.shift();var r=this.ds;return Kp.forEach(t.mutations,(function(i){var u=new vb(i.key,t.batchId);return r=r.delete(u),n.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((function(){n.ds=r}))}},{key:"In",value:function(e){}},{key:"containsKey",value:function(e,t){var n=new vb(t,0),r=this.ds.firstAfterOrEqual(n);return Kp.resolve(t.isEqual(r&&r.key))}},{key:"performConsistencyCheck",value:function(e){return this.mutationQueue.length,Kp.resolve()}},{key:"ys",value:function(e,t){return this.ws(e)}},{key:"ws",value:function(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}},{key:"_s",value:function(e){var t=this.ws(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}]),e}(),yb=function(){function e(t){ee(this,e),this.ps=t,this.docs=new ov(Np.comparator),this.size=0}return ne(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t){var n=t.key,r=this.docs.get(n),i=r?r.size:0,u=this.ps(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:u}),this.size+=u-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}},{key:"removeEntry",value:function(e){var t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}},{key:"getEntry",value:function(e,t){var n=this.docs.get(t);return Kp.resolve(n?n.document.mutableCopy():Yv.newInvalidDocument(t))}},{key:"getEntries",value:function(e,t){var n=this,r=by();return t.forEach((function(e){var t=n.docs.get(e);r=r.insert(e,t?t.document.mutableCopy():Yv.newInvalidDocument(e))})),Kp.resolve(r)}},{key:"getAllFromCollection",value:function(e,t,n){for(var r=by(),i=new Np(t.child("")),u=this.docs.getIteratorFrom(i);u.hasNext();){var a=u.getNext(),o=a.key,s=a.value.document;if(!t.isPrefixOf(o.path))break;o.path.length>t.length+1||Up(jp(s),n)<=0||(r=r.insert(s.key,s.mutableCopy()))}return Kp.resolve(r)}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){ap()}},{key:"Is",value:function(e,t){return Kp.forEach(this.docs,(function(e){return t(e)}))}},{key:"newChangeBuffer",value:function(e){return new gb(this)}},{key:"getSize",value:function(e){return Kp.resolve(this.size)}}]),e}(),gb=function(e){ae(n,e);var t=fe(n);function n(e){var r;return ee(this,n),(r=t.call(this)).zn=e,r}return ne(n,[{key:"applyChanges",value:function(e){var t=this,n=[];return this.changes.forEach((function(r,i){i.isValidDocument()?n.push(t.zn.addEntry(e,i)):t.zn.removeEntry(r)})),Kp.waitFor(n)}},{key:"getFromCache",value:function(e,t){return this.zn.getEntry(e,t)}},{key:"getAllFromCache",value:function(e,t){return this.zn.getEntries(e,t)}}]),n}(tb),kb=function(){function e(t){ee(this,e),this.persistence=t,this.Ts=new gy((function(e){return Zv(e)}),em),this.lastRemoteSnapshotVersion=Cp.min(),this.highestTargetId=0,this.Es=0,this.As=new pb,this.targetCount=0,this.Rs=Gk.An()}return ne(e,[{key:"forEachTarget",value:function(e,t){return this.Ts.forEach((function(e,n){return t(n)})),Kp.resolve()}},{key:"getLastRemoteSnapshotVersion",value:function(e){return Kp.resolve(this.lastRemoteSnapshotVersion)}},{key:"getHighestSequenceNumber",value:function(e){return Kp.resolve(this.Es)}},{key:"allocateTargetId",value:function(e){return this.highestTargetId=this.Rs.next(),Kp.resolve(this.highestTargetId)}},{key:"setTargetsMetadata",value:function(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.Es&&(this.Es=t),Kp.resolve()}},{key:"vn",value:function(e){this.Ts.set(e.target,e);var t=e.targetId;t>this.highestTargetId&&(this.Rs=new Gk(t),this.highestTargetId=t),e.sequenceNumber>this.Es&&(this.Es=e.sequenceNumber)}},{key:"addTargetData",value:function(e,t){return this.vn(t),this.targetCount+=1,Kp.resolve()}},{key:"updateTargetData",value:function(e,t){return this.vn(t),Kp.resolve()}},{key:"removeTargetData",value:function(e,t){return this.Ts.delete(t.target),this.As.us(t.targetId),this.targetCount-=1,Kp.resolve()}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,u=[];return this.Ts.forEach((function(a,o){o.sequenceNumber<=t&&null===n.get(o.targetId)&&(r.Ts.delete(a),u.push(r.removeMatchingKeysForTargetId(e,o.targetId)),i++)})),Kp.waitFor(u).next((function(){return i}))}},{key:"getTargetCount",value:function(e){return Kp.resolve(this.targetCount)}},{key:"getTargetData",value:function(e,t){var n=this.Ts.get(t)||null;return Kp.resolve(n)}},{key:"addMatchingKeys",value:function(e,t,n){return this.As.ss(t,n),Kp.resolve()}},{key:"removeMatchingKeys",value:function(e,t,n){this.As.os(t,n);var r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((function(t){i.push(r.markPotentiallyOrphaned(e,t))})),Kp.waitFor(i)}},{key:"removeMatchingKeysForTargetId",value:function(e,t){return this.As.us(t),Kp.resolve()}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=this.As.hs(t);return Kp.resolve(n)}},{key:"containsKey",value:function(e,t){return Kp.resolve(this.As.containsKey(t))}}]),e}(),bb=function(){function e(t,n){var r=this;ee(this,e),this.bs={},this.overlays={},this.Ps=new rv(0),this.vs=!1,this.vs=!0,this.referenceDelegate=t(this),this.Vs=new kb(this),this.indexManager=new Ck,this.remoteDocumentCache=new yb((function(e){return r.referenceDelegate.Ss(e)})),this.wt=new $g(n),this.Ds=new hb(this.wt)}return ne(e,[{key:"start",value:function(){return Promise.resolve()}},{key:"shutdown",value:function(){return this.vs=!1,Promise.resolve()}},{key:"started",get:function(){return this.vs}},{key:"setDatabaseDeletedListener",value:function(){}},{key:"setNetworkEnabled",value:function(){}},{key:"getIndexManager",value:function(e){return this.indexManager}},{key:"getDocumentOverlayCache",value:function(e){var t=this.overlays[e.toKey()];return t||(t=new db,this.overlays[e.toKey()]=t),t}},{key:"getMutationQueue",value:function(e,t){var n=this.bs[e.toKey()];return n||(n=new mb(t,this.referenceDelegate),this.bs[e.toKey()]=n),n}},{key:"getTargetCache",value:function(){return this.Vs}},{key:"getRemoteDocumentCache",value:function(){return this.remoteDocumentCache}},{key:"getBundleCache",value:function(){return this.Ds}},{key:"runTransaction",value:function(e,t,n){var r=this;np("MemoryPersistence","Starting transaction:",e);var i=new wb(this.Ps.next());return this.referenceDelegate.Cs(),n(i).next((function(e){return r.referenceDelegate.xs(i).next((function(){return e}))})).toPromise().then((function(e){return i.raiseOnCommittedEvent(),e}))}},{key:"Ns",value:function(e,t){return Kp.or(Object.values(this.bs).map((function(n){return function(){return n.containsKey(e,t)}})))}}]),e}(),wb=function(e){ae(n,e);var t=fe(n);function n(e){var r;return ee(this,n),(r=t.call(this)).currentSequenceNumber=e,r}return ne(n)}(zp),Eb=function(){function e(t){ee(this,e),this.persistence=t,this.ks=new pb,this.Os=null}return ne(e,[{key:"Fs",get:function(){if(this.Os)return this.Os;throw ap()}},{key:"addReference",value:function(e,t,n){return this.ks.addReference(n,t),this.Fs.delete(n.toString()),Kp.resolve()}},{key:"removeReference",value:function(e,t,n){return this.ks.removeReference(n,t),this.Fs.add(n.toString()),Kp.resolve()}},{key:"markPotentiallyOrphaned",value:function(e,t){return this.Fs.add(t.toString()),Kp.resolve()}},{key:"removeTarget",value:function(e,t){var n=this;this.ks.us(t.targetId).forEach((function(e){return n.Fs.add(e.toString())}));var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((function(e){e.forEach((function(e){return n.Fs.add(e.toString())}))})).next((function(){return r.removeTargetData(e,t)}))}},{key:"Cs",value:function(){this.Os=new Set}},{key:"xs",value:function(e){var t=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Kp.forEach(this.Fs,(function(r){var i=Np.fromPath(r);return t.$s(e,i).next((function(e){e||n.removeEntry(i,Cp.min())}))})).next((function(){return t.Os=null,n.apply(e)}))}},{key:"updateLimboDocument",value:function(e,t){var n=this;return this.$s(e,t).next((function(e){e?n.Fs.delete(t.toString()):n.Fs.add(t.toString())}))}},{key:"Ss",value:function(e){return 0}},{key:"$s",value:function(e,t){var n=this;return Kp.or([function(){return Kp.resolve(n.ks.containsKey(t))},function(){return n.persistence.getTargetCache().containsKey(e,t)},function(){return n.persistence.Ns(e,t)}])}}],[{key:"Ms",value:function(t){return new e(t)}}]),e}(),xb=function(){function e(t){ee(this,e),this.wt=t}return ne(e,[{key:"O",value:function(e,t,n,r){var i=this,u=new Hp("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore("owner")}(e),function(e){e.createObjectStore("mutationQueues",{keyPath:"userId"}),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",xg,{unique:!0}),e.createObjectStore("documentMutations")}(e),Ab(e),function(e){e.createObjectStore("remoteDocuments")}(e));var a=Kp.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore("targetDocuments"),e.deleteObjectStore("targets"),e.deleteObjectStore("targetGlobal")}(e),Ab(e)),a=a.next((function(){return function(e){var t=e.store("targetGlobal"),n={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Cp.min().toTimestamp(),targetCount:0};return t.put("targetGlobalKey",n)}(u)}))),n<4&&r>=4&&(0!==n&&(a=a.next((function(){return function(e,t){return t.store("mutations").K().next((function(n){e.deleteObjectStore("mutations"),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",xg,{unique:!0});var r=t.store("mutations"),i=n.map((function(e){return r.put(e)}));return Kp.waitFor(i)}))}(e,u)}))),a=a.next((function(){!function(e){e.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)}))),n<5&&r>=5&&(a=a.next((function(){return i.Bs(u)}))),n<6&&r>=6&&(a=a.next((function(){return function(e){e.createObjectStore("remoteDocumentGlobal")}(e),i.Ls(u)}))),n<7&&r>=7&&(a=a.next((function(){return i.Us(u)}))),n<8&&r>=8&&(a=a.next((function(){return i.qs(e,u)}))),n<9&&r>=9&&(a=a.next((function(){!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e)}))),n<10&&r>=10&&(a=a.next((function(){return i.Ks(u)}))),n<11&&r>=11&&(a=a.next((function(){!function(e){e.createObjectStore("bundles",{keyPath:"bundleId"})}(e),function(e){e.createObjectStore("namedQueries",{keyPath:"name"})}(e)}))),n<12&&r>=12&&(a=a.next((function(){!function(e){var t=e.createObjectStore("documentOverlays",{keyPath:jg});t.createIndex("collectionPathOverlayIndex",Mg,{unique:!1}),t.createIndex("collectionGroupOverlayIndex",Ug,{unique:!1})}(e)}))),n<13&&r>=13&&(a=a.next((function(){return function(e){var t=e.createObjectStore("remoteDocumentsV14",{keyPath:Ig});t.createIndex("documentKeyIndex",Sg),t.createIndex("collectionGroupIndex",Tg)}(e)})).next((function(){return i.Gs(e,u)})).next((function(){return e.deleteObjectStore("remoteDocuments")}))),n<14&&r>=14&&(a=a.next((function(){return i.Qs(e,u)}))),n<15&&r>=15&&(a=a.next((function(){return function(e){e.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),e.createObjectStore("indexState",{keyPath:Pg}).createIndex("sequenceNumberIndex",Og,{unique:!1}),e.createObjectStore("indexEntries",{keyPath:Bg}).createIndex("documentKeyIndex",Lg,{unique:!1})}(e)}))),a}},{key:"Ls",value:function(e){var t=0;return e.store("remoteDocuments").J((function(e,n){t+=jk(n)})).next((function(){var n={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",n)}))}},{key:"Bs",value:function(e){var t=this,n=e.store("mutationQueues"),r=e.store("mutations");return n.K().next((function(n){return Kp.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.K("userMutationsIndex",i).next((function(r){return Kp.forEach(r,(function(r){op(r.userId===n.userId);var i=rk(t.wt,r);return Lk(e,n.userId,i).next((function(){}))}))}))}))}))}},{key:"Us",value:function(e){var t=e.store("targetDocuments"),n=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next((function(e){var r=[];return n.J((function(n,i){var u=new Sp(n),a=function(e){return[0,kg(e)]}(u);r.push(t.get(a).next((function(n){return n?Kp.resolve():function(n){return t.put({targetId:0,path:kg(n),sequenceNumber:e.highestListenSequenceNumber})}(u)})))})).next((function(){return Kp.waitFor(r)}))}))}},{key:"qs",value:function(e,t){e.createObjectStore("collectionParents",{keyPath:Rg});var n=t.store("collectionParents"),r=new Ik,i=function(e){if(r.add(e)){var t=e.lastSegment(),i=e.popLast();return n.put({collectionId:t,parent:kg(i)})}};return t.store("remoteDocuments").J({H:!0},(function(e,t){var n=new Sp(e);return i(n.popLast())})).next((function(){return t.store("documentMutations").J({H:!0},(function(e,t){var n=c(e,3),r=(n[0],n[1]),u=(n[2],Eg(r));return i(u.popLast())}))}))}},{key:"Ks",value:function(e){var t=this,n=e.store("targets");return n.J((function(e,r){var i=ik(r),u=uk(t.wt,i);return n.put(u)}))}},{key:"Gs",value:function(e,t){var n=t.store("remoteDocuments"),r=[];return n.J((function(e,n){var i,u=t.store("remoteDocumentsV14"),a=(i=n,i.document?new Np(Sp.fromString(i.document.name).popFirst(5)):i.noDocument?Np.fromSegments(i.noDocument.path):i.unknownDocument?Np.fromSegments(i.unknownDocument.path):ap()).path.toArray(),o={prefixPath:a.slice(0,a.length-2),collectionGroup:a[a.length-2],documentId:a[a.length-1],readTime:n.readTime||[0,0],unknownDocument:n.unknownDocument,noDocument:n.noDocument,document:n.document,hasCommittedMutations:!!n.hasCommittedMutations};r.push(u.put(o))})).next((function(){return Kp.waitFor(r)}))}},{key:"Qs",value:function(e,t){var n=this,r=t.store("mutations"),i=rb(this.wt),u=new bb(Eb.Ms,this.wt.ne);return r.K().next((function(e){var r=new Map;return e.forEach((function(e){var t,i=null!==(t=r.get(e.userId))&&void 0!==t?t:Ty();rk(n.wt,e).keys().forEach((function(e){return i=i.add(e)})),r.set(e.userId,i)})),Kp.forEach(r,(function(e,r){var a=new $d(r),o=dk.se(n.wt,a),s=u.getIndexManager(a),c=Mk.se(a,n.wt,s,u.referenceDelegate);return new fb(i,c,o,s).recalculateAndSaveOverlaysForDocumentKeys(new Hg(t,rv.ot),e).next()}))}))}}]),e}();function Ab(e){e.createObjectStore("targetDocuments",{keyPath:Ng}).createIndex("documentTargetsIndex",Fg,{unique:!0}),e.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",Dg,{unique:!0}),e.createObjectStore("targetGlobal")}var _b="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",Cb=function(){function e(t,n,r,i,u,a,o,s,c,l){var f=arguments.length>10&&void 0!==arguments[10]?arguments[10]:14;if(ee(this,e),this.allowTabSynchronization=t,this.persistenceKey=n,this.clientId=r,this.js=u,this.window=a,this.document=o,this.Ws=c,this.zs=l,this.Hs=f,this.Ps=null,this.vs=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Js=null,this.inForeground=!1,this.Ys=null,this.Xs=null,this.Zs=Number.NEGATIVE_INFINITY,this.ti=function(e){return Promise.resolve()},!e.V())throw new lp(cp.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Zk(this,i),this.ei=n+"main",this.wt=new $g(s),this.ni=new Wp(this.ei,this.Hs,new xb(this.wt)),this.Vs=new Kk(this.referenceDelegate,this.wt),this.remoteDocumentCache=rb(this.wt),this.Ds=new lk,this.window&&this.window.localStorage?this.si=this.window.localStorage:(this.si=null,!1===l&&rp("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return ne(e,[{key:"start",value:function(){var e=this;return this.ii().then((function(){if(!e.isPrimary&&!e.allowTabSynchronization)throw new lp(cp.FAILED_PRECONDITION,_b);return e.ri(),e.oi(),e.ui(),e.runTransaction("getHighestListenSequenceNumber","readonly",(function(t){return e.Vs.getHighestSequenceNumber(t)}))})).then((function(t){e.Ps=new rv(t,e.Ws)})).then((function(){e.vs=!0})).catch((function(t){return e.ni&&e.ni.close(),Promise.reject(t)}))}},{key:"ci",value:function(e){var t=this;return this.ti=function(){var n=He(ze().mark((function n(r){return ze().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!t.started){n.next=2;break}return n.abrupt("return",e(r));case 2:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),e(this.isPrimary)}},{key:"setDatabaseDeletedListener",value:function(e){this.ni.F(function(){var t=He(ze().mark((function t(n){return ze().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=null===n.newVersion,!t.t0){t.next=4;break}return t.next=4,e();case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}},{key:"setNetworkEnabled",value:function(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.js.enqueueAndForget(He(ze().mark((function e(){return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.started,!e.t0){e.next=4;break}return e.next=4,t.ii();case 4:case"end":return e.stop()}}),e)})))))}},{key:"ii",value:function(){var e=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(t){return Sb(t).put({clientId:e.clientId,updateTimeMs:Date.now(),networkEnabled:e.networkEnabled,inForeground:e.inForeground}).next((function(){if(e.isPrimary)return e.ai(t).next((function(t){t||(e.isPrimary=!1,e.js.enqueueRetryable((function(){return e.ti(!1)})))}))})).next((function(){return e.hi(t)})).next((function(n){return e.isPrimary&&!n?e.li(t).next((function(){return!1})):!!n&&e.fi(t).next((function(){return!0}))}))})).catch((function(t){if(Yp(t))return np("IndexedDbPersistence","Failed to extend owner lease: ",t),e.isPrimary;if(!e.allowTabSynchronization)throw t;return np("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1})).then((function(t){e.isPrimary!==t&&e.js.enqueueRetryable((function(){return e.ti(t)})),e.isPrimary=t}))}},{key:"ai",value:function(e){var t=this;return Ib(e).get("owner").next((function(e){return Kp.resolve(t.di(e))}))}},{key:"_i",value:function(e){return Sb(e).delete(this.clientId)}},{key:"wi",value:function(){var e=He(ze().mark((function e(){var t,n,r,i,u=this;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isPrimary||this.mi(this.Zs,18e5)){e.next=6;break}return this.Zs=Date.now(),e.next=4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(e){var t=Wg(e,"clientMetadata");return t.K().next((function(e){var n=u.gi(e,18e5),r=e.filter((function(e){return-1===n.indexOf(e)}));return Kp.forEach(r,(function(e){return t.delete(e.clientId)})).next((function(){return r}))}))})).catch((function(){return[]}));case 4:if(t=e.sent,this.si){n=re(t);try{for(n.s();!(r=n.n()).done;)i=r.value,this.si.removeItem(this.yi(i.clientId))}catch(a){n.e(a)}finally{n.f()}}case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"ui",value:function(){var e=this;this.Xs=this.js.enqueueAfterDelay("client_metadata_refresh",4e3,(function(){return e.ii().then((function(){return e.wi()})).then((function(){return e.ui()}))}))}},{key:"di",value:function(e){return!!e&&e.ownerId===this.clientId}},{key:"hi",value:function(e){var t=this;return this.zs?Kp.resolve(!0):Ib(e).get("owner").next((function(n){if(null!==n&&t.mi(n.leaseTimestampMs,5e3)&&!t.pi(n.ownerId)){if(t.di(n)&&t.networkEnabled)return!0;if(!t.di(n)){if(!n.allowTabSynchronization)throw new lp(cp.FAILED_PRECONDITION,_b);return!1}}return!(!t.networkEnabled||!t.inForeground)||Sb(e).K().next((function(e){return void 0===t.gi(e,5e3).find((function(e){if(t.clientId!==e.clientId){var n=!t.networkEnabled&&e.networkEnabled,r=!t.inForeground&&e.inForeground,i=t.networkEnabled===e.networkEnabled;if(n||r&&i)return!0}return!1}))}))})).next((function(e){return t.isPrimary!==e&&np("IndexedDbPersistence","Client ".concat(e?"is":"is not"," eligible for a primary lease.")),e}))}},{key:"shutdown",value:function(){var e=He(ze().mark((function e(){var t=this;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.vs=!1,this.Ii(),this.Xs&&(this.Xs.cancel(),this.Xs=null),this.Ti(),this.Ei(),e.next=7,this.ni.runTransaction("shutdown","readwrite",["owner","clientMetadata"],(function(e){var n=new Hg(e,rv.ot);return t.li(n).next((function(){return t._i(n)}))}));case 7:this.ni.close(),this.Ai();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"gi",value:function(e,t){var n=this;return e.filter((function(e){return n.mi(e.updateTimeMs,t)&&!n.pi(e.clientId)}))}},{key:"Ri",value:function(){var e=this;return this.runTransaction("getActiveClients","readonly",(function(t){return Sb(t).K().next((function(t){return e.gi(t,18e5).map((function(e){return e.clientId}))}))}))}},{key:"started",get:function(){return this.vs}},{key:"getMutationQueue",value:function(e,t){return Mk.se(e,this.wt,t,this.referenceDelegate)}},{key:"getTargetCache",value:function(){return this.Vs}},{key:"getRemoteDocumentCache",value:function(){return this.remoteDocumentCache}},{key:"getIndexManager",value:function(e){return new Tk(e,this.wt.ne.databaseId)}},{key:"getDocumentOverlayCache",value:function(e){return dk.se(this.wt,e)}},{key:"getBundleCache",value:function(){return this.Ds}},{key:"runTransaction",value:function(e,t,n){var r=this;np("IndexedDbPersistence","Starting transaction:",e);var i,u,a="readonly"===t?"readonly":"readwrite",o=15===(i=this.Hs)?Kg:14===i?Gg:13===i?qg:12===i?zg:11===i?Vg:void ap();return this.ni.runTransaction(e,a,o,(function(i){return u=new Hg(i,r.Ps?r.Ps.next():rv.ot),"readwrite-primary"===t?r.ai(u).next((function(e){return!!e||r.hi(u)})).next((function(t){if(!t)throw rp("Failed to obtain primary lease for action '".concat(e,"'.")),r.isPrimary=!1,r.js.enqueueRetryable((function(){return r.ti(!1)})),new lp(cp.FAILED_PRECONDITION,Vp);return n(u)})).next((function(e){return r.fi(u).next((function(){return e}))})):r.bi(u).next((function(){return n(u)}))})).then((function(e){return u.raiseOnCommittedEvent(),e}))}},{key:"bi",value:function(e){var t=this;return Ib(e).get("owner").next((function(e){if(null!==e&&t.mi(e.leaseTimestampMs,5e3)&&!t.pi(e.ownerId)&&!t.di(e)&&!(t.zs||t.allowTabSynchronization&&e.allowTabSynchronization))throw new lp(cp.FAILED_PRECONDITION,_b)}))}},{key:"fi",value:function(e){var t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Ib(e).put("owner",t)}},{key:"li",value:function(e){var t=this,n=Ib(e);return n.get("owner").next((function(e){return t.di(e)?(np("IndexedDbPersistence","Releasing primary lease."),n.delete("owner")):Kp.resolve()}))}},{key:"mi",value:function(e,t){var n=Date.now();return!(e<n-t)&&(!(e>n)||(rp("Detected an update time that is in the future: ".concat(e," > ").concat(n)),!1))}},{key:"ri",value:function(){var e=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Ys=function(){e.js.enqueueAndForget((function(){return e.inForeground="visible"===e.document.visibilityState,e.ii()}))},this.document.addEventListener("visibilitychange",this.Ys),this.inForeground="visible"===this.document.visibilityState)}},{key:"Ti",value:function(){this.Ys&&(this.document.removeEventListener("visibilitychange",this.Ys),this.Ys=null)}},{key:"oi",value:function(){var e,t=this;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Js=function(){t.Ii(),!xe()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")&&navigator.appVersion.match(/Version\/1[45]/)&&t.js.enterRestrictedMode(!0),t.js.enqueueAndForget((function(){return t.shutdown()}))},this.window.addEventListener("pagehide",this.Js))}},{key:"Ei",value:function(){this.Js&&(this.window.removeEventListener("pagehide",this.Js),this.Js=null)}},{key:"pi",value:function(e){var t;try{var n=null!==(null===(t=this.si)||void 0===t?void 0:t.getItem(this.yi(e)));return np("IndexedDbPersistence","Client '".concat(e,"' ").concat(n?"is":"is not"," zombied in LocalStorage")),n}catch(e){return rp("IndexedDbPersistence","Failed to get zombied client id.",e),!1}}},{key:"Ii",value:function(){if(this.si)try{this.si.setItem(this.yi(this.clientId),String(Date.now()))}catch(Xc){rp("Failed to set zombie client id.",Xc)}}},{key:"Ai",value:function(){if(this.si)try{this.si.removeItem(this.yi(this.clientId))}catch(Xc){}}},{key:"yi",value:function(e){return"firestore_zombie_".concat(this.persistenceKey,"_").concat(e)}}],[{key:"V",value:function(){return Wp.V()}}]),e}();function Ib(e){return Wg(e,"owner")}function Sb(e){return Wg(e,"clientMetadata")}function Tb(e,t){var n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}var Db=function(){function e(t,n,r,i){ee(this,e),this.targetId=t,this.fromCache=n,this.Pi=r,this.vi=i}return ne(e,null,[{key:"Vi",value:function(t,n){var r,i=Ty(),u=Ty(),a=re(n.docChanges);try{for(a.s();!(r=a.n()).done;){var o=r.value;switch(o.type){case 0:i=i.add(o.doc.key);break;case 1:u=u.add(o.doc.key)}}}catch(s){a.e(s)}finally{a.f()}return new e(t,n.fromCache,i,u)}}]),e}(),Nb=function(){function e(){ee(this,e),this.Si=!1}return ne(e,[{key:"initialize",value:function(e,t){this.Di=e,this.indexManager=t,this.Si=!0}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){var i=this;return this.Ci(e,t).next((function(u){return u||i.xi(e,t,r,n)})).next((function(n){return n||i.Ni(e,t)}))}},{key:"Ci",value:function(e,t){return Kp.resolve(null)}},{key:"xi",value:function(e,t,n,r){var i=this;return function(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}(t)||r.isEqual(Cp.min())?this.Ni(e,t):this.Di.getDocuments(e,n).next((function(u){var a=i.ki(t,u);return i.Oi(t,a,n,r)?i.Ni(e,t):(tp()<=Xe.DEBUG&&np("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Dm(t)),i.Mi(e,a,t,Lp(r,-1)))}))}},{key:"ki",value:function(e,t){var n=new lv(Rm(e));return t.forEach((function(t,r){Nm(e,r)&&(n=n.add(r))})),n}},{key:"Oi",value:function(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;var i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}},{key:"Ni",value:function(e,t){return tp()<=Xe.DEBUG&&np("QueryEngine","Using full collection scan to execute query:",Dm(t)),this.Di.getDocumentsMatchingQuery(e,t,Mp.min())}},{key:"Mi",value:function(e,t,n,r){return this.Di.getDocumentsMatchingQuery(e,n,r).next((function(e){return t.forEach((function(t){e=e.insert(t.key,t)})),e}))}}]),e}(),Fb=function(){function e(t,n,r,i){ee(this,e),this.persistence=t,this.Fi=n,this.wt=i,this.$i=new ov(Ep),this.Bi=new gy((function(e){return Zv(e)}),em),this.Li=new Map,this.Ui=t.getRemoteDocumentCache(),this.Vs=t.getTargetCache(),this.Ds=t.getBundleCache(),this.qi(r)}return ne(e,[{key:"qi",value:function(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new fb(this.Ui,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ui.setIndexManager(this.indexManager),this.Fi.initialize(this.localDocuments,this.indexManager)}},{key:"collectGarbage",value:function(e){var t=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return e.collect(n,t.$i)}))}}]),e}();function Rb(e,t,n,r){return new Fb(e,t,n,r)}function Pb(e,t){return Ob.apply(this,arguments)}function Ob(){return Ob=He(ze().mark((function e(t,n){var r;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=sp(t),e.next=3,r.persistence.runTransaction("Handle user change","readonly",(function(e){var t;return r.mutationQueue.getAllMutationBatches(e).next((function(i){return t=i,r.qi(n),r.mutationQueue.getAllMutationBatches(e)})).next((function(n){var i,u=[],a=[],o=Ty(),s=re(t);try{for(s.s();!(i=s.n()).done;){var c=i.value;u.push(c.batchId);var l,f=re(c.mutations);try{for(f.s();!(l=f.n()).done;){var h=l.value;o=o.add(h.key)}}catch(k){f.e(k)}finally{f.f()}}}catch(k){s.e(k)}finally{s.f()}var d,p=re(n);try{for(p.s();!(d=p.n()).done;){var v=d.value;a.push(v.batchId);var m,y=re(v.mutations);try{for(y.s();!(m=y.n()).done;){var g=m.value;o=o.add(g.key)}}catch(k){y.e(k)}finally{y.f()}}}catch(k){p.e(k)}finally{p.f()}return r.localDocuments.getDocuments(e,o).next((function(e){return{Ki:e,removedBatchIds:u,addedBatchIds:a}}))}))}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)}))),Ob.apply(this,arguments)}function Bb(e,t){var n=sp(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(e){var r=t.batch.keys(),i=n.Ui.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){var i=n.batch,u=i.keys(),a=Kp.resolve();return u.forEach((function(e){a=a.next((function(){return r.getEntry(t,e)})).next((function(t){var u=n.docVersions.get(e);op(null!==u),t.version.compareTo(u)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),a.next((function(){return e.mutationQueue.removeMutationBatch(t,i)}))}(n,e,t,i).next((function(){return i.apply(e)})).next((function(){return n.mutationQueue.performConsistencyCheck(e)})).next((function(){return n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId)})).next((function(){return n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){for(var t=Ty(),n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t))})).next((function(){return n.localDocuments.getDocuments(e,r)}))}))}function Lb(e){var t=sp(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(function(e){return t.Vs.getLastRemoteSnapshotVersion(e)}))}function jb(e,t){var n=sp(e),r=t.snapshotVersion,i=n.$i;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(e){var u=n.Ui.newChangeBuffer({trackRemovals:!0});i=n.$i;var a=[];t.targetChanges.forEach((function(u,o){var s=i.get(o);if(s){a.push(n.Vs.removeMatchingKeys(e,u.removedDocuments,o).next((function(){return n.Vs.addMatchingKeys(e,u.addedDocuments,o)})));var c=s.withSequenceNumber(e.currentSequenceNumber);t.targetMismatches.has(o)?c=c.withResumeToken(pv.EMPTY_BYTE_STRING,Cp.min()).withLastLimboFreeSnapshotVersion(Cp.min()):u.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(u.resumeToken,r)),i=i.insert(o,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(s,c,u)&&a.push(n.Vs.updateTargetData(e,c))}}));var o=by(),s=Ty();if(t.documentUpdates.forEach((function(r){t.resolvedLimboDocuments.has(r)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),a.push(Mb(e,u,t.documentUpdates).next((function(e){o=e.Gi,s=e.Qi}))),!r.isEqual(Cp.min())){var c=n.Vs.getLastRemoteSnapshotVersion(e).next((function(t){return n.Vs.setTargetsMetadata(e,e.currentSequenceNumber,r)}));a.push(c)}return Kp.waitFor(a).next((function(){return u.apply(e)})).next((function(){return n.localDocuments.getLocalViewOfDocuments(e,o,s)})).next((function(){return o}))})).then((function(e){return n.$i=i,e}))}function Mb(e,t,n){var r=Ty(),i=Ty();return n.forEach((function(e){return r=r.add(e)})),t.getEntries(e,r).next((function(e){var r=by();return n.forEach((function(n,u){var a=e.get(n);u.isFoundDocument()!==a.isFoundDocument()&&(i=i.add(n)),u.isNoDocument()&&u.version.isEqual(Cp.min())?(t.removeEntry(n,u.readTime),r=r.insert(n,u)):!a.isValidDocument()||u.version.compareTo(a.version)>0||0===u.version.compareTo(a.version)&&a.hasPendingWrites?(t.addEntry(u),r=r.insert(n,u)):np("LocalStore","Ignoring outdated watch update for ",n,". Current version:",a.version," Watch version:",u.version)})),{Gi:r,Qi:i}}))}function Ub(e,t){var n=sp(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(e){return void 0===t&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t)}))}function Vb(e,t){var n=sp(e);return n.persistence.runTransaction("Allocate target","readwrite",(function(e){var r;return n.Vs.getTargetData(e,t).next((function(i){return i?(r=i,Kp.resolve(r)):n.Vs.allocateTargetId(e).next((function(i){return r=new Xg(t,i,0,e.currentSequenceNumber),n.Vs.addTargetData(e,r).next((function(){return r}))}))}))})).then((function(e){var r=n.$i.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.$i=n.$i.insert(e.targetId,e),n.Bi.set(t,e.targetId)),e}))}function zb(e,t,n){return qb.apply(this,arguments)}function qb(){return qb=He(ze().mark((function e(t,n,r){var i,u,a;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=sp(t),u=i.$i.get(n),a=r?"readwrite":"readwrite-primary",e.prev=1,e.t0=r,e.t0){e.next=6;break}return e.next=6,i.persistence.runTransaction("Release target",a,(function(e){return i.persistence.referenceDelegate.removeTarget(e,u)}));case 6:e.next=13;break;case 8:if(e.prev=8,e.t1=e.catch(1),Yp(e.t1)){e.next=12;break}throw e.t1;case 12:np("LocalStore","Failed to update sequence numbers for target ".concat(n,": ").concat(e.t1));case 13:i.$i=i.$i.remove(n),i.Bi.delete(u.target);case 14:case"end":return e.stop()}}),e,null,[[1,8]])}))),qb.apply(this,arguments)}function Gb(e,t,n){var r=sp(e),i=Cp.min(),u=Ty();return r.persistence.runTransaction("Execute query","readonly",(function(e){return function(e,t,n){var r=sp(e),i=r.Bi.get(n);return void 0!==i?Kp.resolve(r.$i.get(i)):r.Vs.getTargetData(t,n)}(r,e,Cm(t)).next((function(t){if(t)return i=t.lastLimboFreeSnapshotVersion,r.Vs.getMatchingKeysForTargetId(e,t.targetId).next((function(e){u=e}))})).next((function(){return r.Fi.getDocumentsMatchingQuery(e,t,n?i:Cp.min(),n?u:Ty())})).next((function(e){return Wb(r,Fm(t),e),{documents:e,ji:u}}))}))}function Kb(e,t){var n=sp(e),r=sp(n.Vs),i=n.$i.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(function(e){return r.te(e,t).next((function(e){return e?e.target:null}))}))}function Hb(e,t){var n=sp(e),r=n.Li.get(t)||Cp.min();return n.persistence.runTransaction("Get new document changes","readonly",(function(e){return n.Ui.getAllFromCollectionGroup(e,t,Lp(r,-1),Number.MAX_SAFE_INTEGER)})).then((function(e){return Wb(n,t,e),e}))}function Wb(e,t,n){var r=Cp.min();n.forEach((function(e,t){t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.Li.set(t,r)}function Qb(e,t,n,r){return Jb.apply(this,arguments)}function Jb(){return Jb=He(ze().mark((function e(t,n,r,i){var u,a,o,s,c,l,f,h,d,p;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:u=sp(t),a=Ty(),o=by(),s=re(r);try{for(s.s();!(c=s.n()).done;)l=c.value,f=n.Wi(l.metadata.name),l.document&&(a=a.add(f)),(h=n.zi(l)).setReadTime(n.Hi(l.metadata.readTime)),o=o.insert(f,h)}catch(v){s.e(v)}finally{s.f()}return d=u.Ui.newChangeBuffer({trackRemovals:!0}),e.next=7,Vb(u,function(e){return Cm(wm(Sp.fromString("__bundle__/docs/".concat(e))))}(i));case 7:return p=e.sent,e.abrupt("return",u.persistence.runTransaction("Apply bundle documents","readwrite",(function(e){return Mb(e,d,o).next((function(t){return d.apply(e),t})).next((function(t){return u.Vs.removeMatchingKeysForTargetId(e,p.targetId).next((function(){return u.Vs.addMatchingKeys(e,a,p.targetId)})).next((function(){return u.localDocuments.getLocalViewOfDocuments(e,t.Gi,t.Qi)})).next((function(){return t.Gi}))}))})));case 9:case"end":return e.stop()}}),e)}))),Jb.apply(this,arguments)}function Yb(e,t){return Xb.apply(this,arguments)}function Xb(){return Xb=He(ze().mark((function e(t,n){var r,i,u,a=arguments;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>2&&void 0!==a[2]?a[2]:Ty(),e.next=3,Vb(t,Cm(ak(n.bundledQuery)));case 3:return i=e.sent,u=sp(t),e.abrupt("return",u.persistence.runTransaction("Save named query","readwrite",(function(e){var t=Wy(n.readTime);if(i.snapshotVersion.compareTo(t)>=0)return u.Ds.saveNamedQuery(e,n);var a=i.withResumeToken(pv.EMPTY_BYTE_STRING,t);return u.$i=u.$i.insert(a.targetId,a),u.Vs.updateTargetData(e,a).next((function(){return u.Vs.removeMatchingKeysForTargetId(e,i.targetId)})).next((function(){return u.Vs.addMatchingKeys(e,r,i.targetId)})).next((function(){return u.Ds.saveNamedQuery(e,n)}))})));case 6:case"end":return e.stop()}}),e)}))),Xb.apply(this,arguments)}function $b(e,t){return"firestore_clients_".concat(e,"_").concat(t)}function Zb(e,t,n){var r="firestore_mutations_".concat(e,"_").concat(n);return t.isAuthenticated()&&(r+="_".concat(t.uid)),r}function ew(e,t){return"firestore_targets_".concat(e,"_").concat(t)}var tw=function(){function e(t,n,r,i){ee(this,e),this.user=t,this.batchId=n,this.state=r,this.error=i}return ne(e,[{key:"Yi",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"Ji",value:function(t,n,r){var i,u=JSON.parse(r),a="object"==typeof u&&-1!==["pending","acknowledged","rejected"].indexOf(u.state)&&(void 0===u.error||"object"==typeof u.error);return a&&u.error&&((a="string"==typeof u.error.message&&"string"==typeof u.error.code)&&(i=new lp(u.error.code,u.error.message))),a?new e(t,n,u.state,i):(rp("SharedClientState","Failed to parse mutation state for ID '".concat(n,"': ").concat(r)),null)}}]),e}(),nw=function(){function e(t,n,r){ee(this,e),this.targetId=t,this.state=n,this.error=r}return ne(e,[{key:"Yi",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"Ji",value:function(t,n){var r,i=JSON.parse(n),u="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return u&&i.error&&((u="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new lp(i.error.code,i.error.message))),u?new e(t,i.state,r):(rp("SharedClientState","Failed to parse target state for ID '".concat(t,"': ").concat(n)),null)}}]),e}(),rw=function(){function e(t,n){ee(this,e),this.clientId=t,this.activeTargetIds=n}return ne(e,null,[{key:"Ji",value:function(t,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,u=Ny(),a=0;i&&a<r.activeTargetIds.length;++a)i=Cv(r.activeTargetIds[a]),u=u.add(r.activeTargetIds[a]);return i?new e(t,u):(rp("SharedClientState","Failed to parse client data for instance '".concat(t,"': ").concat(n)),null)}}]),e}(),iw=function(){function e(t,n){ee(this,e),this.clientId=t,this.onlineState=n}return ne(e,null,[{key:"Ji",value:function(t){var n=JSON.parse(t);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new e(n.clientId,n.onlineState):(rp("SharedClientState","Failed to parse online state: ".concat(t)),null)}}]),e}(),uw=function(){function e(){ee(this,e),this.activeTargetIds=Ny()}return ne(e,[{key:"Xi",value:function(e){this.activeTargetIds=this.activeTargetIds.add(e)}},{key:"Zi",value:function(e){this.activeTargetIds=this.activeTargetIds.delete(e)}},{key:"Yi",value:function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}]),e}(),aw=function(){function e(t,n,r,i,u){ee(this,e),this.window=t,this.js=n,this.persistenceKey=r,this.tr=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.er=this.nr.bind(this),this.sr=new ov(Ep),this.started=!1,this.ir=[];var a=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=u,this.rr=$b(this.persistenceKey,this.tr),this.ur=function(e){return"firestore_sequence_number_".concat(e)}(this.persistenceKey),this.sr=this.sr.insert(this.tr,new uw),this.cr=new RegExp("^firestore_clients_".concat(a,"_([^_]*)$")),this.ar=new RegExp("^firestore_mutations_".concat(a,"_(\\d+)(?:_(.*))?$")),this.hr=new RegExp("^firestore_targets_".concat(a,"_(\\d+)$")),this.lr=function(e){return"firestore_online_state_".concat(e)}(this.persistenceKey),this.dr=function(e){return"firestore_bundle_loaded_v2_".concat(e)}(this.persistenceKey),this.window.addEventListener("storage",this.er)}return ne(e,[{key:"start",value:function(){var e=He(ze().mark((function e(){var t,n,r,i,u,a,o,s,c,l,f,h=this;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.syncEngine.Ri();case 2:t=e.sent,n=re(t),e.prev=4,n.s();case 6:if((r=n.n()).done){e.next=14;break}if((i=r.value)!==this.tr){e.next=10;break}return e.abrupt("continue",12);case 10:(u=this.getItem($b(this.persistenceKey,i)))&&(a=rw.Ji(i,u))&&(this.sr=this.sr.insert(a.clientId,a));case 12:e.next=6;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(4),n.e(e.t0);case 19:return e.prev=19,n.f(),e.finish(19);case 22:this._r(),(o=this.storage.getItem(this.lr))&&(s=this.wr(o))&&this.mr(s),c=re(this.ir);try{for(c.s();!(l=c.n()).done;)f=l.value,this.nr(f)}catch(d){c.e(d)}finally{c.f()}this.ir=[],this.window.addEventListener("pagehide",(function(){return h.shutdown()})),this.started=!0;case 28:case"end":return e.stop()}}),e,this,[[4,16,19,22]])})));return function(){return e.apply(this,arguments)}}()},{key:"writeSequenceNumber",value:function(e){this.setItem(this.ur,JSON.stringify(e))}},{key:"getAllActiveQueryTargets",value:function(){return this.gr(this.sr)}},{key:"isActiveQueryTarget",value:function(e){var t=!1;return this.sr.forEach((function(n,r){r.activeTargetIds.has(e)&&(t=!0)})),t}},{key:"addPendingMutation",value:function(e){this.yr(e,"pending")}},{key:"updateMutationState",value:function(e,t,n){this.yr(e,t,n),this.pr(e)}},{key:"addLocalQueryTarget",value:function(e){var t="not-current";if(this.isActiveQueryTarget(e)){var n=this.storage.getItem(ew(this.persistenceKey,e));if(n){var r=nw.Ji(e,n);r&&(t=r.state)}}return this.Ir.Xi(e),this._r(),t}},{key:"removeLocalQueryTarget",value:function(e){this.Ir.Zi(e),this._r()}},{key:"isLocalQueryTarget",value:function(e){return this.Ir.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){this.removeItem(ew(this.persistenceKey,e))}},{key:"updateQueryState",value:function(e,t,n){this.Tr(e,t,n)}},{key:"handleUserChange",value:function(e,t,n){var r=this;t.forEach((function(e){r.pr(e)})),this.currentUser=e,n.forEach((function(e){r.addPendingMutation(e)}))}},{key:"setOnlineState",value:function(e){this.Er(e)}},{key:"notifyBundleLoaded",value:function(e){this.Ar(e)}},{key:"shutdown",value:function(){this.started&&(this.window.removeEventListener("storage",this.er),this.removeItem(this.rr),this.started=!1)}},{key:"getItem",value:function(e){var t=this.storage.getItem(e);return np("SharedClientState","READ",e,t),t}},{key:"setItem",value:function(e,t){np("SharedClientState","SET",e,t),this.storage.setItem(e,t)}},{key:"removeItem",value:function(e){np("SharedClientState","REMOVE",e),this.storage.removeItem(e)}},{key:"nr",value:function(e){var t=this,n=e;if(n.storageArea===this.storage){if(np("SharedClientState","EVENT",n.key,n.newValue),n.key===this.rr)return void rp("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.js.enqueueRetryable(He(ze().mark((function e(){var r,i,u,a,o,s,c;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.started){e.next=43;break}if(null===n.key){e.next=41;break}if(!t.cr.test(n.key)){e.next=11;break}if(null!=n.newValue){e.next=6;break}return r=t.Rr(n.key),e.abrupt("return",t.br(r,null));case 6:if(!(i=t.Pr(n.key,n.newValue))){e.next=9;break}return e.abrupt("return",t.br(i.clientId,i));case 9:e.next=41;break;case 11:if(!t.ar.test(n.key)){e.next=18;break}if(null===n.newValue){e.next=16;break}if(!(u=t.vr(n.key,n.newValue))){e.next=16;break}return e.abrupt("return",t.Vr(u));case 16:e.next=41;break;case 18:if(!t.hr.test(n.key)){e.next=25;break}if(null===n.newValue){e.next=23;break}if(!(a=t.Sr(n.key,n.newValue))){e.next=23;break}return e.abrupt("return",t.Dr(a));case 23:e.next=41;break;case 25:if(n.key!==t.lr){e.next=32;break}if(null===n.newValue){e.next=30;break}if(!(o=t.wr(n.newValue))){e.next=30;break}return e.abrupt("return",t.mr(o));case 30:e.next=41;break;case 32:if(n.key!==t.ur){e.next=37;break}s=function(e){var t=rv.ot;if(null!=e)try{var n=JSON.parse(e);op("number"==typeof n),t=n}catch(e){rp("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(n.newValue),s!==rv.ot&&t.sequenceNumberHandler(s),e.next=41;break;case 37:if(n.key!==t.dr){e.next=41;break}return c=t.Cr(n.newValue),e.next=41,Promise.all(c.map((function(e){return t.syncEngine.Nr(e)})));case 41:e.next=44;break;case 43:t.ir.push(n);case 44:case"end":return e.stop()}}),e)}))))}}},{key:"Ir",get:function(){return this.sr.get(this.tr)}},{key:"_r",value:function(){this.setItem(this.rr,this.Ir.Yi())}},{key:"yr",value:function(e,t,n){var r=new tw(this.currentUser,e,t,n),i=Zb(this.persistenceKey,this.currentUser,e);this.setItem(i,r.Yi())}},{key:"pr",value:function(e){var t=Zb(this.persistenceKey,this.currentUser,e);this.removeItem(t)}},{key:"Er",value:function(e){var t={clientId:this.tr,onlineState:e};this.storage.setItem(this.lr,JSON.stringify(t))}},{key:"Tr",value:function(e,t,n){var r=ew(this.persistenceKey,e),i=new nw(e,t,n);this.setItem(r,i.Yi())}},{key:"Ar",value:function(e){var t=JSON.stringify(Array.from(e));this.setItem(this.dr,t)}},{key:"Rr",value:function(e){var t=this.cr.exec(e);return t?t[1]:null}},{key:"Pr",value:function(e,t){var n=this.Rr(e);return rw.Ji(n,t)}},{key:"vr",value:function(e,t){var n=this.ar.exec(e),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return tw.Ji(new $d(i),r,t)}},{key:"Sr",value:function(e,t){var n=this.hr.exec(e),r=Number(n[1]);return nw.Ji(r,t)}},{key:"wr",value:function(e){return iw.Ji(e)}},{key:"Cr",value:function(e){return JSON.parse(e)}},{key:"Vr",value:function(){var e=He(ze().mark((function e(t){return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.user.uid!==this.currentUser.uid){e.next=2;break}return e.abrupt("return",this.syncEngine.kr(t.batchId,t.state,t.error));case 2:np("SharedClientState","Ignoring mutation for non-active user ".concat(t.user.uid));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Dr",value:function(e){return this.syncEngine.Or(e.targetId,e.state,e.error)}},{key:"br",value:function(e,t){var n=this,r=t?this.sr.insert(e,t):this.sr.remove(e),i=this.gr(this.sr),u=this.gr(r),a=[],o=[];return u.forEach((function(e){i.has(e)||a.push(e)})),i.forEach((function(e){u.has(e)||o.push(e)})),this.syncEngine.Mr(a,o).then((function(){n.sr=r}))}},{key:"mr",value:function(e){this.sr.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}},{key:"gr",value:function(e){var t=Ny();return e.forEach((function(e,n){t=t.unionWith(n.activeTargetIds)})),t}}],[{key:"V",value:function(e){return!(!e||!e.localStorage)}}]),e}(),ow=function(){function e(){ee(this,e),this.Fr=new uw,this.$r={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return ne(e,[{key:"addPendingMutation",value:function(e){}},{key:"updateMutationState",value:function(e,t,n){}},{key:"addLocalQueryTarget",value:function(e){return this.Fr.Xi(e),this.$r[e]||"not-current"}},{key:"updateQueryState",value:function(e,t,n){this.$r[e]=t}},{key:"removeLocalQueryTarget",value:function(e){this.Fr.Zi(e)}},{key:"isLocalQueryTarget",value:function(e){return this.Fr.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){delete this.$r[e]}},{key:"getAllActiveQueryTargets",value:function(){return this.Fr.activeTargetIds}},{key:"isActiveQueryTarget",value:function(e){return this.Fr.activeTargetIds.has(e)}},{key:"start",value:function(){return this.Fr=new uw,Promise.resolve()}},{key:"handleUserChange",value:function(e,t,n){}},{key:"setOnlineState",value:function(e){}},{key:"shutdown",value:function(){}},{key:"writeSequenceNumber",value:function(e){}},{key:"notifyBundleLoaded",value:function(e){}}]),e}(),sw=function(){function e(){ee(this,e)}return ne(e,[{key:"Br",value:function(e){}},{key:"shutdown",value:function(){}}]),e}(),cw=function(){function e(){var t=this;ee(this,e),this.Lr=function(){return t.Ur()},this.qr=function(){return t.Kr()},this.Gr=[],this.Qr()}return ne(e,[{key:"Br",value:function(e){this.Gr.push(e)}},{key:"shutdown",value:function(){window.removeEventListener("online",this.Lr),window.removeEventListener("offline",this.qr)}},{key:"Qr",value:function(){window.addEventListener("online",this.Lr),window.addEventListener("offline",this.qr)}},{key:"Ur",value:function(){np("ConnectivityMonitor","Network connectivity changed: AVAILABLE");var e,t=re(this.Gr);try{for(t.s();!(e=t.n()).done;){(0,e.value)(0)}}catch(n){t.e(n)}finally{t.f()}}},{key:"Kr",value:function(){np("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");var e,t=re(this.Gr);try{for(t.s();!(e=t.n()).done;){(0,e.value)(1)}}catch(n){t.e(n)}finally{t.f()}}}],[{key:"V",value:function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}]),e}(),lw={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},fw=function(){function e(t){ee(this,e),this.jr=t.jr,this.Wr=t.Wr}return ne(e,[{key:"zr",value:function(e){this.Hr=e}},{key:"Jr",value:function(e){this.Yr=e}},{key:"onMessage",value:function(e){this.Xr=e}},{key:"close",value:function(){this.Wr()}},{key:"send",value:function(e){this.jr(e)}},{key:"Zr",value:function(){this.Hr()}},{key:"eo",value:function(e){this.Yr(e)}},{key:"no",value:function(e){this.Xr(e)}}]),e}(),hw=function(e){ae(n,e);var t=fe(n);function n(e){var r;return ee(this,n),(r=t.call(this,e)).forceLongPolling=e.forceLongPolling,r.autoDetectLongPolling=e.autoDetectLongPolling,r.useFetchStreams=e.useFetchStreams,r}return ne(n,[{key:"co",value:function(e,t,n,r){return new Promise((function(i,u){var a=new Yd;a.listenOnce(Kd.COMPLETE,(function(){try{switch(a.getLastErrorCode()){case Gd.NO_ERROR:var t=a.getResponseJson();np("Connection","XHR received:",JSON.stringify(t)),i(t);break;case Gd.TIMEOUT:np("Connection",'RPC "'+e+'" timed out'),u(new lp(cp.DEADLINE_EXCEEDED,"Request time out"));break;case Gd.HTTP_ERROR:var n=a.getStatus();if(np("Connection",'RPC "'+e+'" failed with status:',n,"response text:",a.getResponseText()),n>0){var r=a.getResponseJson().error;if(r&&r.status&&r.message){var o=function(e){var t=e.toLowerCase().replace(/_/g,"-");return Object.values(cp).indexOf(t)>=0?t:cp.UNKNOWN}(r.status);u(new lp(o,r.message))}else u(new lp(cp.UNKNOWN,"Server responded with status "+a.getStatus()))}else u(new lp(cp.UNAVAILABLE,"Connection failed."));break;default:ap()}}finally{np("Connection",'RPC "'+e+'" completed.')}}));var o=JSON.stringify(r);a.send(t,"POST",o,n,15)}))}},{key:"ho",value:function(e,t,n){var r=[this.so,"/","google.firestore.v1.Firestore","/",e,"/channel"],i=zd(),u=qd(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(a.xmlHttpFactory=new Qd({})),this.uo(a.initMessageHeaders,t,n),Ee()||_e()||we().indexOf("Electron/")>=0||Ce()||we().indexOf("MSAppHost/")>=0||Ae()||(a.httpHeadersOverwriteParam="$httpHeaders");var o=r.join("");np("Connection","Creating WebChannel: "+o,a);var s=i.createWebChannel(o,a),c=!1,l=!1,f=new fw({jr:function(e){l?np("Connection","Not sending because WebChannel is closed:",e):(c||(np("Connection","Opening WebChannel transport."),s.open(),c=!0),np("Connection","WebChannel sending:",e),s.send(e))},Wr:function(){return s.close()}}),h=function(e,t,n){e.listen(t,(function(e){try{n(e)}catch(e){setTimeout((function(){throw e}),0)}}))};return h(s,Jd.EventType.OPEN,(function(){l||np("Connection","WebChannel transport opened.")})),h(s,Jd.EventType.CLOSE,(function(){l||(l=!0,np("Connection","WebChannel transport closed"),f.eo())})),h(s,Jd.EventType.ERROR,(function(e){l||(l=!0,ip("Connection","WebChannel transport errored:",e),f.eo(new lp(cp.UNAVAILABLE,"The operation could not be completed")))})),h(s,Jd.EventType.MESSAGE,(function(e){var t;if(!l){var n=e.data[0];op(!!n);var r=n,i=r.error||(null===(t=r[0])||void 0===t?void 0:t.error);if(i){np("Connection","WebChannel received error:",i);var u=i.status,a=function(e){var t=fy[e];if(void 0!==t)return yy(t)}(u),o=i.message;void 0===a&&(a=cp.INTERNAL,o="Unknown error status: "+u+" with message "+i.message),l=!0,f.eo(new lp(a,o)),s.close()}else np("Connection","WebChannel received:",n),f.no(n)}})),h(u,Hd.STAT_EVENT,(function(e){e.stat===Wd.PROXY?np("Connection","Detected buffering proxy"):e.stat===Wd.NOPROXY&&np("Connection","Detected no buffering proxy")})),setTimeout((function(){f.Zr()}),0),f}}]),n}(function(){function e(t){ee(this,e),this.databaseInfo=t,this.databaseId=t.databaseId;var n=t.ssl?"https":"http";this.so=n+"://"+t.host,this.io="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return ne(e,[{key:"ro",value:function(e,t,n,r,i){var u=this.oo(e,t);np("RestConnection","Sending: ",u,n);var a={};return this.uo(a,r,i),this.co(e,u,a,n).then((function(e){return np("RestConnection","Received: ",e),e}),(function(t){throw ip("RestConnection","".concat(e," failed with error: "),t,"url: ",u,"request:",n),t}))}},{key:"ao",value:function(e,t,n,r,i,u){return this.ro(e,t,n,r,i)}},{key:"uo",value:function(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+Zd,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((function(t,n){return e[n]=t})),n&&n.headers.forEach((function(t,n){return e[n]=t}))}},{key:"oo",value:function(e,t){var n=lw[e];return"".concat(this.so,"/v1/").concat(t,":").concat(n)}}]),e}());function dw(){return"undefined"!=typeof window?window:null}function pw(){return"undefined"!=typeof document?document:null}function vw(e){return new qy(e,!0)}var mw=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,u=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;ee(this,e),this.js=t,this.timerId=n,this.lo=r,this.fo=i,this._o=u,this.wo=0,this.mo=null,this.yo=Date.now(),this.reset()}return ne(e,[{key:"reset",value:function(){this.wo=0}},{key:"po",value:function(){this.wo=this._o}},{key:"Io",value:function(e){var t=this;this.cancel();var n=Math.floor(this.wo+this.To()),r=Math.max(0,Date.now()-this.yo),i=Math.max(0,n-r);i>0&&np("ExponentialBackoff","Backing off for ".concat(i," ms (base delay: ").concat(this.wo," ms, delay with jitter: ").concat(n," ms, last attempt: ").concat(r," ms ago)")),this.mo=this.js.enqueueAfterDelay(this.timerId,i,(function(){return t.yo=Date.now(),e()})),this.wo*=this.fo,this.wo<this.lo&&(this.wo=this.lo),this.wo>this._o&&(this.wo=this._o)}},{key:"Eo",value:function(){null!==this.mo&&(this.mo.skipDelay(),this.mo=null)}},{key:"cancel",value:function(){null!==this.mo&&(this.mo.cancel(),this.mo=null)}},{key:"To",value:function(){return(Math.random()-.5)*this.wo}}]),e}(),yw=function(){function e(t,n,r,i,u,a,o,s){ee(this,e),this.js=t,this.Ao=r,this.Ro=i,this.bo=u,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=o,this.listener=s,this.state=0,this.Po=0,this.vo=null,this.Vo=null,this.stream=null,this.So=new mw(t,n)}return ne(e,[{key:"Do",value:function(){return 1===this.state||5===this.state||this.Co()}},{key:"Co",value:function(){return 2===this.state||3===this.state}},{key:"start",value:function(){4!==this.state?this.auth():this.xo()}},{key:"stop",value:function(){var e=He(ze().mark((function e(){return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.Do(),!e.t0){e.next=4;break}return e.next=4,this.close(0);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"No",value:function(){this.state=0,this.So.reset()}},{key:"ko",value:function(){var e=this;this.Co()&&null===this.vo&&(this.vo=this.js.enqueueAfterDelay(this.Ao,6e4,(function(){return e.Oo()})))}},{key:"Mo",value:function(e){this.Fo(),this.stream.send(e)}},{key:"Oo",value:function(){var e=He(ze().mark((function e(){return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.Co()){e.next=2;break}return e.abrupt("return",this.close(0));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Fo",value:function(){this.vo&&(this.vo.cancel(),this.vo=null)}},{key:"$o",value:function(){this.Vo&&(this.Vo.cancel(),this.Vo=null)}},{key:"close",value:function(){var e=He(ze().mark((function e(t,n){return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.Fo(),this.$o(),this.So.cancel(),this.Po++,4!==t?this.So.reset():n&&n.code===cp.RESOURCE_EXHAUSTED?(rp(n.toString()),rp("Using maximum backoff delay to prevent overloading the backend."),this.So.po()):n&&n.code===cp.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.Bo(),this.stream.close(),this.stream=null),this.state=t,e.next=9,this.listener.Jr(n);case 9:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"Bo",value:function(){}},{key:"auth",value:function(){var e=this;this.state=1;var t=this.Lo(this.Po),n=this.Po;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((function(t){var r=c(t,2),i=r[0],u=r[1];e.Po===n&&e.Uo(i,u)}),(function(n){t((function(){var t=new lp(cp.UNKNOWN,"Fetching auth token failed: "+n.message);return e.qo(t)}))}))}},{key:"Uo",value:function(e,t){var n=this,r=this.Lo(this.Po);this.stream=this.Ko(e,t),this.stream.zr((function(){r((function(){return n.state=2,n.Vo=n.js.enqueueAfterDelay(n.Ro,1e4,(function(){return n.Co()&&(n.state=3),Promise.resolve()})),n.listener.zr()}))})),this.stream.Jr((function(e){r((function(){return n.qo(e)}))})),this.stream.onMessage((function(e){r((function(){return n.onMessage(e)}))}))}},{key:"xo",value:function(){var e=this;this.state=5,this.So.Io(He(ze().mark((function t(){return ze().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.state=0,e.start();case 1:case"end":return t.stop()}}),t)}))))}},{key:"qo",value:function(e){return np("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}},{key:"Lo",value:function(e){var t=this;return function(n){t.js.enqueueAndForget((function(){return t.Po===e?n():(np("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}}}]),e}(),gw=function(e){ae(n,e);var t=fe(n);function n(e,r,i,u,a,o){var s;return ee(this,n),(s=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,i,u,o)).wt=a,s}return ne(n,[{key:"Ko",value:function(e,t){return this.bo.ho("Listen",e,t)}},{key:"onMessage",value:function(e){this.So.reset();var t=function(e,t){var n;if("targetChange"in t){t.targetChange;var r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:ap()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],u=function(e,t){return e.dt?(op(void 0===t||"string"==typeof t),pv.fromBase64String(t||"")):(op(void 0===t||t instanceof Uint8Array),pv.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),a=t.targetChange.cause,o=a&&function(e){var t=void 0===e.code?cp.UNKNOWN:yy(e.code);return new lp(t,e.message||"")}(a);n=new By(r,i,u,o||null)}else if("documentChange"in t){t.documentChange;var s=t.documentChange;s.document,s.document.name,s.document.updateTime;var c=Xy(e,s.document.name),l=Wy(s.document.updateTime),f=new Qv({mapValue:{fields:s.document.fields}}),h=Yv.newFoundDocument(c,l,f),d=s.targetIds||[],p=s.removedTargetIds||[];n=new Py(d,p,h.key,h)}else if("documentDelete"in t){t.documentDelete;var v=t.documentDelete;v.document;var m=Xy(e,v.document),y=v.readTime?Wy(v.readTime):Cp.min(),g=Yv.newNoDocument(m,y),k=v.removedTargetIds||[];n=new Py([],k,g.key,g)}else if("documentRemove"in t){t.documentRemove;var b=t.documentRemove;b.document;var w=Xy(e,b.document),E=b.removedTargetIds||[];n=new Py([],E,w,null)}else{if(!("filter"in t))return ap();t.filter;var x=t.filter;x.targetId;var A=x.count||0,_=new vy(A),C=x.targetId;n=new Oy(C,_)}return n}(this.wt,e),n=function(e){if(!("targetChange"in e))return Cp.min();var t=e.targetChange;return t.targetIds&&t.targetIds.length?Cp.min():t.readTime?Wy(t.readTime):Cp.min()}(e);return this.listener.Go(t,n)}},{key:"Qo",value:function(e){var t={};t.database=eg(this.wt),t.addTarget=function(e,t){var n,r=t.target;return(n=tm(r)?{documents:og(e,r)}:{query:sg(e,r)}).targetId=t.targetId,t.resumeToken.approximateByteSize()>0?n.resumeToken=Ky(e,t.resumeToken):t.snapshotVersion.compareTo(Cp.min())>0&&(n.readTime=Gy(e,t.snapshotVersion.toTimestamp())),n}(this.wt,e);var n=function(e,t){var n=function(e,t){switch(t){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return ap()}}(0,t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.wt,e);n&&(t.labels=n),this.Mo(t)}},{key:"jo",value:function(e){var t={};t.database=eg(this.wt),t.removeTarget=e,this.Mo(t)}}]),n}(yw),kw=function(e){ae(n,e);var t=fe(n);function n(e,r,i,u,a,o){var s;return ee(this,n),(s=t.call(this,e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,i,u,o)).wt=a,s.Wo=!1,s}return ne(n,[{key:"zo",get:function(){return this.Wo}},{key:"start",value:function(){this.Wo=!1,this.lastStreamToken=void 0,wn(oe(n.prototype),"start",this).call(this)}},{key:"Bo",value:function(){this.Wo&&this.Ho([])}},{key:"Ko",value:function(e,t){return this.bo.ho("Write",e,t)}},{key:"onMessage",value:function(e){if(op(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Wo){this.So.reset();var t=function(e,t){return e&&e.length>0?(op(void 0!==t),e.map((function(e){return function(e,t){var n=e.updateTime?Wy(e.updateTime):Wy(t);return n.isEqual(Cp.min())&&(n=Wy(t)),new Xm(n,e.transformResults||[])}(e,t)}))):[]}(e.writeResults,e.commitTime),n=Wy(e.commitTime);return this.listener.Jo(n,t)}return op(!e.writeResults||0===e.writeResults.length),this.Wo=!0,this.listener.Yo()}},{key:"Xo",value:function(){var e={};e.database=eg(this.wt),this.Mo(e)}},{key:"Ho",value:function(e){var t=this,n={streamToken:this.lastStreamToken,writes:e.map((function(e){return ug(t.wt,e)}))};this.Mo(n)}}]),n}(yw),bw=function(e){ae(n,e);var t=fe(n);function n(e,r,i,u){var a;return ee(this,n),(a=t.call(this)).authCredentials=e,a.appCheckCredentials=r,a.bo=i,a.wt=u,a.Zo=!1,a}return ne(n,[{key:"tu",value:function(){if(this.Zo)throw new lp(cp.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"ro",value:function(e,t,n){var r=this;return this.tu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(i){var u=c(i,2),a=u[0],o=u[1];return r.bo.ro(e,t,n,a,o)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===cp.UNAUTHENTICATED&&(r.authCredentials.invalidateToken(),r.appCheckCredentials.invalidateToken()),e):new lp(cp.UNKNOWN,e.toString())}))}},{key:"ao",value:function(e,t,n,r){var i=this;return this.tu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(u){var a=c(u,2),o=a[0],s=a[1];return i.bo.ao(e,t,n,o,s,r)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===cp.UNAUTHENTICATED&&(i.authCredentials.invalidateToken(),i.appCheckCredentials.invalidateToken()),e):new lp(cp.UNKNOWN,e.toString())}))}},{key:"terminate",value:function(){this.Zo=!0}}]),n}(function(){return ne((function e(){ee(this,e)}))}()),ww=function(){function e(t,n){ee(this,e),this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.eu=0,this.nu=null,this.su=!0}return ne(e,[{key:"iu",value:function(){var e=this;0===this.eu&&(this.ru("Unknown"),this.nu=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(function(){return e.nu=null,e.ou("Backend didn't respond within 10 seconds."),e.ru("Offline"),Promise.resolve()})))}},{key:"uu",value:function(e){"Online"===this.state?this.ru("Unknown"):(this.eu++,this.eu>=1&&(this.cu(),this.ou("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.ru("Offline")))}},{key:"set",value:function(e){this.cu(),this.eu=0,"Online"===e&&(this.su=!1),this.ru(e)}},{key:"ru",value:function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}},{key:"ou",value:function(e){var t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.su?(rp(t),this.su=!1):np("OnlineStateTracker",t)}},{key:"cu",value:function(){null!==this.nu&&(this.nu.cancel(),this.nu=null)}}]),e}(),Ew=ne((function e(t,n,r,i,u){var a=this;ee(this,e),this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.au=[],this.hu=new Map,this.lu=new Set,this.fu=[],this.du=u,this.du.Br((function(e){r.enqueueAndForget(He(ze().mark((function e(){return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=Rw(a),!e.t0){e.next=5;break}return np("RemoteStore","Restarting streams for network reachability change."),e.next=5,function(){var e=He(ze().mark((function e(t){var n;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=sp(t)).lu.add(4),e.next=4,_w(n);case 4:return n._u.set("Unknown"),n.lu.delete(4),e.next=8,xw(n);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(a);case 5:case"end":return e.stop()}}),e)}))))})),this._u=new ww(r,i)}));function xw(e){return Aw.apply(this,arguments)}function Aw(){return Aw=He(ze().mark((function e(t){var n,r,i;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Rw(t)){e.next=18;break}n=re(t.fu),e.prev=2,n.s();case 4:if((r=n.n()).done){e.next=10;break}return i=r.value,e.next=8,i(!0);case 8:e.next=4;break;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),n.e(e.t0);case 15:return e.prev=15,n.f(),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[2,12,15,18]])}))),Aw.apply(this,arguments)}function _w(e){return Cw.apply(this,arguments)}function Cw(){return Cw=He(ze().mark((function e(t){var n,r,i;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=re(t.fu),e.prev=1,n.s();case 3:if((r=n.n()).done){e.next=9;break}return i=r.value,e.next=7,i(!1);case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),n.e(e.t0);case 14:return e.prev=14,n.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,11,14,17]])}))),Cw.apply(this,arguments)}function Iw(e,t){var n=sp(e);n.hu.has(t.targetId)||(n.hu.set(t.targetId,t),Fw(n)?Nw(n):sE(n).Co()&&Tw(n,t))}function Sw(e,t){var n=sp(e),r=sE(n);n.hu.delete(t),r.Co()&&Dw(n,t),0===n.hu.size&&(r.Co()?r.ko():Rw(n)&&n._u.set("Unknown"))}function Tw(e,t){e.wu.Nt(t.targetId),sE(e).Qo(t)}function Dw(e,t){e.wu.Nt(t),sE(e).jo(t)}function Nw(e){e.wu=new jy({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},te:function(t){return e.hu.get(t)||null}}),sE(e).start(),e._u.iu()}function Fw(e){return Rw(e)&&!sE(e).Do()&&e.hu.size>0}function Rw(e){return 0===sp(e).lu.size}function Pw(e){e.wu=void 0}function Ow(e){return Bw.apply(this,arguments)}function Bw(){return Bw=He(ze().mark((function e(t){return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.hu.forEach((function(e,n){Tw(t,e)}));case 1:case"end":return e.stop()}}),e)}))),Bw.apply(this,arguments)}function Lw(e,t){return jw.apply(this,arguments)}function jw(){return jw=He(ze().mark((function e(t,n){return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Pw(t),Fw(t)?(t._u.uu(n),Nw(t)):t._u.set("Unknown");case 1:case"end":return e.stop()}}),e)}))),jw.apply(this,arguments)}function Mw(e,t,n){return Uw.apply(this,arguments)}function Uw(){return Uw=He(ze().mark((function e(t,n,r){var i;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t._u.set("Online"),!(n instanceof By&&2===n.state&&n.cause)){e.next=13;break}return e.prev=1,e.next=4,function(){var e=He(ze().mark((function e(t,n){var r,i,u,a;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=n.cause,i=re(n.targetIds),e.prev=2,i.s();case 4:if((u=i.n()).done){e.next=14;break}if(a=u.value,e.t0=t.hu.has(a),!e.t0){e.next=12;break}return e.next=10,t.remoteSyncer.rejectListen(a,r);case 10:t.hu.delete(a),t.wu.removeTarget(a);case 12:e.next=4;break;case 14:e.next=19;break;case 16:e.prev=16,e.t1=e.catch(2),i.e(e.t1);case 19:return e.prev=19,i.f(),e.finish(19);case 22:case"end":return e.stop()}}),e,null,[[2,16,19,22]])})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:e.next=11;break;case 6:return e.prev=6,e.t0=e.catch(1),np("RemoteStore","Failed to remove targets %s: %s ",n.targetIds.join(","),e.t0),e.next=11,Vw(t,e.t0);case 11:case 22:e.next=29;break;case 13:if(n instanceof Py?t.wu.Ut(n):n instanceof Oy?t.wu.zt(n):t.wu.Gt(n),r.isEqual(Cp.min())){e.next=29;break}return e.prev=14,e.next=17,Lb(t.localStore);case 17:if(i=e.sent,e.t1=r.compareTo(i)>=0,!e.t1){e.next=22;break}return e.next=22,function(e,t){var n=e.wu.Yt(t);return n.targetChanges.forEach((function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=e.hu.get(r);i&&e.hu.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach((function(t){var n=e.hu.get(t);if(n){e.hu.set(t,n.withResumeToken(pv.EMPTY_BYTE_STRING,n.snapshotVersion)),Dw(e,t);var r=new Xg(n.target,t,1,n.sequenceNumber);Tw(e,r)}})),e.remoteSyncer.applyRemoteEvent(n)}(t,r);case 24:return e.prev=24,e.t2=e.catch(14),np("RemoteStore","Failed to raise snapshot:",e.t2),e.next=29,Vw(t,e.t2);case 29:case"end":return e.stop()}}),e,null,[[1,6],[14,24]])}))),Uw.apply(this,arguments)}function Vw(e,t,n){return zw.apply(this,arguments)}function zw(){return zw=He(ze().mark((function e(t,n,r){return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Yp(n)){e.next=2;break}throw n;case 2:return t.lu.add(1),e.next=5,_w(t);case 5:t._u.set("Offline"),r||(r=function(){return Lb(t.localStore)}),t.asyncQueue.enqueueRetryable(He(ze().mark((function e(){return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return np("RemoteStore","Retrying IndexedDB access"),e.next=3,r();case 3:return t.lu.delete(1),e.next=6,xw(t);case 6:case"end":return e.stop()}}),e)}))));case 8:case"end":return e.stop()}}),e)}))),zw.apply(this,arguments)}function qw(e,t){return t().catch((function(n){return Vw(e,n,t)}))}function Gw(e){return Kw.apply(this,arguments)}function Kw(){return Kw=He(ze().mark((function e(t){var n,r,i,u;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=sp(t),r=cE(n),i=n.au.length>0?n.au[n.au.length-1].batchId:-1;case 2:if(!Hw(n)){e.next=19;break}return e.prev=3,e.next=6,Ub(n.localStore,i);case 6:if(null!==(u=e.sent)){e.next=10;break}return 0===n.au.length&&r.ko(),e.abrupt("break",19);case 10:i=u.batchId,Ww(n,u),e.next=17;break;case 13:return e.prev=13,e.t0=e.catch(3),e.next=17,Vw(n,e.t0);case 17:e.next=2;break;case 19:Qw(n)&&Jw(n);case 20:case"end":return e.stop()}}),e,null,[[3,13]])}))),Kw.apply(this,arguments)}function Hw(e){return Rw(e)&&e.au.length<10}function Ww(e,t){e.au.push(t);var n=cE(e);n.Co()&&n.zo&&n.Ho(t.mutations)}function Qw(e){return Rw(e)&&!cE(e).Do()&&e.au.length>0}function Jw(e){cE(e).start()}function Yw(e){return Xw.apply(this,arguments)}function Xw(){return Xw=He(ze().mark((function e(t){return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:cE(t).Xo();case 1:case"end":return e.stop()}}),e)}))),Xw.apply(this,arguments)}function $w(e){return Zw.apply(this,arguments)}function Zw(){return Zw=He(ze().mark((function e(t){var n,r,i,u;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=cE(t),r=re(t.au);try{for(r.s();!(i=r.n()).done;)u=i.value,n.Ho(u.mutations)}catch(a){r.e(a)}finally{r.f()}case 3:case"end":return e.stop()}}),e)}))),Zw.apply(this,arguments)}function eE(e,t,n){return tE.apply(this,arguments)}function tE(){return tE=He(ze().mark((function e(t,n,r){var i,u;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.au.shift(),u=Jg.from(i,n,r),e.next=3,qw(t,(function(){return t.remoteSyncer.applySuccessfulWrite(u)}));case 3:return e.next=5,Gw(t);case 5:case"end":return e.stop()}}),e)}))),tE.apply(this,arguments)}function nE(e,t){return rE.apply(this,arguments)}function rE(){return rE=He(ze().mark((function e(t,n){return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=n&&cE(t).zo,!e.t0){e.next=4;break}return e.next=4,function(){var e=He(ze().mark((function e(t,n){var r,i;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!my(i=n.code)||i===cp.ABORTED){e.next=7;break}return r=t.au.shift(),cE(t).No(),e.next=5,qw(t,(function(){return t.remoteSyncer.rejectFailedWrite(r.batchId,n)}));case 5:return e.next=7,Gw(t);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:Qw(t)&&Jw(t);case 5:case"end":return e.stop()}}),e)}))),rE.apply(this,arguments)}function iE(e,t){return uE.apply(this,arguments)}function uE(){return uE=He(ze().mark((function e(t,n){var r,i;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=sp(t)).asyncQueue.verifyOperationInProgress(),np("RemoteStore","RemoteStore received new credentials"),i=Rw(r),r.lu.add(3),e.next=6,_w(r);case 6:return i&&r._u.set("Unknown"),e.next=9,r.remoteSyncer.handleCredentialChange(n);case 9:return r.lu.delete(3),e.next=12,xw(r);case 12:case"end":return e.stop()}}),e)}))),uE.apply(this,arguments)}function aE(e,t){return oE.apply(this,arguments)}function oE(){return oE=He(ze().mark((function e(t,n){var r;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=sp(t),!n){e.next=7;break}return r.lu.delete(2),e.next=5,xw(r);case 5:e.next=13;break;case 7:if(e.t0=n,e.t0){e.next=13;break}return r.lu.add(2),e.next=12,_w(r);case 12:r._u.set("Unknown");case 13:case"end":return e.stop()}}),e)}))),oE.apply(this,arguments)}function sE(e){return e.mu||(e.mu=function(e,t,n){var r=sp(e);return r.tu(),new gw(t,r.bo,r.authCredentials,r.appCheckCredentials,r.wt,n)}(e.datastore,e.asyncQueue,{zr:Ow.bind(null,e),Jr:Lw.bind(null,e),Go:Mw.bind(null,e)}),e.fu.push(function(){var t=He(ze().mark((function t(n){return ze().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=4;break}e.mu.No(),Fw(e)?Nw(e):e._u.set("Unknown"),t.next=7;break;case 4:return t.next=6,e.mu.stop();case 6:Pw(e);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.mu}function cE(e){return e.gu||(e.gu=function(e,t,n){var r=sp(e);return r.tu(),new kw(t,r.bo,r.authCredentials,r.appCheckCredentials,r.wt,n)}(e.datastore,e.asyncQueue,{zr:Yw.bind(null,e),Jr:nE.bind(null,e),Yo:$w.bind(null,e),Jo:eE.bind(null,e)}),e.fu.push(function(){var t=He(ze().mark((function t(n){return ze().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=6;break}return e.gu.No(),t.next=4,Gw(e);case 4:t.next=9;break;case 6:return t.next=8,e.gu.stop();case 8:e.au.length>0&&(np("RemoteStore","Stopping write stream with ".concat(e.au.length," pending writes")),e.au=[]);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.gu}var lE=function(){function e(t,n,r,i,u){ee(this,e),this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=u,this.deferred=new fp,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((function(e){}))}return ne(e,[{key:"start",value:function(e){var t=this;this.timerHandle=setTimeout((function(){return t.handleDelayElapsed()}),e)}},{key:"skipDelay",value:function(){return this.handleDelayElapsed()}},{key:"cancel",value:function(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new lp(cp.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}},{key:"handleDelayElapsed",value:function(){var e=this;this.asyncQueue.enqueueAndForget((function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then((function(t){return e.deferred.resolve(t)}))):Promise.resolve()}))}},{key:"clearTimeout",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}))}],[{key:"createAndSchedule",value:function(t,n,r,i,u){var a=new e(t,n,Date.now()+r,i,u);return a.start(r),a}}]),e}();function fE(e,t){if(rp("AsyncQueue","".concat(t,": ").concat(e)),Yp(e))return new lp(cp.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}var hE=function(){function e(t){ee(this,e),this.comparator=t?function(e,n){return t(e,n)||Np.comparator(e.key,n.key)}:function(e,t){return Np.comparator(e.key,t.key)},this.keyedMap=Ey(),this.sortedSet=new ov(this.comparator)}return ne(e,[{key:"has",value:function(e){return null!=this.keyedMap.get(e)}},{key:"get",value:function(e){return this.keyedMap.get(e)}},{key:"first",value:function(){return this.sortedSet.minKey()}},{key:"last",value:function(){return this.sortedSet.maxKey()}},{key:"isEmpty",value:function(){return this.sortedSet.isEmpty()}},{key:"indexOf",value:function(e){var t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}},{key:"size",get:function(){return this.sortedSet.size}},{key:"forEach",value:function(e){this.sortedSet.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"add",value:function(e){var t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}},{key:"delete",value:function(e){var t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,u=r.getNext().key;if(!i.isEqual(u))return!1}return!0}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}},{key:"copy",value:function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}],[{key:"emptySet",value:function(t){return new e(t.comparator)}}]),e}(),dE=function(){function e(){ee(this,e),this.yu=new ov(Np.comparator)}return ne(e,[{key:"track",value:function(e){var t=e.doc.key,n=this.yu.get(t);n?0!==e.type&&3===n.type?this.yu=this.yu.insert(t,e):3===e.type&&1!==n.type?this.yu=this.yu.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.yu=this.yu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.yu=this.yu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.yu=this.yu.remove(t):1===e.type&&2===n.type?this.yu=this.yu.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.yu=this.yu.insert(t,{type:2,doc:e.doc}):ap():this.yu=this.yu.insert(t,e)}},{key:"pu",value:function(){var e=[];return this.yu.inorderTraversal((function(t,n){e.push(n)})),e}}]),e}(),pE=function(){function e(t,n,r,i,u,a,o,s){ee(this,e),this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=u,this.fromCache=a,this.syncStateChanged=o,this.excludesMetadataChanges=s}return ne(e,[{key:"hasPendingWrites",get:function(){return!this.mutatedKeys.isEmpty()}},{key:"isEqual",value:function(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Sm(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}],[{key:"fromInitialDocuments",value:function(t,n,r,i){var u=[];return n.forEach((function(e){u.push({type:0,doc:e})})),new e(t,n,hE.emptySet(n),u,r,i,!0,!1)}}]),e}(),vE=ne((function e(){ee(this,e),this.Iu=void 0,this.listeners=[]})),mE=ne((function e(){ee(this,e),this.queries=new gy((function(e){return Tm(e)}),Sm),this.onlineState="Unknown",this.Tu=new Set}));function yE(e,t){return gE.apply(this,arguments)}function gE(){return gE=He(ze().mark((function e(t,n){var r,i,u,a,o;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=sp(t),i=n.query,u=!1,(a=r.queries.get(i))||(u=!0,a=new vE),!u){e.next=13;break}return e.prev=3,e.next=6,r.onListen(i);case 6:a.Iu=e.sent,e.next=13;break;case 9:return e.prev=9,e.t0=e.catch(3),o=fE(e.t0,"Initialization of query '".concat(Dm(n.query),"' failed")),e.abrupt("return",void n.onError(o));case 13:r.queries.set(i,a),a.listeners.push(n),n.Eu(r.onlineState),a.Iu&&n.Au(a.Iu)&&xE(r);case 14:case"end":return e.stop()}}),e,null,[[3,9]])}))),gE.apply(this,arguments)}function kE(e,t){return bE.apply(this,arguments)}function bE(){return bE=He(ze().mark((function e(t,n){var r,i,u,a,o;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=sp(t),i=n.query,u=!1,(a=r.queries.get(i))&&(o=a.listeners.indexOf(n))>=0&&(a.listeners.splice(o,1),u=0===a.listeners.length),!u){e.next=6;break}return e.abrupt("return",(r.queries.delete(i),r.onUnlisten(i)));case 6:case"end":return e.stop()}}),e)}))),bE.apply(this,arguments)}function wE(e,t){var n,r=sp(e),i=!1,u=re(t);try{for(u.s();!(n=u.n()).done;){var a=n.value,o=a.query,s=r.queries.get(o);if(s){var c,l=re(s.listeners);try{for(l.s();!(c=l.n()).done;){c.value.Au(a)&&(i=!0)}}catch(f){l.e(f)}finally{l.f()}s.Iu=a}}}catch(f){u.e(f)}finally{u.f()}i&&xE(r)}function EE(e,t,n){var r=sp(e),i=r.queries.get(t);if(i){var u,a=re(i.listeners);try{for(a.s();!(u=a.n()).done;){u.value.onError(n)}}catch(o){a.e(o)}finally{a.f()}}r.queries.delete(t)}function xE(e){e.Tu.forEach((function(e){e.next()}))}var AE=function(){function e(t,n,r){ee(this,e),this.query=t,this.Ru=n,this.bu=!1,this.Pu=null,this.onlineState="Unknown",this.options=r||{}}return ne(e,[{key:"Au",value:function(e){if(!this.options.includeMetadataChanges){var t,n=[],r=re(e.docChanges);try{for(r.s();!(t=r.n()).done;){var i=t.value;3!==i.type&&n.push(i)}}catch(a){r.e(a)}finally{r.f()}e=new pE(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}var u=!1;return this.bu?this.vu(e)&&(this.Ru.next(e),u=!0):this.Vu(e,this.onlineState)&&(this.Su(e),u=!0),this.Pu=e,u}},{key:"onError",value:function(e){this.Ru.error(e)}},{key:"Eu",value:function(e){this.onlineState=e;var t=!1;return this.Pu&&!this.bu&&this.Vu(this.Pu,e)&&(this.Su(this.Pu),t=!0),t}},{key:"Vu",value:function(e,t){if(!e.fromCache)return!0;var n="Offline"!==t;return(!this.options.Du||!n)&&(!e.docs.isEmpty()||"Offline"===t)}},{key:"vu",value:function(e){if(e.docChanges.length>0)return!0;var t=this.Pu&&this.Pu.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}},{key:"Su",value:function(e){e=pE.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.bu=!0,this.Ru.next(e)}}]),e}(),_E=function(){function e(t,n){ee(this,e),this.payload=t,this.byteLength=n}return ne(e,[{key:"Cu",value:function(){return"metadata"in this.payload}}]),e}(),CE=function(){function e(t){ee(this,e),this.wt=t}return ne(e,[{key:"Wi",value:function(e){return Xy(this.wt,e)}},{key:"zi",value:function(e){return e.metadata.exists?rg(this.wt,e.document,!1):Yv.newNoDocument(this.Wi(e.metadata.name),this.Hi(e.metadata.readTime))}},{key:"Hi",value:function(e){return Wy(e)}}]),e}(),IE=function(){function e(t,n,r){ee(this,e),this.xu=t,this.localStore=n,this.wt=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=SE(t)}return ne(e,[{key:"Nu",value:function(e){this.progress.bytesLoaded+=e.byteLength;var t=this.progress.documentsLoaded;if(e.payload.namedQuery)this.queries.push(e.payload.namedQuery);else if(e.payload.documentMetadata){this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t;var n=Sp.fromString(e.payload.documentMetadata.name);this.collectionGroups.add(n.get(n.length-2))}else e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}},{key:"ku",value:function(e){var t,n=new Map,r=new CE(this.wt),i=re(e);try{for(i.s();!(t=i.n()).done;){var u=t.value;if(u.metadata.queries){var a,o=r.Wi(u.metadata.name),s=re(u.metadata.queries);try{for(s.s();!(a=s.n()).done;){var c=a.value,l=(n.get(c)||Ty()).add(o);n.set(c,l)}}catch(f){s.e(f)}finally{s.f()}}}}catch(f){i.e(f)}finally{i.f()}return n}},{key:"complete",value:function(){var e=He(ze().mark((function e(){var t,n,r,i,u;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Qb(this.localStore,new CE(this.wt),this.documents,this.xu.id);case 2:t=e.sent,n=this.ku(this.documents),r=re(this.queries),e.prev=5,r.s();case 7:if((i=r.n()).done){e.next=13;break}return u=i.value,e.next=11,Yb(this.localStore,u,n.get(u.name));case 11:e.next=7;break;case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(5),r.e(e.t0);case 18:return e.prev=18,r.f(),e.finish(18);case 21:return e.abrupt("return",(this.progress.taskState="Success",{progress:this.progress,Ou:this.collectionGroups,Mu:t}));case 22:case"end":return e.stop()}}),e,this,[[5,15,18,21]])})));return function(){return e.apply(this,arguments)}}()}]),e}();function SE(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}var TE=ne((function e(t){ee(this,e),this.key=t})),DE=ne((function e(t){ee(this,e),this.key=t})),NE=function(){function e(t,n){ee(this,e),this.query=t,this.Fu=n,this.$u=null,this.current=!1,this.Bu=Ty(),this.mutatedKeys=Ty(),this.Lu=Rm(t),this.Uu=new hE(this.Lu)}return ne(e,[{key:"qu",get:function(){return this.Fu}},{key:"Ku",value:function(e,t){var n=this,r=t?t.Gu:new dE,i=t?t.Uu:this.Uu,u=t?t.mutatedKeys:this.mutatedKeys,a=i,o=!1,s="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,c="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((function(e,t){var l=i.get(e),f=Nm(n.query,t)?t:null,h=!!l&&n.mutatedKeys.has(l.key),d=!!f&&(f.hasLocalMutations||n.mutatedKeys.has(f.key)&&f.hasCommittedMutations),p=!1;l&&f?l.data.isEqual(f.data)?h!==d&&(r.track({type:3,doc:f}),p=!0):n.Qu(l,f)||(r.track({type:2,doc:f}),p=!0,(s&&n.Lu(f,s)>0||c&&n.Lu(f,c)<0)&&(o=!0)):!l&&f?(r.track({type:0,doc:f}),p=!0):l&&!f&&(r.track({type:1,doc:l}),p=!0,(s||c)&&(o=!0)),p&&(f?(a=a.add(f),u=d?u.add(e):u.delete(e)):(a=a.delete(e),u=u.delete(e)))})),null!==this.query.limit)for(;a.size>this.query.limit;){var l="F"===this.query.limitType?a.last():a.first();a=a.delete(l.key),u=u.delete(l.key),r.track({type:1,doc:l})}return{Uu:a,Gu:r,Oi:o,mutatedKeys:u}}},{key:"Qu",value:function(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}},{key:"applyChanges",value:function(e,t,n){var r=this,i=this.Uu;this.Uu=e.Uu,this.mutatedKeys=e.mutatedKeys;var u=e.Gu.pu();u.sort((function(e,t){return function(e,t){var n=function(e){switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ap()}};return n(e)-n(t)}(e.type,t.type)||r.Lu(e.doc,t.doc)})),this.ju(n);var a=t?this.Wu():[],o=0===this.Bu.size&&this.current?1:0,s=o!==this.$u;return this.$u=o,0!==u.length||s?{snapshot:new pE(this.query,e.Uu,i,u,e.mutatedKeys,0===o,s,!1),zu:a}:{zu:a}}},{key:"Eu",value:function(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Uu:this.Uu,Gu:new dE,mutatedKeys:this.mutatedKeys,Oi:!1},!1)):{zu:[]}}},{key:"Hu",value:function(e){return!this.Fu.has(e)&&!!this.Uu.has(e)&&!this.Uu.get(e).hasLocalMutations}},{key:"ju",value:function(e){var t=this;e&&(e.addedDocuments.forEach((function(e){return t.Fu=t.Fu.add(e)})),e.modifiedDocuments.forEach((function(e){})),e.removedDocuments.forEach((function(e){return t.Fu=t.Fu.delete(e)})),this.current=e.current)}},{key:"Wu",value:function(){var e=this;if(!this.current)return[];var t=this.Bu;this.Bu=Ty(),this.Uu.forEach((function(t){e.Hu(t.key)&&(e.Bu=e.Bu.add(t.key))}));var n=[];return t.forEach((function(t){e.Bu.has(t)||n.push(new DE(t))})),this.Bu.forEach((function(e){t.has(e)||n.push(new TE(e))})),n}},{key:"Ju",value:function(e){this.Fu=e.ji,this.Bu=Ty();var t=this.Ku(e.documents);return this.applyChanges(t,!0)}},{key:"Yu",value:function(){return pE.fromInitialDocuments(this.query,this.Uu,this.mutatedKeys,0===this.$u)}}]),e}(),FE=ne((function e(t,n,r){ee(this,e),this.query=t,this.targetId=n,this.view=r})),RE=ne((function e(t){ee(this,e),this.key=t,this.Xu=!1})),PE=function(){function e(t,n,r,i,u,a){ee(this,e),this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=u,this.maxConcurrentLimboResolutions=a,this.Zu={},this.tc=new gy((function(e){return Tm(e)}),Sm),this.ec=new Map,this.nc=new Set,this.sc=new ov(Np.comparator),this.ic=new Map,this.rc=new pb,this.oc={},this.uc=new Map,this.cc=Gk.Rn(),this.onlineState="Unknown",this.ac=void 0}return ne(e,[{key:"isPrimaryClient",get:function(){return!0===this.ac}}]),e}();function OE(e,t){return BE.apply(this,arguments)}function BE(){return BE=He(ze().mark((function e(t,n){var r,i,u,a,o,s;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Sx(t),!(a=r.tc.get(n))){e.next=6;break}i=a.targetId,r.sharedClientState.addLocalQueryTarget(i),u=a.view.Yu(),e.next=15;break;case 6:return e.next=8,Vb(r.localStore,Cm(n));case 8:return o=e.sent,r.isPrimaryClient&&Iw(r.remoteStore,o),s=r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.targetId,e.next=14,LE(r,n,i,"current"===s);case 14:u=e.sent;case 15:return e.abrupt("return",u);case 16:case"end":return e.stop()}}),e)}))),BE.apply(this,arguments)}function LE(e,t,n,r){return jE.apply(this,arguments)}function jE(){return jE=He(ze().mark((function e(t,n,r,i){var u,a,o,s,c,l;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.hc=function(e,n,r){return function(){var e=He(ze().mark((function e(t,n,r,i){var u,a,o;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(u=n.view.Ku(r),e.t0=u.Oi,!e.t0){e.next=6;break}return e.next=5,Gb(t.localStore,n.query,!1).then((function(e){var t=e.documents;return n.view.Ku(t,u)}));case 5:u=e.sent;case 6:return a=i&&i.targetChanges.get(n.targetId),o=n.view.applyChanges(u,t.isPrimaryClient,a),e.abrupt("return",(ix(t,n.targetId,o.zu),o.snapshot));case 8:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}()(t,e,n,r)},e.next=3,Gb(t.localStore,n,!0);case 3:return u=e.sent,a=new NE(n,u.ji),o=a.Ku(u.documents),s=Ry.createSynthesizedTargetChangeForCurrentChange(r,i&&"Offline"!==t.onlineState),c=a.applyChanges(o,t.isPrimaryClient,s),ix(t,r,c.zu),l=new FE(n,r,a),e.abrupt("return",(t.tc.set(n,l),t.ec.has(r)?t.ec.get(r).push(n):t.ec.set(r,[n]),c.snapshot));case 11:case"end":return e.stop()}}),e)}))),jE.apply(this,arguments)}function ME(e,t){return UE.apply(this,arguments)}function UE(){return UE=He(ze().mark((function e(t,n){var r,i,u;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=sp(t),i=r.tc.get(n),!((u=r.ec.get(i.targetId)).length>1)){e.next=3;break}return e.abrupt("return",(r.ec.set(i.targetId,u.filter((function(e){return!Sm(e,n)}))),void r.tc.delete(n)));case 3:if(!r.isPrimaryClient){e.next=11;break}if(r.sharedClientState.removeLocalQueryTarget(i.targetId),e.t0=r.sharedClientState.isActiveQueryTarget(i.targetId),e.t0){e.next=9;break}return e.next=9,zb(r.localStore,i.targetId,!1).then((function(){r.sharedClientState.clearQueryState(i.targetId),Sw(r.remoteStore,i.targetId),nx(r,i.targetId)})).catch(qp);case 9:e.next=14;break;case 11:return nx(r,i.targetId),e.next=14,zb(r.localStore,i.targetId,!0);case 14:case"end":return e.stop()}}),e)}))),UE.apply(this,arguments)}function VE(e,t,n){return zE.apply(this,arguments)}function zE(){return zE=He(ze().mark((function e(t,n,r){var i,u,a;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Tx(t),e.prev=1,e.next=4,function(e,t){var n,r,i=sp(e),u=_p.now(),a=t.reduce((function(e,t){return e.add(t.key)}),Ty());return i.persistence.runTransaction("Locally write mutations","readwrite",(function(e){var o=by(),s=Ty();return i.Ui.getEntries(e,a).next((function(e){(o=e).forEach((function(e,t){t.isValidDocument()||(s=s.add(e))}))})).next((function(){return i.localDocuments.getOverlayedDocuments(e,o)})).next((function(r){n=r;var a,o=[],s=re(t);try{for(s.s();!(a=s.n()).done;){var c=a.value,l=iy(c,n.get(c.key).overlayedDocument);null!=l&&o.push(new oy(c.key,l,Jv(l.value.mapValue),$m.exists(!0)))}}catch(f){s.e(f)}finally{s.f()}return i.mutationQueue.addMutationBatch(e,u,o,t)})).next((function(t){r=t;var u=t.applyToLocalDocumentSet(n,s);return i.documentOverlayCache.saveOverlays(e,t.batchId,u)}))})).then((function(){return{batchId:r.batchId,changes:xy(n)}}))}(i.localStore,n);case 4:return u=e.sent,i.sharedClientState.addPendingMutation(u.batchId),function(e,t,n){var r=e.oc[e.currentUser.toKey()];r||(r=new ov(Ep)),r=r.insert(t,n),e.oc[e.currentUser.toKey()]=r}(i,u.batchId,r),e.next=9,ox(i,u.changes);case 9:return e.next=11,Gw(i.remoteStore);case 11:e.next=17;break;case 13:e.prev=13,e.t0=e.catch(1),a=fE(e.t0,"Failed to persist write"),r.reject(a);case 17:case"end":return e.stop()}}),e,null,[[1,13]])}))),zE.apply(this,arguments)}function qE(e,t){return GE.apply(this,arguments)}function GE(){return GE=He(ze().mark((function e(t,n){var r,i;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=sp(t),e.prev=1,e.next=4,jb(r.localStore,n);case 4:return i=e.sent,n.targetChanges.forEach((function(e,t){var n=r.ic.get(t);n&&(op(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?n.Xu=!0:e.modifiedDocuments.size>0?op(n.Xu):e.removedDocuments.size>0&&(op(n.Xu),n.Xu=!1))})),e.next=8,ox(r,i,n);case 8:e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(1),e.next=14,qp(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,10]])}))),GE.apply(this,arguments)}function KE(e,t,n){var r=sp(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.tc.forEach((function(e,n){var r=n.view.Eu(t);r.snapshot&&i.push(r.snapshot)})),function(e,t){var n=sp(e);n.onlineState=t;var r=!1;n.queries.forEach((function(e,n){var i,u=re(n.listeners);try{for(u.s();!(i=u.n()).done;){i.value.Eu(t)&&(r=!0)}}catch(a){u.e(a)}finally{u.f()}})),r&&xE(n)}(r.eventManager,t),i.length&&r.Zu.Go(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function HE(e,t,n){return WE.apply(this,arguments)}function WE(){return WE=He(ze().mark((function e(t,n,r){var i,u,a,o,s,c;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((i=sp(t)).sharedClientState.updateQueryState(n,"rejected",r),u=i.ic.get(n),!(a=u&&u.key)){e.next=14;break}return o=(o=new ov(Np.comparator)).insert(a,Yv.newNoDocument(a,Cp.min())),s=Ty().add(a),c=new Fy(Cp.min(),new Map,new lv(Ep),o,s),e.next=9,qE(i,c);case 9:i.sc=i.sc.remove(a),i.ic.delete(n),ax(i),e.next=16;break;case 14:return e.next=16,zb(i.localStore,n,!1).then((function(){return nx(i,n,r)})).catch(qp);case 16:case"end":return e.stop()}}),e)}))),WE.apply(this,arguments)}function QE(e,t){return JE.apply(this,arguments)}function JE(){return JE=He(ze().mark((function e(t,n){var r,i,u;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=sp(t),i=n.batch.batchId,e.prev=1,e.next=4,Bb(r.localStore,n);case 4:return u=e.sent,tx(r,i,null),ex(r,i),r.sharedClientState.updateMutationState(i,"acknowledged"),e.next=10,ox(r,u);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,qp(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),JE.apply(this,arguments)}function YE(e,t,n){return XE.apply(this,arguments)}function XE(){return XE=He(ze().mark((function e(t,n,r){var i,u;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=sp(t),e.prev=1,e.next=4,function(e,t){var n=sp(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(e){var r;return n.mutationQueue.lookupMutationBatch(e,t).next((function(t){return op(null!==t),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t)})).next((function(){return n.mutationQueue.performConsistencyCheck(e)})).next((function(){return n.documentOverlayCache.removeOverlaysForBatchId(e,r,t)})).next((function(){return n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r)})).next((function(){return n.localDocuments.getDocuments(e,r)}))}))}(i.localStore,n);case 4:return u=e.sent,tx(i,n,r),ex(i,n),i.sharedClientState.updateMutationState(n,"rejected",r),e.next=10,ox(i,u);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,qp(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),XE.apply(this,arguments)}function $E(e,t){return ZE.apply(this,arguments)}function ZE(){return ZE=He(ze().mark((function e(t,n){var r,i,u,a;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Rw((r=sp(t)).remoteStore)||np("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),e.prev=2,e.next=5,function(e){var t=sp(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(e){return t.mutationQueue.getHighestUnacknowledgedBatchId(e)}))}(r.localStore);case 5:if(-1!==(i=e.sent)){e.next=8;break}return e.abrupt("return",void n.resolve());case 8:(u=r.uc.get(i)||[]).push(n),r.uc.set(i,u),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(2),a=fE(e.t0,"Initialization of waitForPendingWrites() operation failed"),n.reject(a);case 16:case"end":return e.stop()}}),e,null,[[2,12]])}))),ZE.apply(this,arguments)}function ex(e,t){(e.uc.get(t)||[]).forEach((function(e){e.resolve()})),e.uc.delete(t)}function tx(e,t,n){var r=sp(e),i=r.oc[r.currentUser.toKey()];if(i){var u=i.get(t);u&&(n?u.reject(n):u.resolve(),i=i.remove(t)),r.oc[r.currentUser.toKey()]=i}}function nx(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);var r,i=re(e.ec.get(t));try{for(i.s();!(r=i.n()).done;){var u=r.value;e.tc.delete(u),n&&e.Zu.lc(u,n)}}catch(a){i.e(a)}finally{i.f()}e.ec.delete(t),e.isPrimaryClient&&e.rc.us(t).forEach((function(t){e.rc.containsKey(t)||rx(e,t)}))}function rx(e,t){e.nc.delete(t.path.canonicalString());var n=e.sc.get(t);null!==n&&(Sw(e.remoteStore,n),e.sc=e.sc.remove(t),e.ic.delete(n),ax(e))}function ix(e,t,n){var r,i=re(n);try{for(i.s();!(r=i.n()).done;){var u=r.value;u instanceof TE?(e.rc.addReference(u.key,t),ux(e,u)):u instanceof DE?(np("SyncEngine","Document no longer in limbo: "+u.key),e.rc.removeReference(u.key,t),e.rc.containsKey(u.key)||rx(e,u.key)):ap()}}catch(a){i.e(a)}finally{i.f()}}function ux(e,t){var n=t.key,r=n.path.canonicalString();e.sc.get(n)||e.nc.has(r)||(np("SyncEngine","New document in limbo: "+n),e.nc.add(r),ax(e))}function ax(e){for(;e.nc.size>0&&e.sc.size<e.maxConcurrentLimboResolutions;){var t=e.nc.values().next().value;e.nc.delete(t);var n=new Np(Sp.fromString(t)),r=e.cc.next();e.ic.set(r,new RE(n)),e.sc=e.sc.insert(n,r),Iw(e.remoteStore,new Xg(Cm(wm(n.path)),r,2,rv.ot))}}function ox(e,t,n){return sx.apply(this,arguments)}function sx(){return sx=He(ze().mark((function e(t,n,r){var i,u,a,o;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=sp(t),u=[],a=[],o=[],e.t0=i.tc.isEmpty(),e.t0){e.next=9;break}return i.tc.forEach((function(e,t){o.push(i.hc(t,n,r).then((function(e){if(e){i.isPrimaryClient&&i.sharedClientState.updateQueryState(t.targetId,e.fromCache?"not-current":"current"),u.push(e);var n=Db.Vi(t.targetId,e);a.push(n)}})))})),e.next=6,Promise.all(o);case 6:return i.Zu.Go(u),e.next=9,function(){var e=He(ze().mark((function e(t,n){var r,i,u,a,o,s,c,l;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=sp(t),e.prev=1,e.next=4,r.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(e){return Kp.forEach(n,(function(t){return Kp.forEach(t.Pi,(function(n){return r.persistence.referenceDelegate.addReference(e,t.targetId,n)})).next((function(){return Kp.forEach(t.vi,(function(n){return r.persistence.referenceDelegate.removeReference(e,t.targetId,n)}))}))}))}));case 4:e.next=11;break;case 6:if(e.prev=6,e.t0=e.catch(1),Yp(e.t0)){e.next=10;break}throw e.t0;case 10:np("LocalStore","Failed to update sequence numbers: "+e.t0);case 11:i=re(n);try{for(i.s();!(u=i.n()).done;)a=u.value,o=a.targetId,a.fromCache||(s=r.$i.get(o),c=s.snapshotVersion,l=s.withLastLimboFreeSnapshotVersion(c),r.$i=r.$i.insert(o,l))}catch(f){i.e(f)}finally{i.f()}case 13:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t,n){return e.apply(this,arguments)}}()(i.localStore,a);case 9:case"end":return e.stop()}}),e)}))),sx.apply(this,arguments)}function cx(e,t){return lx.apply(this,arguments)}function lx(){return lx=He(ze().mark((function e(t,n){var r,i;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((r=sp(t)).currentUser.isEqual(n)){e.next=11;break}return np("SyncEngine","User change. New user:",n.toKey()),e.next=5,Pb(r.localStore,n);case 5:return i=e.sent,r.currentUser=n,function(e,t){e.uc.forEach((function(e){e.forEach((function(e){e.reject(new lp(cp.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),e.uc.clear()}(r),r.sharedClientState.handleUserChange(n,i.removedBatchIds,i.addedBatchIds),e.next=11,ox(r,i.Ki);case 11:case"end":return e.stop()}}),e)}))),lx.apply(this,arguments)}function fx(e,t){var n=sp(e),r=n.ic.get(t);if(r&&r.Xu)return Ty().add(r.key);var i=Ty(),u=n.ec.get(t);if(!u)return i;var a,o=re(u);try{for(o.s();!(a=o.n()).done;){var s=a.value,c=n.tc.get(s);i=i.unionWith(c.view.qu)}}catch(l){o.e(l)}finally{o.f()}return i}function hx(e,t){return dx.apply(this,arguments)}function dx(){return dx=He(ze().mark((function e(t,n){var r,i,u;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=sp(t),e.next=3,Gb(r.localStore,n.query,!0);case 3:return i=e.sent,u=n.view.Ju(i),e.abrupt("return",(r.isPrimaryClient&&ix(r,n.targetId,u.zu),u));case 6:case"end":return e.stop()}}),e)}))),dx.apply(this,arguments)}function px(e,t){return vx.apply(this,arguments)}function vx(){return vx=He(ze().mark((function e(t,n){var r;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=sp(t),e.abrupt("return",Hb(r.localStore,n).then((function(e){return ox(r,e)})));case 2:case"end":return e.stop()}}),e)}))),vx.apply(this,arguments)}function mx(e,t,n,r){return yx.apply(this,arguments)}function yx(){return yx=He(ze().mark((function e(t,n,r,i){var u,a;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u=sp(t),e.next=3,function(e,t){var n=sp(e),r=sp(n.mutationQueue);return n.persistence.runTransaction("Lookup mutation documents","readonly",(function(e){return r.yn(e,t).next((function(t){return t?n.localDocuments.getDocuments(e,t):Kp.resolve(null)}))}))}(u.localStore,n);case 3:if(null===(a=e.sent)){e.next=15;break}if("pending"!==r){e.next=10;break}return e.next=8,Gw(u.remoteStore);case 8:e.next=11;break;case 10:"acknowledged"===r||"rejected"===r?(tx(u,n,i||null),ex(u,n),function(e,t){sp(sp(e).mutationQueue).In(t)}(u.localStore,n)):ap();case 11:return e.next=13,ox(u,a);case 13:e.next=16;break;case 15:np("SyncEngine","Cannot apply mutation batch with id: "+n);case 16:case"end":return e.stop()}}),e)}))),yx.apply(this,arguments)}function gx(e,t){return kx.apply(this,arguments)}function kx(){return kx=He(ze().mark((function e(t,n){var r,i,u,a,o,s,c,l;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Sx(r=sp(t)),Tx(r),!0!==n||!0===r.ac){e.next=13;break}return i=r.sharedClientState.getAllActiveQueryTargets(),e.next=5,bx(r,i.toArray());case 5:return u=e.sent,r.ac=!0,e.next=9,aE(r.remoteStore,!0);case 9:a=re(u);try{for(a.s();!(o=a.n()).done;)s=o.value,Iw(r.remoteStore,s)}catch(f){a.e(f)}finally{a.f()}e.next=25;break;case 13:if(!1!==n||!1===r.ac){e.next=25;break}return c=[],l=Promise.resolve(),r.ec.forEach((function(e,t){r.sharedClientState.isLocalQueryTarget(t)?c.push(t):l=l.then((function(){return nx(r,t),zb(r.localStore,t,!0)})),Sw(r.remoteStore,t)})),e.next=19,l;case 19:return e.next=21,bx(r,c);case 21:return function(e){var t=sp(e);t.ic.forEach((function(e,n){Sw(t.remoteStore,n)})),t.rc.cs(),t.ic=new Map,t.sc=new ov(Np.comparator)}(r),r.ac=!1,e.next=25,aE(r.remoteStore,!1);case 25:case"end":return e.stop()}}),e)}))),kx.apply(this,arguments)}function bx(e,t,n){return wx.apply(this,arguments)}function wx(){return wx=He(ze().mark((function e(t,n,r){var i,u,a,o,s,c,l,f,h,d,p,v,m,y;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=sp(t),u=[],a=[],o=re(n),e.prev=2,o.s();case 4:if((s=o.n()).done){e.next=45;break}if(c=s.value,l=void 0,!(f=i.ec.get(c))||0===f.length){e.next=34;break}return e.next=11,Vb(i.localStore,Cm(f[0]));case 11:l=e.sent,h=re(f),e.prev=13,h.s();case 15:if((d=h.n()).done){e.next=24;break}return p=d.value,v=i.tc.get(p),e.next=20,hx(i,v);case 20:(m=e.sent).snapshot&&a.push(m.snapshot);case 22:e.next=15;break;case 24:e.next=29;break;case 26:e.prev=26,e.t0=e.catch(13),h.e(e.t0);case 29:return e.prev=29,h.f(),e.finish(29);case 32:e.next=42;break;case 34:return e.next=36,Kb(i.localStore,c);case 36:return y=e.sent,e.next=39,Vb(i.localStore,y);case 39:return l=e.sent,e.next=42,LE(i,Ex(y),c,!1);case 42:u.push(l);case 43:e.next=4;break;case 45:e.next=50;break;case 47:e.prev=47,e.t1=e.catch(2),o.e(e.t1);case 50:return e.prev=50,o.f(),e.finish(50);case 53:return e.abrupt("return",(i.Zu.Go(a),u));case 54:case"end":return e.stop()}}),e,null,[[2,47,50,53],[13,26,29,32]])}))),wx.apply(this,arguments)}function Ex(e){return bm(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function xx(e){var t=sp(e);return sp(sp(t.localStore).persistence).Ri()}function Ax(e,t,n,r){return _x.apply(this,arguments)}function _x(){return _x=He(ze().mark((function e(t,n,r,i){var u,a,o,s;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(u=sp(t)).ac){e.next=3;break}return e.abrupt("return",void np("SyncEngine","Ignoring unexpected query state notification."));case 3:if(!((a=u.ec.get(n))&&a.length>0)){e.next=20;break}e.t0=r,e.next="current"===e.t0||"not-current"===e.t0?8:"rejected"===e.t0?15:19;break;case 8:return e.next=10,Hb(u.localStore,Fm(a[0]));case 10:return o=e.sent,s=Fy.createSynthesizedRemoteEventForCurrentChange(n,"current"===r),e.next=14,ox(u,o,s);case 14:return e.abrupt("break",20);case 15:return e.next=17,zb(u.localStore,n,!0);case 17:return nx(u,n,i),e.abrupt("break",20);case 19:ap();case 20:case"end":return e.stop()}}),e)}))),_x.apply(this,arguments)}function Cx(e,t,n){return Ix.apply(this,arguments)}function Ix(){return Ix=He(ze().mark((function e(t,n,r){var i,u,a,o,s,c,l,f,h;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(i=Sx(t)).ac){e.next=45;break}u=re(n),e.prev=3,u.s();case 5:if((a=u.n()).done){e.next=21;break}if(o=a.value,!i.ec.has(o)){e.next=10;break}return np("SyncEngine","Adding an already active target "+o),e.abrupt("continue",19);case 10:return e.next=12,Kb(i.localStore,o);case 12:return s=e.sent,e.next=15,Vb(i.localStore,s);case 15:return c=e.sent,e.next=18,LE(i,Ex(s),c.targetId,!1);case 18:Iw(i.remoteStore,c);case 19:e.next=5;break;case 21:e.next=26;break;case 23:e.prev=23,e.t0=e.catch(3),u.e(e.t0);case 26:return e.prev=26,u.f(),e.finish(26);case 29:l=re(r),e.prev=30,h=ze().mark((function e(){var t;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=f.value,e.t0=i.ec.has(t),!e.t0){e.next=5;break}return e.next=5,zb(i.localStore,t,!1).then((function(){Sw(i.remoteStore,t),nx(i,t)})).catch(qp);case 5:case"end":return e.stop()}}),e)})),l.s();case 33:if((f=l.n()).done){e.next=37;break}return e.delegateYield(h(),"t1",35);case 35:e.next=33;break;case 37:e.next=42;break;case 39:e.prev=39,e.t2=e.catch(30),l.e(e.t2);case 42:return e.prev=42,l.f(),e.finish(42);case 45:case"end":return e.stop()}}),e,null,[[3,23,26,29],[30,39,42,45]])}))),Ix.apply(this,arguments)}function Sx(e){var t=sp(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=qE.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=fx.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=HE.bind(null,t),t.Zu.Go=wE.bind(null,t.eventManager),t.Zu.lc=EE.bind(null,t.eventManager),t}function Tx(e){var t=sp(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=QE.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=YE.bind(null,t),t}function Dx(e,t,n){var r=sp(e);(function(){var e=He(ze().mark((function e(t,n,r){var i,u,a,o,s;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.getMetadata();case 3:return i=e.sent,e.next=6,function(e,t){var n=sp(e),r=Wy(t.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",(function(e){return n.Ds.getBundleMetadata(e,t.id)})).then((function(e){return!!e&&e.createTime.compareTo(r)>=0}))}(t.localStore,i);case 6:if(!e.sent){e.next=11;break}return e.next=9,n.close();case 9:return r._completeWith(function(e){return{taskState:"Success",documentsLoaded:e.totalDocuments,bytesLoaded:e.totalBytes,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}(i)),e.abrupt("return",Promise.resolve(new Set));case 11:return r._updateProgress(SE(i)),u=new IE(i,t.localStore,n.wt),e.next=15,n.fc();case 15:a=e.sent;case 16:if(!a){e.next=26;break}return e.next=19,u.Nu(a);case 19:return(o=e.sent)&&r._updateProgress(o),e.next=23,n.fc();case 23:a=e.sent;case 24:e.next=16;break;case 26:return e.next=28,u.complete();case 28:return s=e.sent,e.next=31,ox(t,s.Mu,void 0);case 31:return e.next=33,function(e,t){var n=sp(e);return n.persistence.runTransaction("Save bundle","readwrite",(function(e){return n.Ds.saveBundleMetadata(e,t)}))}(t.localStore,i);case 33:return r._completeWith(s.progress),e.abrupt("return",Promise.resolve(s.Ou));case 37:return e.prev=37,e.t0=e.catch(0),e.abrupt("return",(ip("SyncEngine","Loading bundle failed with ".concat(e.t0)),r._failWith(e.t0),Promise.resolve(new Set)));case 40:case"end":return e.stop()}}),e,null,[[0,37]])})));return function(t,n,r){return e.apply(this,arguments)}})()(r,t,n).then((function(e){r.sharedClientState.notifyBundleLoaded(e)}))}var Nx=function(){function e(){ee(this,e),this.synchronizeTabs=!1}return ne(e,[{key:"initialize",value:function(){var e=He(ze().mark((function e(t){return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.wt=vw(t.databaseInfo.databaseId),this.sharedClientState=this.dc(t),this.persistence=this._c(t),e.next=5,this.persistence.start();case 5:this.localStore=this.wc(t),this.gcScheduler=this.mc(t,this.localStore),this.indexBackfillerScheduler=this.gc(t,this.localStore);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"mc",value:function(e,t){return null}},{key:"gc",value:function(e,t){return null}},{key:"wc",value:function(e){return Rb(this.persistence,new Nb,e.initialUser,this.wt)}},{key:"_c",value:function(e){return new bb(Eb.Ms,this.wt)}},{key:"dc",value:function(e){return new ow}},{key:"terminate",value:function(){var e=He(ze().mark((function e(){return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.gcScheduler&&this.gcScheduler.stop(),e.next=3,this.sharedClientState.shutdown();case 3:return e.next=5,this.persistence.shutdown();case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),Fx=function(e){ae(n,e);var t=fe(n);function n(e,r,i){var u;return ee(this,n),(u=t.call(this)).yc=e,u.cacheSizeBytes=r,u.forceOwnership=i,u.synchronizeTabs=!1,u}return ne(n,[{key:"initialize",value:function(){var e=He(ze().mark((function e(t){var r=this;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,wn(oe(n.prototype),"initialize",this).call(this,t);case 2:return e.next=4,this.yc.initialize(this,t);case 4:return e.next=6,Tx(this.yc.syncEngine);case 6:return e.next=8,Gw(this.yc.remoteStore);case 8:return e.next=10,this.persistence.ci((function(){return r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(),r.indexBackfillerScheduler&&!r.indexBackfillerScheduler.started&&r.indexBackfillerScheduler.start(),Promise.resolve()}));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"wc",value:function(e){return Rb(this.persistence,new Nb,e.initialUser,this.wt)}},{key:"mc",value:function(e,t){var n=this.persistence.referenceDelegate.garbageCollector;return new Xk(n,e.asyncQueue,t)}},{key:"gc",value:function(e,t){var n=new nv(t,this.persistence);return new tv(e.asyncQueue,n)}},{key:"_c",value:function(e){var t=Tb(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?Bk.withCacheSize(this.cacheSizeBytes):Bk.DEFAULT;return new Cb(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,dw(),pw(),this.wt,this.sharedClientState,!!this.forceOwnership)}},{key:"dc",value:function(e){return new ow}}]),n}(Nx),Rx=function(e){ae(n,e);var t=fe(n);function n(e,r){var i;return ee(this,n),(i=t.call(this,e,r,!1)).yc=e,i.cacheSizeBytes=r,i.synchronizeTabs=!0,i}return ne(n,[{key:"initialize",value:function(){var e=He(ze().mark((function e(t){var r,i=this;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,wn(oe(n.prototype),"initialize",this).call(this,t);case 2:if(r=this.yc.syncEngine,e.t0=this.sharedClientState instanceof aw,!e.t0){e.next=8;break}return this.sharedClientState.syncEngine={kr:mx.bind(null,r),Or:Ax.bind(null,r),Mr:Cx.bind(null,r),Ri:xx.bind(null,r),Nr:px.bind(null,r)},e.next=8,this.sharedClientState.start();case 8:return e.next=10,this.persistence.ci(function(){var e=He(ze().mark((function e(t){return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,gx(i.yc.syncEngine,t);case 2:i.gcScheduler&&(t&&!i.gcScheduler.started?i.gcScheduler.start():t||i.gcScheduler.stop()),i.indexBackfillerScheduler&&(t&&!i.indexBackfillerScheduler.started?i.indexBackfillerScheduler.start():t||i.indexBackfillerScheduler.stop());case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"dc",value:function(e){var t=dw();if(!aw.V(t))throw new lp(cp.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=Tb(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new aw(t,e.asyncQueue,n,e.clientId,e.initialUser)}}]),n}(Fx),Px=function(){function e(){ee(this,e)}return ne(e,[{key:"initialize",value:function(){var e=He(ze().mark((function e(t,n){var r=this;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.localStore,e.t0){e.next=12;break}return this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(e){return KE(r.syncEngine,e,1)},this.remoteStore.remoteSyncer.handleCredentialChange=cx.bind(null,this.syncEngine),e.next=12,aE(this.remoteStore,this.syncEngine.isPrimaryClient);case 12:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"createEventManager",value:function(e){return new mE}},{key:"createDatastore",value:function(e){var t,n=vw(e.databaseInfo.databaseId),r=(t=e.databaseInfo,new hw(t));return function(e,t,n,r){return new bw(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,r,n)}},{key:"createRemoteStore",value:function(e){var t,n,r,i,u,a=this;return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=function(e){return KE(a.syncEngine,e,0)},u=cw.V()?new cw:new sw,new Ew(t,n,r,i,u)}},{key:"createSyncEngine",value:function(e,t){return function(e,t,n,r,i,u,a){var o=new PE(e,t,n,r,i,u);return a&&(o.ac=!0),o}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}},{key:"terminate",value:function(){return function(){var e=He(ze().mark((function e(t){var n;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=sp(t),np("RemoteStore","RemoteStore shutting down."),n.lu.add(5),e.next=5,_w(n);case 5:n.du.shutdown(),n._u.set("Unknown");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(this.remoteStore)}}]),e}();function Ox(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10240,n=0;return{read:function(){return He(ze().mark((function r(){var i;return ze().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!(n<e.byteLength)){r.next=3;break}return i={value:e.slice(n,n+t),done:!1},r.abrupt("return",(n+=t,i));case 3:return r.abrupt("return",{done:!0});case 4:case"end":return r.stop()}}),r)})))()},cancel:function(){return He(ze().mark((function e(){return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))()},releaseLock:function(){},closed:Promise.reject("unimplemented")}}var Bx=function(){function e(t){ee(this,e),this.observer=t,this.muted=!1}return ne(e,[{key:"next",value:function(e){this.observer.next&&this.Ic(this.observer.next,e)}},{key:"error",value:function(e){this.observer.error?this.Ic(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}},{key:"Tc",value:function(){this.muted=!0}},{key:"Ic",value:function(e,t){var n=this;this.muted||setTimeout((function(){n.muted||e(t)}),0)}}]),e}(),Lx=function(){function e(t,n){var r=this;ee(this,e),this.Ec=t,this.wt=n,this.metadata=new fp,this.buffer=new Uint8Array,this.Ac=new TextDecoder("utf-8"),this.Rc().then((function(e){e&&e.Cu()?r.metadata.resolve(e.payload.metadata):r.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             ".concat(JSON.stringify(null==e?void 0:e.payload))))}),(function(e){return r.metadata.reject(e)}))}return ne(e,[{key:"close",value:function(){return this.Ec.cancel()}},{key:"getMetadata",value:function(){var e=He(ze().mark((function e(){return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.metadata.promise);case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"fc",value:function(){var e=He(ze().mark((function e(){return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getMetadata();case 2:return e.abrupt("return",this.Rc());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Rc",value:function(){var e=He(ze().mark((function e(){var t,n,r,i;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.bc();case 2:if(null!==(t=e.sent)){e.next=5;break}return e.abrupt("return",null);case 5:return n=this.Ac.decode(t),r=Number(n),isNaN(r)&&this.Pc("length string (".concat(n,") is not valid number")),e.next=9,this.vc(r);case 9:return i=e.sent,e.abrupt("return",new _E(JSON.parse(i),t.length+r));case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Vc",value:function(){return this.buffer.findIndex((function(e){return e==="{".charCodeAt(0)}))}},{key:"bc",value:function(){var e=He(ze().mark((function e(){var t,n;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.Vc()<0)){e.next=7;break}return e.next=3,this.Sc();case 3:if(!e.sent){e.next=5;break}return e.abrupt("break",7);case 5:e.next=0;break;case 7:if(0!==this.buffer.length){e.next=9;break}return e.abrupt("return",null);case 9:return(t=this.Vc())<0&&this.Pc("Reached the end of bundle when a length string is expected."),n=this.buffer.slice(0,t),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"vc",value:function(){var e=He(ze().mark((function e(t){var n;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.buffer.length<t)){e.next=8;break}return e.next=3,this.Sc();case 3:if(e.t0=e.sent,!e.t0){e.next=6;break}this.Pc("Reached the end of bundle when more is expected.");case 6:e.next=0;break;case 8:return n=this.Ac.decode(this.buffer.slice(0,t)),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Pc",value:function(e){throw this.Ec.cancel(),new Error("Invalid bundle format: ".concat(e))}},{key:"Sc",value:function(){var e=He(ze().mark((function e(){var t,n;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.Ec.read();case 2:return(t=e.sent).done||((n=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),n.set(t.value,this.buffer.length),this.buffer=n),e.abrupt("return",t.done);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),jx=function(){function e(t){ee(this,e),this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return ne(e,[{key:"lookup",value:function(){var e=He(ze().mark((function e(t){var n,r=this;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!(this.mutations.length>0)){e.next=2;break}throw new lp(cp.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");case 2:return e.next=4,function(){var e=He(ze().mark((function e(t,n){var r,i,u,a,o,s;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=sp(t),i=eg(r.wt)+"/documents",u={documents:n.map((function(e){return Yy(r.wt,e)}))},e.next=5,r.ao("BatchGetDocuments",i,u,n.length);case 5:return a=e.sent,o=new Map,a.forEach((function(e){var t=ig(r.wt,e);o.set(t.key.toString(),t)})),s=[],e.abrupt("return",(n.forEach((function(e){var t=o.get(e.toString());op(!!t),s.push(t)})),s));case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,t);case 4:return n=e.sent,e.abrupt("return",(n.forEach((function(e){return r.recordVersion(e)})),n));case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"set",value:function(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"update",value:function(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastWriteError=e}this.writtenDocs.add(e.toString())}},{key:"delete",value:function(e){this.write(new dy(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"commit",value:function(){var e=He(ze().mark((function e(){var t,n=this;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!this.lastWriteError){e.next=2;break}throw this.lastWriteError;case 2:return t=this.readVersions,this.mutations.forEach((function(e){t.delete(e.key.toString())})),t.forEach((function(e,t){var r=Np.fromPath(t);n.mutations.push(new py(r,n.precondition(r)))})),e.next=7,function(){var e=He(ze().mark((function e(t,n){var r,i,u;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=sp(t),i=eg(r.wt)+"/documents",u={writes:n.map((function(e){return ug(r.wt,e)}))},e.next=3,r.ro("Commit",i,u);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,this.mutations);case 7:this.committed=!0;case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"recordVersion",value:function(e){var t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw ap();t=Cp.min()}var n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new lp(cp.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}},{key:"precondition",value:function(e){var t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?$m.updateTime(t):$m.none()}},{key:"preconditionForUpdate",value:function(e){var t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Cp.min()))throw new lp(cp.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return $m.updateTime(t)}return $m.exists(!0)}},{key:"write",value:function(e){this.ensureCommitNotCalled(),this.mutations.push(e)}},{key:"ensureCommitNotCalled",value:function(){}}]),e}(),Mx=function(){function e(t,n,r,i,u){ee(this,e),this.asyncQueue=t,this.datastore=n,this.options=r,this.updateFunction=i,this.deferred=u,this.Dc=r.maxAttempts,this.So=new mw(this.asyncQueue,"transaction_retry")}return ne(e,[{key:"run",value:function(){this.Dc-=1,this.Cc()}},{key:"Cc",value:function(){var e=this;this.So.Io(He(ze().mark((function t(){var n,r;return ze().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=new jx(e.datastore),(r=e.xc(n))&&r.then((function(t){e.asyncQueue.enqueueAndForget((function(){return n.commit().then((function(){e.deferred.resolve(t)})).catch((function(t){e.Nc(t)}))}))})).catch((function(t){e.Nc(t)}));case 2:case"end":return t.stop()}}),t)}))))}},{key:"xc",value:function(e){try{var t=this.updateFunction(e);return!Av(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}},{key:"Nc",value:function(e){var t=this;this.Dc>0&&this.kc(e)?(this.Dc-=1,this.asyncQueue.enqueueAndForget((function(){return t.Cc(),Promise.resolve()}))):this.deferred.reject(e)}},{key:"kc",value:function(e){if("FirebaseError"===e.name){var t=e.code;return"aborted"===t||"failed-precondition"===t||!my(t)}return!1}}]),e}(),Ux=function(){function e(t,n,r,i){var u=this;ee(this,e),this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=$d.UNAUTHENTICATED,this.clientId=wp.I(),this.authCredentialListener=function(){return Promise.resolve()},this.appCheckCredentialListener=function(){return Promise.resolve()},this.authCredentials.start(r,function(){var e=He(ze().mark((function e(t){return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return np("FirestoreClient","Received user=",t.uid),e.next=3,u.authCredentialListener(t);case 3:u.user=t;case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),this.appCheckCredentials.start(r,(function(e){return np("FirestoreClient","Received new app check token=",e),u.appCheckCredentialListener(e,u.user)}))}return ne(e,[{key:"getConfiguration",value:function(){var e=He(ze().mark((function e(){return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100});case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setCredentialChangeListener",value:function(e){this.authCredentialListener=e}},{key:"setAppCheckTokenChangeListener",value:function(e){this.appCheckCredentialListener=e}},{key:"verifyNotTerminated",value:function(){if(this.asyncQueue.isShuttingDown)throw new lp(cp.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"terminate",value:function(){var e=this;this.asyncQueue.enterRestrictedMode();var t=new fp;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(He(ze().mark((function n(){var r;return ze().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,n.t0=e.onlineComponents,!n.t0){n.next=5;break}return n.next=5,e.onlineComponents.terminate();case 5:if(n.t1=e.offlineComponents,!n.t1){n.next=9;break}return n.next=9,e.offlineComponents.terminate();case 9:e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve(),n.next=18;break;case 14:n.prev=14,n.t2=n.catch(0),r=fE(n.t2,"Failed to shutdown persistence"),t.reject(r);case 18:case"end":return n.stop()}}),n,null,[[0,14]])})))),t.promise}}]),e}();function Vx(e,t){return zx.apply(this,arguments)}function zx(){return zx=He(ze().mark((function e(t,n){var r,i;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),np("FirestoreClient","Initializing OfflineComponentProvider"),e.next=3,t.getConfiguration();case 3:return r=e.sent,e.next=6,n.initialize(r);case 6:i=r.initialUser,t.setCredentialChangeListener(function(){var e=He(ze().mark((function e(t){return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=i.isEqual(t),e.t0){e.next=5;break}return e.next=4,Pb(n.localStore,t);case 4:i=t;case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),n.persistence.setDatabaseDeletedListener((function(){return t.terminate()})),t.offlineComponents=n;case 8:case"end":return e.stop()}}),e)}))),zx.apply(this,arguments)}function qx(e,t){return Gx.apply(this,arguments)}function Gx(){return Gx=He(ze().mark((function e(t,n){var r,i;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),e.next=3,Kx(t);case 3:return r=e.sent,np("FirestoreClient","Initializing OnlineComponentProvider"),e.next=7,t.getConfiguration();case 7:return i=e.sent,e.next=10,n.initialize(r,i);case 10:t.setCredentialChangeListener((function(e){return iE(n.remoteStore,e)})),t.setAppCheckTokenChangeListener((function(e,t){return iE(n.remoteStore,t)})),t.onlineComponents=n;case 13:case"end":return e.stop()}}),e)}))),Gx.apply(this,arguments)}function Kx(e){return Hx.apply(this,arguments)}function Hx(){return Hx=He(ze().mark((function e(t){return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.offlineComponents,e.t0){e.next=5;break}return np("FirestoreClient","Using default OfflineComponentProvider"),e.next=5,Vx(t,new Nx);case 5:return e.abrupt("return",t.offlineComponents);case 6:case"end":return e.stop()}}),e)}))),Hx.apply(this,arguments)}function Wx(e){return Qx.apply(this,arguments)}function Qx(){return Qx=He(ze().mark((function e(t){return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.onlineComponents,e.t0){e.next=5;break}return np("FirestoreClient","Using default OnlineComponentProvider"),e.next=5,qx(t,new Px);case 5:return e.abrupt("return",t.onlineComponents);case 6:case"end":return e.stop()}}),e)}))),Qx.apply(this,arguments)}function Jx(e){return Kx(e).then((function(e){return e.persistence}))}function Yx(e){return Kx(e).then((function(e){return e.localStore}))}function Xx(e){return Wx(e).then((function(e){return e.remoteStore}))}function $x(e){return Wx(e).then((function(e){return e.syncEngine}))}function Zx(e){return eA.apply(this,arguments)}function eA(){return eA=He(ze().mark((function e(t){var n,r;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Wx(t);case 2:return n=e.sent,r=n.eventManager,e.abrupt("return",(r.onListen=OE.bind(null,n.syncEngine),r.onUnlisten=ME.bind(null,n.syncEngine),r));case 5:case"end":return e.stop()}}),e)}))),eA.apply(this,arguments)}function tA(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new fp;return e.asyncQueue.enqueueAndForget(He(ze().mark((function i(){return ze().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var u=new Bx({next:function(u){t.enqueueAndForget((function(){return kE(e,a)}));var o=u.docs.has(n);!o&&u.fromCache?i.reject(new lp(cp.UNAVAILABLE,"Failed to get document because the client is offline.")):o&&u.fromCache&&r&&"server"===r.source?i.reject(new lp(cp.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(u)},error:function(e){return i.reject(e)}}),a=new AE(wm(n.path),u,{includeMetadataChanges:!0,Du:!0});return yE(e,a)},i.next=3,Zx(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}function nA(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new fp;return e.asyncQueue.enqueueAndForget(He(ze().mark((function i(){return ze().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var u=new Bx({next:function(n){t.enqueueAndForget((function(){return kE(e,a)})),n.fromCache&&"server"===r.source?i.reject(new lp(cp.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(e){return i.reject(e)}}),a=new AE(n,u,{includeMetadataChanges:!0,Du:!0});return yE(e,a)},i.next=3,Zx(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}var rA=new Map;function iA(e,t,n){if(!n)throw new lp(cp.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function uA(e,t,n,r){if(!0===t&&!0===r)throw new lp(cp.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))}function aA(e){if(!Np.isDocumentKey(e))throw new lp(cp.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function oA(e){if(Np.isDocumentKey(e))throw new lp(cp.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function sA(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";var t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}return"function"==typeof e?"a function":ap()}function cA(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new lp(cp.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=sA(e);throw new lp(cp.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}return e}function lA(e,t){if(t<=0)throw new lp(cp.INVALID_ARGUMENT,"Function ".concat(e,"() requires a positive number, but it was: ").concat(t,"."))}var fA=function(){function e(t){var n;if(ee(this,e),void 0===t.host){if(void 0!==t.ssl)throw new lp(cp.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(n=t.ssl)||void 0===n||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new lp(cp.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,uA("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return ne(e,[{key:"isEqual",value:function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}]),e}(),hA=function(){function e(t,n,r){ee(this,e),this._authCredentials=n,this._appCheckCredentials=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new fA({}),this._settingsFrozen=!1,t instanceof xv?this._databaseId=t:(this._app=t,this._databaseId=function(e){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new lp(cp.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new xv(e.options.projectId)}(t))}return ne(e,[{key:"app",get:function(){if(!this._app)throw new lp(cp.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}},{key:"_initialized",get:function(){return this._settingsFrozen}},{key:"_terminated",get:function(){return void 0!==this._terminateTask}},{key:"_setSettings",value:function(e){if(this._settingsFrozen)throw new lp(cp.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new fA(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new dp;switch(e.type){case"gapi":var t=e.client;return op(!("object"!=typeof t||null===t||!t.auth||!t.auth.getAuthHeaderValueForFirstParty)),new yp(t,e.sessionIndex||"0",e.iamToken||null);case"provider":return e.client;default:throw new lp(cp.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}},{key:"_getSettings",value:function(){return this._settings}},{key:"_freezeSettings",value:function(){return this._settingsFrozen=!0,this._settings}},{key:"_delete",value:function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}},{key:"toJSON",value:function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}},{key:"_terminate",value:function(){return function(e){var t=rA.get(e);t&&(np("ComponentProvider","Removing Datastore"),rA.delete(e),t.terminate())}(this),Promise.resolve()}}]),e}();function dA(e,t,n){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},u=(e=cA(e,hA))._getSettings();if("firestore.googleapis.com"!==u.host&&u.host!==t&&ip("Host has been set in both settings() and useEmulator(), emulator host will be used"),e._setSettings(Object.assign(Object.assign({},u),{host:"".concat(t,":").concat(n),ssl:!1})),i.mockUserToken){var a,o;if("string"==typeof i.mockUserToken)a=i.mockUserToken,o=$d.MOCK_USER;else{a=be(i.mockUserToken,null===(r=e._app)||void 0===r?void 0:r.options.projectId);var s=i.mockUserToken.sub||i.mockUserToken.user_id;if(!s)throw new lp(cp.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");o=new $d(s)}e._authCredentials=new pp(new hp(a,o))}}var pA=function(){function e(t,n,r){ee(this,e),this.converter=n,this._key=r,this.type="document",this.firestore=t}return ne(e,[{key:"_path",get:function(){return this._key.path}},{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"path",get:function(){return this._key.path.canonicalString()}},{key:"parent",get:function(){return new mA(this.firestore,this.converter,this._key.path.popLast())}},{key:"withConverter",value:function(t){return new e(this.firestore,t,this._key)}}]),e}(),vA=function(){function e(t,n,r){ee(this,e),this.converter=n,this._query=r,this.type="query",this.firestore=t}return ne(e,[{key:"withConverter",value:function(t){return new e(this.firestore,t,this._query)}}]),e}(),mA=function(e){ae(n,e);var t=fe(n);function n(e,r,i){var u;return ee(this,n),(u=t.call(this,e,r,wm(i)))._path=i,u.type="collection",u}return ne(n,[{key:"id",get:function(){return this._query.path.lastSegment()}},{key:"path",get:function(){return this._query.path.canonicalString()}},{key:"parent",get:function(){var e=this._path.popLast();return e.isEmpty()?null:new pA(this.firestore,null,new Np(e))}},{key:"withConverter",value:function(e){return new n(this.firestore,e,this._path)}}]),n}(vA);function yA(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=Ve(e),iA("collection","path",t),e instanceof hA){var u=Sp.fromString.apply(Sp,[t].concat(r));return oA(u),new mA(e,null,u)}if(!(e instanceof pA||e instanceof mA))throw new lp(cp.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var a=e._path.child(Sp.fromString.apply(Sp,[t].concat(r)));return oA(a),new mA(e.firestore,null,a)}function gA(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=Ve(e),1===arguments.length&&(t=wp.I()),iA("doc","path",t),e instanceof hA){var u=Sp.fromString.apply(Sp,[t].concat(r));return aA(u),new pA(e,null,new Np(u))}if(!(e instanceof pA||e instanceof mA))throw new lp(cp.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var a=e._path.child(Sp.fromString.apply(Sp,[t].concat(r)));return aA(a),new pA(e.firestore,e instanceof mA?e.converter:null,new Np(a))}function kA(e,t){return e=Ve(e),t=Ve(t),(e instanceof pA||e instanceof mA)&&(t instanceof pA||t instanceof mA)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function bA(e,t){return e=Ve(e),t=Ve(t),e instanceof vA&&t instanceof vA&&e.firestore===t.firestore&&Sm(e._query,t._query)&&e.converter===t.converter}var wA=function(){function e(){var t=this;ee(this,e),this.Oc=Promise.resolve(),this.Mc=[],this.Fc=!1,this.$c=[],this.Bc=null,this.Lc=!1,this.Uc=!1,this.qc=[],this.So=new mw(this,"async_queue_retry"),this.Kc=function(){var e=pw();e&&np("AsyncQueue","Visibility state changed to "+e.visibilityState),t.So.Eo()};var n=pw();n&&"function"==typeof n.addEventListener&&n.addEventListener("visibilitychange",this.Kc)}return ne(e,[{key:"isShuttingDown",get:function(){return this.Fc}},{key:"enqueueAndForget",value:function(e){this.enqueue(e)}},{key:"enqueueAndForgetEvenWhileRestricted",value:function(e){this.Gc(),this.Qc(e)}},{key:"enterRestrictedMode",value:function(e){if(!this.Fc){this.Fc=!0,this.Uc=e||!1;var t=pw();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Kc)}}},{key:"enqueue",value:function(e){var t=this;if(this.Gc(),this.Fc)return new Promise((function(){}));var n=new fp;return this.Qc((function(){return t.Fc&&t.Uc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)})).then((function(){return n.promise}))}},{key:"enqueueRetryable",value:function(e){var t=this;this.enqueueAndForget((function(){return t.Mc.push(e),t.jc()}))}},{key:"jc",value:function(){var e=He(ze().mark((function e(){var t=this;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0===this.Mc.length){e.next=14;break}return e.prev=1,e.next=4,this.Mc[0]();case 4:this.Mc.shift(),this.So.reset(),e.next=13;break;case 8:if(e.prev=8,e.t0=e.catch(1),Yp(e.t0)){e.next=12;break}throw e.t0;case 12:np("AsyncQueue","Operation failed with retryable error: "+e.t0);case 13:this.Mc.length>0&&this.So.Io((function(){return t.jc()}));case 14:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"Qc",value:function(e){var t=this,n=this.Oc.then((function(){return t.Lc=!0,e().catch((function(e){t.Bc=e,t.Lc=!1;var n=function(e){var t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw rp("INTERNAL UNHANDLED ERROR: ",n),e})).then((function(e){return t.Lc=!1,e}))}));return this.Oc=n,n}},{key:"enqueueAfterDelay",value:function(e,t,n){var r=this;this.Gc(),this.qc.indexOf(e)>-1&&(t=0);var i=lE.createAndSchedule(this,e,t,n,(function(e){return r.Wc(e)}));return this.$c.push(i),i}},{key:"Gc",value:function(){this.Bc&&ap()}},{key:"verifyOperationInProgress",value:function(){}},{key:"zc",value:function(){var e=He(ze().mark((function e(){var t;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.Oc,e.next=3,t;case 3:if(t!==this.Oc){e.next=0;break}case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Hc",value:function(e){var t,n=re(this.$c);try{for(n.s();!(t=n.n()).done;){if(t.value.timerId===e)return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"Jc",value:function(e){var t=this;return this.zc().then((function(){t.$c.sort((function(e,t){return e.targetTimeMs-t.targetTimeMs}));var n,r=re(t.$c);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i.skipDelay(),"all"!==e&&i.timerId===e)break}}catch(u){r.e(u)}finally{r.f()}return t.zc()}))}},{key:"Yc",value:function(e){this.qc.push(e)}},{key:"Wc",value:function(e){var t=this.$c.indexOf(e);this.$c.splice(t,1)}}]),e}();function EA(e){return function(e,t){if("object"!=typeof e||null===e)return!1;var n,r=e,i=re(["next","error","complete"]);try{for(i.s();!(n=i.n()).done;){var u=n.value;if(u in r&&"function"==typeof r[u])return!0}}catch(a){i.e(a)}finally{i.f()}return!1}(e)}var xA=function(){function e(){ee(this,e),this._progressObserver={},this._taskCompletionResolver=new fp,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}return ne(e,[{key:"onProgress",value:function(e,t,n){this._progressObserver={next:e,error:t,complete:n}}},{key:"catch",value:function(e){return this._taskCompletionResolver.promise.catch(e)}},{key:"then",value:function(e,t){return this._taskCompletionResolver.promise.then(e,t)}},{key:"_completeWith",value:function(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}},{key:"_failWith",value:function(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}},{key:"_updateProgress",value:function(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}]),e}(),AA=function(e){ae(n,e);var t=fe(n);function n(e,r,i){var u;return ee(this,n),(u=t.call(this,e,r,i)).type="firestore",u._queue=new wA,u._persistenceKey="name"in e?e.name:"[DEFAULT]",u}return ne(n,[{key:"_terminate",value:function(){return this._firestoreClient||CA(this),this._firestoreClient.terminate()}}]),n}(hA);function _A(e){return e._firestoreClient||CA(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function CA(e){var t,n=e._freezeSettings(),r=function(e,t,n,r){return new Ev(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,n);e._firestoreClient=new Ux(e._authCredentials,e._appCheckCredentials,e._queue,r)}function IA(e,t,n){var r=new fp;return e.asyncQueue.enqueue(He(ze().mark((function i(){var u;return ze().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,Vx(e,n);case 3:return i.next=5,qx(e,t);case 5:r.resolve(),i.next=14;break;case 8:if(i.prev=8,i.t0=i.catch(0),function(e){return"FirebaseError"===e.name?e.code===cp.FAILED_PRECONDITION||e.code===cp.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||(22===e.code||20===e.code||11===e.code)}(u=i.t0)){i.next=13;break}throw u;case 13:console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+u),r.reject(u);case 14:case"end":return i.stop()}}),i,null,[[0,8]])})))).then((function(){return r.promise}))}function SA(e){return function(e){return e.asyncQueue.enqueue(He(ze().mark((function t(){var n,r;return ze().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Jx(e);case 2:return n=t.sent,t.next=5,Xx(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!0),function(e){var t=sp(e);return t.lu.delete(0),xw(t)}(r)));case 7:case"end":return t.stop()}}),t)}))))}(_A(e=cA(e,AA)))}function TA(e){return function(e){return e.asyncQueue.enqueue(He(ze().mark((function t(){var n,r;return ze().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Jx(e);case 2:return n=t.sent,t.next=5,Xx(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!1),function(){var e=He(ze().mark((function e(t){var n;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=sp(t)).lu.add(0),e.next=4,_w(n);case 4:n._u.set("Offline");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(r)));case 7:case"end":return t.stop()}}),t)}))))}(_A(e=cA(e,AA)))}function DA(e,t){var n=_A(e=cA(e,AA)),r=new xA;return function(e,t,n,r){var i=function(e,t){return function(e,t){return new Lx(e,t)}(function(e,t){if(e instanceof Uint8Array)return Ox(e,t);if(e instanceof ArrayBuffer)return Ox(new Uint8Array(e),t);if(e instanceof ReadableStream)return e.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}("string"==typeof e?(new TextEncoder).encode(e):e),t)}(n,vw(t));e.asyncQueue.enqueueAndForget(He(ze().mark((function t(){return ze().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=Dx,t.next=3,$x(e);case 3:t.t1=t.sent,t.t2=i,t.t3=r,(0,t.t0)(t.t1,t.t2,t.t3);case 7:case"end":return t.stop()}}),t)}))))}(n,e._databaseId,t,r),r}function NA(e,t){return function(e,t){return e.asyncQueue.enqueue(He(ze().mark((function n(){return ze().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=function(e,t){var n=sp(e);return n.persistence.runTransaction("Get named query","readonly",(function(e){return n.Ds.getNamedQuery(e,t)}))},n.next=3,Yx(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)}))))}(_A(e=cA(e,AA)),t).then((function(t){return t?new vA(e,null,t.query):null}))}function FA(e){if(e._initialized||e._terminated)throw new lp(cp.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var RA=function(){function e(){ee(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0;i<n.length;++i)if(0===n[i].length)throw new lp(cp.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Dp(n)}return ne(e,[{key:"isEqual",value:function(e){return this._internalPath.isEqual(e._internalPath)}}]),e}();var PA=function(){function e(t){ee(this,e),this._byteString=t}return ne(e,[{key:"toBase64",value:function(){return this._byteString.toBase64()}},{key:"toUint8Array",value:function(){return this._byteString.toUint8Array()}},{key:"toString",value:function(){return"Bytes(base64: "+this.toBase64()+")"}},{key:"isEqual",value:function(e){return this._byteString.isEqual(e._byteString)}}],[{key:"fromBase64String",value:function(t){try{return new e(pv.fromBase64String(t))}catch(t){throw new lp(cp.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}},{key:"fromUint8Array",value:function(t){return new e(pv.fromUint8Array(t))}}]),e}(),OA=ne((function e(t){ee(this,e),this._methodName=t})),BA=function(){function e(t,n){if(ee(this,e),!isFinite(t)||t<-90||t>90)throw new lp(cp.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new lp(cp.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}return ne(e,[{key:"latitude",get:function(){return this._lat}},{key:"longitude",get:function(){return this._long}},{key:"isEqual",value:function(e){return this._lat===e._lat&&this._long===e._long}},{key:"toJSON",value:function(){return{latitude:this._lat,longitude:this._long}}},{key:"_compareTo",value:function(e){return Ep(this._lat,e._lat)||Ep(this._long,e._long)}}]),e}(),LA=/^__.*__$/,jA=function(){function e(t,n,r){ee(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return ne(e,[{key:"toMutation",value:function(e,t){return null!==this.fieldMask?new oy(e,this.data,this.fieldMask,t,this.fieldTransforms):new ay(e,this.data,t,this.fieldTransforms)}}]),e}(),MA=function(){function e(t,n,r){ee(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return ne(e,[{key:"toMutation",value:function(e,t){return new oy(e,this.data,this.fieldMask,t,this.fieldTransforms)}}]),e}();function UA(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ap()}}var VA=function(){function e(t,n,r,i,u,a){ee(this,e),this.settings=t,this.databaseId=n,this.wt=r,this.ignoreUndefinedProperties=i,void 0===u&&this.Xc(),this.fieldTransforms=u||[],this.fieldMask=a||[]}return ne(e,[{key:"path",get:function(){return this.settings.path}},{key:"Zc",get:function(){return this.settings.Zc}},{key:"ta",value:function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.wt,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}},{key:"ea",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.ta({path:n,na:!1});return r.sa(e),r}},{key:"ia",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.ta({path:n,na:!1});return r.Xc(),r}},{key:"ra",value:function(e){return this.ta({path:void 0,na:!0})}},{key:"oa",value:function(e){return o_(e,this.settings.methodName,this.settings.ua||!1,this.path,this.settings.ca)}},{key:"contains",value:function(e){return void 0!==this.fieldMask.find((function(t){return e.isPrefixOf(t)}))||void 0!==this.fieldTransforms.find((function(t){return e.isPrefixOf(t.field)}))}},{key:"Xc",value:function(){if(this.path)for(var e=0;e<this.path.length;e++)this.sa(this.path.get(e))}},{key:"sa",value:function(e){if(0===e.length)throw this.oa("Document fields must not be empty");if(UA(this.Zc)&&LA.test(e))throw this.oa('Document fields cannot begin and end with "__"')}}]),e}(),zA=function(){function e(t,n,r){ee(this,e),this.databaseId=t,this.ignoreUndefinedProperties=n,this.wt=r||vw(t)}return ne(e,[{key:"aa",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new VA({Zc:e,methodName:t,ca:n,path:Dp.emptyPath(),na:!1,ua:r},this.databaseId,this.wt,this.ignoreUndefinedProperties)}}]),e}();function qA(e){var t=e._freezeSettings(),n=vw(e._databaseId);return new zA(e._databaseId,!!t.ignoreUndefinedProperties,n)}function GA(e,t,n,r,i){var u=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},a=e.aa(u.merge||u.mergeFields?2:0,t,n,i);r_("Data must be an object, but it was:",a,r);var o,s,c=t_(r,a);if(u.merge)o=new dv(a.fieldMask),s=a.fieldTransforms;else if(u.mergeFields){var l,f=[],h=re(u.mergeFields);try{for(h.s();!(l=h.n()).done;){var d=l.value,p=i_(t,d,n);if(!a.contains(p))throw new lp(cp.INVALID_ARGUMENT,"Field '".concat(p,"' is specified in your field mask but missing from your input data."));s_(f,p)||f.push(p)}}catch(v){h.e(v)}finally{h.f()}o=new dv(f),s=a.fieldTransforms.filter((function(e){return o.covers(e.field)}))}else o=null,s=a.fieldTransforms;return new jA(new Qv(c),o,s)}var KA=function(e){ae(n,e);var t=fe(n);function n(){return ee(this,n),t.apply(this,arguments)}return ne(n,[{key:"_toFieldTransform",value:function(e){if(2!==e.Zc)throw 1===e.Zc?e.oa("".concat(this._methodName,"() can only appear at the top level of your update data")):e.oa("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(OA);function HA(e,t,n){return new VA({Zc:3,ca:t.settings.ca,methodName:e._methodName,na:n},t.databaseId,t.wt,t.ignoreUndefinedProperties)}var WA=function(e){ae(n,e);var t=fe(n);function n(){return ee(this,n),t.apply(this,arguments)}return ne(n,[{key:"_toFieldTransform",value:function(e){return new Ym(e.path,new zm)}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(OA),QA=function(e){ae(n,e);var t=fe(n);function n(e,r){var i;return ee(this,n),(i=t.call(this,e)).ha=r,i}return ne(n,[{key:"_toFieldTransform",value:function(e){var t=HA(this,e,!0),n=this.ha.map((function(e){return e_(e,t)})),r=new qm(n);return new Ym(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(OA),JA=function(e){ae(n,e);var t=fe(n);function n(e,r){var i;return ee(this,n),(i=t.call(this,e)).ha=r,i}return ne(n,[{key:"_toFieldTransform",value:function(e){var t=HA(this,e,!0),n=this.ha.map((function(e){return e_(e,t)})),r=new Km(n);return new Ym(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(OA),YA=function(e){ae(n,e);var t=fe(n);function n(e,r){var i;return ee(this,n),(i=t.call(this,e)).la=r,i}return ne(n,[{key:"_toFieldTransform",value:function(e){var t=new Wm(e.wt,Lm(e.wt,this.la));return new Ym(e.path,t)}},{key:"isEqual",value:function(e){return this===e}}]),n}(OA);function XA(e,t,n,r){var i=e.aa(1,t,n);r_("Data must be an object, but it was:",i,r);var u=[],a=Qv.empty();uv(r,(function(e,r){var o=a_(t,e,n);r=Ve(r);var s=i.ia(o);if(r instanceof KA)u.push(o);else{var c=e_(r,s);null!=c&&(u.push(o),a.set(o,c))}}));var o=new dv(u);return new MA(a,o,i.fieldTransforms)}function $A(e,t,n,r,i,u){var a=e.aa(1,t,n),o=[i_(t,r,n)],s=[i];if(u.length%2!=0)throw new lp(cp.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(var c=0;c<u.length;c+=2)o.push(i_(t,u[c])),s.push(u[c+1]);for(var l=[],f=Qv.empty(),h=o.length-1;h>=0;--h)if(!s_(l,o[h])){var d=o[h],p=s[h];p=Ve(p);var v=a.ia(d);if(p instanceof KA)l.push(d);else{var m=e_(p,v);null!=m&&(l.push(d),f.set(d,m))}}var y=new dv(l);return new MA(f,y,a.fieldTransforms)}function ZA(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return e_(n,e.aa(r?4:3,t))}function e_(e,t){if(n_(e=Ve(e)))return r_("Unsupported field value:",t,e),t_(e,t);if(e instanceof OA)return function(e,t){if(!UA(t.Zc))throw t.oa("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.oa("".concat(e._methodName,"() is not currently supported inside arrays"));var n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.na&&4!==t.Zc)throw t.oa("Nested arrays are not supported");return function(e,t){var n,r=[],i=0,u=re(e);try{for(u.s();!(n=u.n()).done;){var a=e_(n.value,t.ra(i));null==a&&(a={nullValue:"NULL_VALUE"}),r.push(a),i++}}catch(o){u.e(o)}finally{u.f()}return{arrayValue:{values:r}}}(e,t)}return function(e,t){if(null===(e=Ve(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return Lm(t.wt,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){var n=_p.fromDate(e);return{timestampValue:Gy(t.wt,n)}}if(e instanceof _p){var r=new _p(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:Gy(t.wt,r)}}if(e instanceof BA)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof PA)return{bytesValue:Ky(t.wt,e._byteString)};if(e instanceof pA){var i=t.databaseId,u=e.firestore._databaseId;if(!u.isEqual(i))throw t.oa("Document reference is for database ".concat(u.projectId,"/").concat(u.database," but should be for database ").concat(i.projectId,"/").concat(i.database));return{referenceValue:Qy(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.oa("Unsupported field value: ".concat(sA(e)))}(e,t)}function t_(e,t){var n={};return av(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):uv(e,(function(e,r){var i=e_(r,t.ea(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function n_(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof _p||e instanceof BA||e instanceof PA||e instanceof pA||e instanceof OA)}function r_(e,t,n){if(!n_(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){var r=sA(n);throw"an object"===r?t.oa(e+" a custom object"):t.oa(e+" "+r)}}function i_(e,t,n){if((t=Ve(t))instanceof RA)return t._internalPath;if("string"==typeof t)return a_(e,t);throw o_("Field path arguments must be of type string or ",e,!1,void 0,n)}var u_=new RegExp("[~\\*/\\[\\]]");function a_(e,t,n){if(t.search(u_)>=0)throw o_("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return he(RA,Ge(t.split(".")))._internalPath}catch(r){throw o_("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function o_(e,t,n,r,i){var u=r&&!r.isEmpty(),a=void 0!==i,o="Function ".concat(t,"() called with invalid data");n&&(o+=" (via `toFirestore()`)"),o+=". ";var s="";return(u||a)&&(s+=" (found",u&&(s+=" in field ".concat(r)),a&&(s+=" in document ".concat(i)),s+=")"),new lp(cp.INVALID_ARGUMENT,o+e+s)}function s_(e,t){return e.some((function(e){return e.isEqual(t)}))}var c_=function(){function e(t,n,r,i,u){ee(this,e),this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=u}return ne(e,[{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"ref",get:function(){return new pA(this._firestore,this._converter,this._key)}},{key:"exists",value:function(){return null!==this._document}},{key:"data",value:function(){if(this._document){if(this._converter){var e=new l_(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}},{key:"get",value:function(e){if(this._document){var t=this._document.data.field(f_("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}]),e}(),l_=function(e){ae(n,e);var t=fe(n);function n(){return ee(this,n),t.apply(this,arguments)}return ne(n,[{key:"data",value:function(){return wn(oe(n.prototype),"data",this).call(this)}}]),n}(c_);function f_(e,t){return"string"==typeof t?a_(e,t):t instanceof RA?t._internalPath:t._delegate._internalPath}var h_=function(){function e(t,n){ee(this,e),this.hasPendingWrites=t,this.fromCache=n}return ne(e,[{key:"isEqual",value:function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}]),e}(),d_=function(e){ae(n,e);var t=fe(n);function n(e,r,i,u,a,o){var s;return ee(this,n),(s=t.call(this,e,r,i,u,o))._firestore=e,s._firestoreImpl=e,s.metadata=a,s}return ne(n,[{key:"exists",value:function(){return wn(oe(n.prototype),"exists",this).call(this)}},{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){var t=new p_(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){var n=this._document.data.field(f_("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}]),n}(c_),p_=function(e){ae(n,e);var t=fe(n);function n(){return ee(this,n),t.apply(this,arguments)}return ne(n,[{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return wn(oe(n.prototype),"data",this).call(this,e)}}]),n}(d_),v_=function(){function e(t,n,r,i){ee(this,e),this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new h_(i.hasPendingWrites,i.fromCache),this.query=r}return ne(e,[{key:"docs",get:function(){var e=[];return this.forEach((function(t){return e.push(t)})),e}},{key:"size",get:function(){return this._snapshot.docs.size}},{key:"empty",get:function(){return 0===this.size}},{key:"forEach",value:function(e,t){var n=this;this._snapshot.docs.forEach((function(r){e.call(t,new p_(n._firestore,n._userDataWriter,r.key,r,new h_(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))}))}},{key:"docChanges",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new lp(cp.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){var n=0;return e._snapshot.docChanges.map((function(t){return{type:"added",doc:new p_(e._firestore,e._userDataWriter,t.doc.key,t.doc,new h_(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),oldIndex:-1,newIndex:n++}}))}var r=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((function(e){return t||3!==e.type})).map((function(t){var n=new p_(e._firestore,e._userDataWriter,t.doc.key,t.doc,new h_(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),i=-1,u=-1;return 0!==t.type&&(i=r.indexOf(t.doc.key),r=r.delete(t.doc.key)),1!==t.type&&(u=(r=r.add(t.doc)).indexOf(t.doc.key)),{type:m_(t.type),doc:n,oldIndex:i,newIndex:u}}))}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}]),e}();function m_(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ap()}}function y_(e,t){return e instanceof d_&&t instanceof d_?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof v_&&t instanceof v_&&e._firestore===t._firestore&&bA(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}function g_(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new lp(cp.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var k_=ne((function e(){ee(this,e)}));function b_(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(var i=0,u=n;i<u.length;i++){var a=u[i];e=a._apply(e)}return e}var w_=function(e){ae(n,e);var t=fe(n);function n(e,r,i){var u;return ee(this,n),(u=t.call(this)).fa=e,u.da=r,u._a=i,u.type="where",u}return ne(n,[{key:"_apply",value:function(e){var t=qA(e.firestore),n=function(e,t,n,r,i,u,a){var o;if(i.isKeyField()){if("array-contains"===u||"array-contains-any"===u)throw new lp(cp.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(u,"' queries on documentId()."));if("in"===u||"not-in"===u){F_(a,u);var s,c=[],l=re(a);try{for(l.s();!(s=l.n()).done;){var f=s.value;c.push(N_(r,e,f))}}catch(d){l.e(d)}finally{l.f()}o={arrayValue:{values:c}}}else o=N_(r,e,a)}else"in"!==u&&"not-in"!==u&&"array-contains-any"!==u||F_(a,u),o=ZA(n,"where",a,"in"===u||"not-in"===u);var h=um.create(i,u,o);return function(e,t){if(t.ht()){var n=xm(e);if(null!==n&&!n.isEqual(t.field))throw new lp(cp.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '".concat(n.toString(),"' and '").concat(t.field.toString(),"'"));var r=Em(e);null!==r&&R_(e,t.field,r)}var i=function(e,t){var n,r=re(e.filters);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(t.indexOf(i.op)>=0)return i.op}}catch(d){r.e(d)}finally{r.f()}return null}(e,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==i)throw i===t.op?new lp(cp.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new lp(cp.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(i.toString(),"' filters."))}(e,h),h}(e._query,0,t,e.firestore._databaseId,this.fa,this.da,this._a);return new vA(e.firestore,e.converter,function(e,t){var n=e.filters.concat([t]);return new km(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}(e._query,n))}}]),n}(k_);var E_=function(e){ae(n,e);var t=fe(n);function n(e,r){var i;return ee(this,n),(i=t.call(this)).fa=e,i.wa=r,i.type="orderBy",i}return ne(n,[{key:"_apply",value:function(e){var t=function(e,t,n){if(null!==e.startAt)throw new lp(cp.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new lp(cp.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new vm(t,n);return function(e,t){if(null===Em(e)){var n=xm(e);null!==n&&R_(e,n,t.field)}}(e,r),r}(e._query,this.fa,this.wa);return new vA(e.firestore,e.converter,function(e,t){var n=e.explicitOrderBy.concat([t]);return new km(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}]),n}(k_);var x_=function(e){ae(n,e);var t=fe(n);function n(e,r,i){var u;return ee(this,n),(u=t.call(this)).type=e,u.ma=r,u.ga=i,u}return ne(n,[{key:"_apply",value:function(e){return new vA(e.firestore,e.converter,Im(e._query,this.ma,this.ga))}}]),n}(k_);var A_=function(e){ae(n,e);var t=fe(n);function n(e,r,i){var u;return ee(this,n),(u=t.call(this)).type=e,u.ya=r,u.pa=i,u}return ne(n,[{key:"_apply",value:function(e){var t=D_(e,this.type,this.ya,this.pa);return new vA(e.firestore,e.converter,function(e,t){return new km(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))}}]),n}(k_);function __(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new A_("startAt",t,!0)}function C_(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new A_("startAfter",t,!1)}var I_=function(e){ae(n,e);var t=fe(n);function n(e,r,i){var u;return ee(this,n),(u=t.call(this)).type=e,u.ya=r,u.pa=i,u}return ne(n,[{key:"_apply",value:function(e){var t=D_(e,this.type,this.ya,this.pa);return new vA(e.firestore,e.converter,function(e,t){return new km(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}(e._query,t))}}]),n}(k_);function S_(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new I_("endBefore",t,!1)}function T_(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new I_("endAt",t,!0)}function D_(e,t,n,r){if(n[0]=Ve(n[0]),n[0]instanceof c_)return function(e,t,n,r,i){if(!r)throw new lp(cp.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for ".concat(n,"()."));var u,a=[],o=re(_m(e));try{for(o.s();!(u=o.n()).done;){var s=u.value;if(s.field.isKeyField())a.push(Bv(t,r.key));else{var c=r.data.field(s.field);if(kv(c))throw new lp(cp.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+s.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=s.field.canonicalString();throw new lp(cp.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '".concat(l,"' (used as the orderBy) does not exist."))}a.push(c)}}}catch(f){o.e(f)}finally{o.f()}return new pm(a,i)}(e._query,e.firestore._databaseId,t,n[0]._document,r);var i=qA(e.firestore);return function(e,t,n,r,i,u){var a=e.explicitOrderBy;if(i.length>a.length)throw new lp(cp.INVALID_ARGUMENT,"Too many arguments provided to ".concat(r,"(). The number of arguments must be less than or equal to the number of orderBy() clauses"));for(var o=[],s=0;s<i.length;s++){var c=i[s];if(a[s].field.isKeyField()){if("string"!=typeof c)throw new lp(cp.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in ".concat(r,"(), but got a ").concat(typeof c));if(!Am(e)&&-1!==c.indexOf("/"))throw new lp(cp.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by documentId(), the value passed to ".concat(r,"() must be a plain document ID, but '").concat(c,"' contains a slash."));var l=e.path.child(Sp.fromString(c));if(!Np.isDocumentKey(l))throw new lp(cp.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by documentId(), the value passed to ".concat(r,"() must result in a valid document path, but '").concat(l,"' is not because it contains an odd number of segments."));var f=new Np(l);o.push(Bv(t,f))}else{var h=ZA(n,r,c);o.push(h)}}return new pm(o,u)}(e._query,e.firestore._databaseId,i,t,n,r)}function N_(e,t,n){if("string"==typeof(n=Ve(n))){if(""===n)throw new lp(cp.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Am(t)&&-1!==n.indexOf("/"))throw new lp(cp.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));var r=t.path.child(Sp.fromString(n));if(!Np.isDocumentKey(r))throw new lp(cp.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return Bv(e,new Np(r))}if(n instanceof pA)return Bv(e,n._key);throw new lp(cp.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(sA(n),"."))}function F_(e,t){if(!Array.isArray(e)||0===e.length)throw new lp(cp.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."));if(e.length>10)throw new lp(cp.INVALID_ARGUMENT,"Invalid Query. '".concat(t.toString(),"' filters support a maximum of 10 elements in the value array."))}function R_(e,t,n){if(!n.isEqual(t))throw new lp(cp.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '".concat(t.toString(),"' and so you must also use '").concat(t.toString(),"' as your first argument to orderBy(), but your first orderBy() is on field '").concat(n.toString(),"' instead."))}var P_={maxAttempts:5},O_=function(){function e(){ee(this,e)}return ne(e,[{key:"convertValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(Tv(e)){case 0:return null;case 1:return e.booleanValue;case 2:return yv(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(gv(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw ap()}}},{key:"convertObject",value:function(e,t){var n=this,r={};return uv(e.fields,(function(e,i){r[e]=n.convertValue(i,t)})),r}},{key:"convertGeoPoint",value:function(e){return new BA(yv(e.latitude),yv(e.longitude))}},{key:"convertArray",value:function(e,t){var n=this;return(e.values||[]).map((function(e){return n.convertValue(e,t)}))}},{key:"convertServerTimestamp",value:function(e,t){switch(t){case"previous":var n=bv(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(wv(e));default:return null}}},{key:"convertTimestamp",value:function(e){var t=mv(e);return new _p(t.seconds,t.nanos)}},{key:"convertDocumentKey",value:function(e,t){var n=Sp.fromString(e);op(gg(n));var r=new xv(n.get(1),n.get(3)),i=new Np(n.popFirst(5));return r.isEqual(t)||rp("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}]),e}();function B_(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var L_=function(e){ae(n,e);var t=fe(n);function n(e){var r;return ee(this,n),(r=t.call(this)).firestore=e,r}return ne(n,[{key:"convertBytes",value:function(e){return new PA(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new pA(this.firestore,null,t)}}]),n}(O_),j_=function(){function e(t,n){ee(this,e),this._firestore=t,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=qA(t)}return ne(e,[{key:"set",value:function(e,t,n){this._verifyNotCommitted();var r=M_(e,this._firestore),i=B_(r.converter,t,n),u=GA(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(u.toMutation(r._key,$m.none())),this}},{key:"update",value:function(e,t,n){this._verifyNotCommitted();for(var r,i=M_(e,this._firestore),u=arguments.length,a=new Array(u>3?u-3:0),o=3;o<u;o++)a[o-3]=arguments[o];return r="string"==typeof(t=Ve(t))||t instanceof RA?$A(this._dataReader,"WriteBatch.update",i._key,t,n,a):XA(this._dataReader,"WriteBatch.update",i._key,t),this._mutations.push(r.toMutation(i._key,$m.exists(!0))),this}},{key:"delete",value:function(e){this._verifyNotCommitted();var t=M_(e,this._firestore);return this._mutations=this._mutations.concat(new dy(t._key,$m.none())),this}},{key:"commit",value:function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}},{key:"_verifyNotCommitted",value:function(){if(this._committed)throw new lp(cp.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}]),e}();function M_(e,t){if((e=Ve(e)).firestore!==t)throw new lp(cp.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}var U_=function(e){ae(n,e);var t=fe(n);function n(e){var r;return ee(this,n),(r=t.call(this)).firestore=e,r}return ne(n,[{key:"convertBytes",value:function(e){return new PA(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new pA(this.firestore,null,t)}}]),n}(O_);function V_(e){e=cA(e,pA);var t=cA(e.firestore,AA),n=_A(t),r=new U_(t);return function(e,t){var n=new fp;return e.asyncQueue.enqueueAndForget(He(ze().mark((function r(){return ze().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=He(ze().mark((function e(t,n,r){var i,u;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,function(e,t){var n=sp(e);return n.persistence.runTransaction("read document","readonly",(function(e){return n.localDocuments.getDocument(e,t)}))}(t,n);case 3:(i=e.sent).isFoundDocument()?r.resolve(i):i.isNoDocument()?r.resolve(null):r.reject(new lp(cp.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),u=fE(e.t0,"Failed to get document '".concat(n," from cache")),r.reject(u);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,Yx(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._key).then((function(n){return new d_(t,r,e._key,n,new h_(null!==n&&n.hasLocalMutations,!0),e.converter)}))}function z_(e){e=cA(e,vA);var t=cA(e.firestore,AA),n=_A(t),r=new U_(t);return function(e,t){var n=new fp;return e.asyncQueue.enqueueAndForget(He(ze().mark((function r(){return ze().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=He(ze().mark((function e(t,n,r){var i,u,a,o,s;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Gb(t,n,!0);case 3:i=e.sent,u=new NE(n,i.ji),a=u.Ku(i.documents),o=u.applyChanges(a,!1),r.resolve(o.snapshot),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),s=fE(e.t0,"Failed to execute query '".concat(n," against cache")),r.reject(s);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,Yx(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._query).then((function(n){return new v_(t,r,e,n)}))}function q_(e,t,n){e=cA(e,pA);var r=cA(e.firestore,AA),i=B_(e.converter,t,n);return W_(r,[GA(qA(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,$m.none())])}function G_(e,t,n){e=cA(e,pA);for(var r=cA(e.firestore,AA),i=qA(r),u=arguments.length,a=new Array(u>3?u-3:0),o=3;o<u;o++)a[o-3]=arguments[o];return W_(r,[("string"==typeof(t=Ve(t))||t instanceof RA?$A(i,"updateDoc",e._key,t,n,a):XA(i,"updateDoc",e._key,t)).toMutation(e._key,$m.exists(!0))])}function K_(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i,u,a;e=Ve(e);var o={includeMetadataChanges:!1},s=0;"object"!=typeof n[s]||EA(n[s])||(o=n[s],s++);var c,l,f,h={includeMetadataChanges:o.includeMetadataChanges};if(EA(n[s])){var d=n[s];n[s]=null===(i=d.next)||void 0===i?void 0:i.bind(d),n[s+1]=null===(u=d.error)||void 0===u?void 0:u.bind(d),n[s+2]=null===(a=d.complete)||void 0===a?void 0:a.bind(d)}if(e instanceof pA)l=cA(e.firestore,AA),f=wm(e._key.path),c={next:function(t){n[s]&&n[s](Q_(l,e,t))},error:n[s+1],complete:n[s+2]};else{var p=cA(e,vA);l=cA(p.firestore,AA),f=p._query;var v=new U_(l);c={next:function(e){n[s]&&n[s](new v_(l,v,p,e))},error:n[s+1],complete:n[s+2]},g_(e._query)}return function(e,t,n,r){var i=new Bx(r),u=new AE(t,i,n);return e.asyncQueue.enqueueAndForget(He(ze().mark((function t(){return ze().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=yE,t.next=3,Zx(e);case 3:return t.t1=t.sent,t.t2=u,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){i.Tc(),e.asyncQueue.enqueueAndForget(He(ze().mark((function t(){return ze().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=kE,t.next=3,Zx(e);case 3:return t.t1=t.sent,t.t2=u,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(_A(l),f,h,c)}function H_(e,t){return function(e,t){var n=new Bx(t);return e.asyncQueue.enqueueAndForget(He(ze().mark((function t(){return ze().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){sp(e).Tu.add(t),t.next()},t.next=3,Zx(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){n.Tc(),e.asyncQueue.enqueueAndForget(He(ze().mark((function t(){return ze().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){sp(e).Tu.delete(t)},t.next=3,Zx(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(_A(e=cA(e,AA)),EA(t)?t:{next:t})}function W_(e,t){return function(e,t){var n=new fp;return e.asyncQueue.enqueueAndForget(He(ze().mark((function r(){return ze().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=VE,r.next=3,$x(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(_A(e),t)}function Q_(e,t,n){var r=n.docs.get(t._key),i=new U_(e);return new d_(e,i,t._key,r,new h_(n.hasPendingWrites,n.fromCache),t.converter)}var J_=function(e){ae(n,e);var t=fe(n);function n(e,r){var i;return ee(this,n),(i=t.call(this,e,r))._firestore=e,i}return ne(n,[{key:"get",value:function(e){var t=this,r=M_(e,this._firestore),i=new U_(this._firestore);return wn(oe(n.prototype),"get",this).call(this,e).then((function(e){return new d_(t._firestore,i,r._key,e._document,new h_(!1,!1),r.converter)}))}}]),n}(function(){function e(t,n){ee(this,e),this._firestore=t,this._transaction=n,this._dataReader=qA(t)}return ne(e,[{key:"get",value:function(e){var t=this,n=M_(e,this._firestore),r=new L_(this._firestore);return this._transaction.lookup([n._key]).then((function(e){if(!e||1!==e.length)return ap();var i=e[0];if(i.isFoundDocument())return new c_(t._firestore,r,i.key,i,n.converter);if(i.isNoDocument())return new c_(t._firestore,r,n._key,null,n.converter);throw ap()}))}},{key:"set",value:function(e,t,n){var r=M_(e,this._firestore),i=B_(r.converter,t,n),u=GA(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,u),this}},{key:"update",value:function(e,t,n){for(var r,i=M_(e,this._firestore),u=arguments.length,a=new Array(u>3?u-3:0),o=3;o<u;o++)a[o-3]=arguments[o];return r="string"==typeof(t=Ve(t))||t instanceof RA?$A(this._dataReader,"Transaction.update",i._key,t,n,a):XA(this._dataReader,"Transaction.update",i._key,t),this._transaction.update(i._key,r),this}},{key:"delete",value:function(e){var t=M_(e,this._firestore);return this._transaction.delete(t._key),this}}]),e}());function Y_(e,t,n){e=cA(e,AA);var r=Object.assign(Object.assign({},P_),n);return function(e){if(e.maxAttempts<1)throw new lp(cp.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(e,t,n){var r=new fp;return e.asyncQueue.enqueueAndForget(He(ze().mark((function i(){var u;return ze().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,function(e){return Wx(e).then((function(e){return e.datastore}))}(e);case 2:u=i.sent,new Mx(e.asyncQueue,u,n,t,r).run();case 4:case"end":return i.stop()}}),i)})))),r.promise}(_A(e),(function(n){return t(new J_(e,n))}),r)}function X_(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new QA("arrayUnion",t)}function $_(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new JA("arrayRemove",t)}!function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){Zd=e}(zt),Ot(new We("firestore",(function(e,n){var r=n.options,i=e.getProvider("app").getImmediate(),u=new AA(i,new vp(e.getProvider("auth-internal")),new kp(e.getProvider("app-check-internal")));return r=Object.assign({useFetchStreams:t},r),u._setSettings(r),u}),"PUBLIC")),Qt(Xd,"3.4.13",e),Qt(Xd,"3.4.13","esm2017")}();function Z_(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new lp("invalid-argument","Invalid options passed to function ".concat(e,"(): You cannot ")+'specify both "merge" and "mergeFields".');return t}function eC(){if("undefined"===typeof Uint8Array)throw new lp("unimplemented","Uint8Arrays are not available in this environment.")}function tC(){if("undefined"==typeof atob)throw new lp("unimplemented","Blobs are unavailable in Firestore in this environment.")}var nC=function(){function e(t){ee(this,e),this._delegate=t}return ne(e,[{key:"toBase64",value:function(){return tC(),this._delegate.toBase64()}},{key:"toUint8Array",value:function(){return eC(),this._delegate.toUint8Array()}},{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}},{key:"toString",value:function(){return"Blob(base64: "+this.toBase64()+")"}}],[{key:"fromBase64String",value:function(t){return tC(),new e(PA.fromBase64String(t))}},{key:"fromUint8Array",value:function(t){return eC(),new e(PA.fromUint8Array(t))}}]),e}();function rC(e){return function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=e,i=re(t);try{for(i.s();!(n=i.n()).done;){var u=n.value;if(u in r&&"function"===typeof r[u])return!0}}catch(a){i.e(a)}finally{i.f()}return!1}(e,["next","error","complete"])}var iC=function(){function e(){ee(this,e)}return ne(e,[{key:"enableIndexedDbPersistence",value:function(e,t){return function(e,t){FA(e=cA(e,AA));var n=_A(e),r=e._freezeSettings(),i=new Px;return IA(n,i,new Fx(i,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(e._delegate,{forceOwnership:t})}},{key:"enableMultiTabIndexedDbPersistence",value:function(e){return function(e){FA(e=cA(e,AA));var t=_A(e),n=e._freezeSettings(),r=new Px;return IA(t,r,new Rx(r,n.cacheSizeBytes))}(e._delegate)}},{key:"clearIndexedDbPersistence",value:function(e){return function(e){if(e._initialized&&!e._terminated)throw new lp(cp.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var t=new fp;return e._queue.enqueueAndForgetEvenWhileRestricted(He(ze().mark((function n(){return ze().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,function(){var e=He(ze().mark((function e(t){var n;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Wp.V()){e.next=2;break}return e.abrupt("return",Promise.resolve());case 2:return n=t+"main",e.next=5,Wp.delete(n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(Tb(e._databaseId,e._persistenceKey));case 3:t.resolve(),n.next=9;break;case 6:n.prev=6,n.t0=n.catch(0),t.reject(n.t0);case 9:case"end":return n.stop()}}),n,null,[[0,6]])})))),t.promise}(e._delegate)}}]),e}(),uC=function(){function e(t,n,r){var i=this;ee(this,e),this._delegate=n,this._persistenceProvider=r,this.INTERNAL={delete:function(){return i.terminate()}},t instanceof xv||(this._appCompat=t)}return ne(e,[{key:"_databaseId",get:function(){return this._delegate._databaseId}},{key:"settings",value:function(e){var t=this._delegate._getSettings();e.merge||t.host===e.host||ip("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}},{key:"useEmulator",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};dA(this._delegate,e,t,n)}},{key:"enableNetwork",value:function(){return SA(this._delegate)}},{key:"disableNetwork",value:function(){return TA(this._delegate)}},{key:"enablePersistence",value:function(e){var t=!1,n=!1;return e&&uA("synchronizeTabs",t=!!e.synchronizeTabs,"experimentalForceOwningTab",n=!!e.experimentalForceOwningTab),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,n)}},{key:"clearPersistence",value:function(){return this._persistenceProvider.clearIndexedDbPersistence(this)}},{key:"terminate",value:function(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}},{key:"waitForPendingWrites",value:function(){return function(e){return function(e){var t=new fp;return e.asyncQueue.enqueueAndForget(He(ze().mark((function n(){return ze().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=$E,n.next=3,$x(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)})))),t.promise}(_A(e=cA(e,AA)))}(this._delegate)}},{key:"onSnapshotsInSync",value:function(e){return H_(this._delegate,e)}},{key:"app",get:function(){if(!this._appCompat)throw new lp("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}},{key:"collection",value:function(e){try{return new kC(this,yA(this._delegate,e))}catch(t){throw fC(t,"collection()","Firestore.collection()")}}},{key:"doc",value:function(e){try{return new lC(this,gA(this._delegate,e))}catch(t){throw fC(t,"doc()","Firestore.doc()")}}},{key:"collectionGroup",value:function(e){try{return new mC(this,function(e,t){if(e=cA(e,hA),iA("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new lp(cp.INVALID_ARGUMENT,"Invalid collection ID '".concat(t,"' passed to function collectionGroup(). Collection IDs must not contain '/'."));return new vA(e,null,function(e){return new km(Sp.emptyPath(),e)}(t))}(this._delegate,e))}catch(t){throw fC(t,"collectionGroup()","Firestore.collectionGroup()")}}},{key:"runTransaction",value:function(e){var t=this;return Y_(this._delegate,(function(n){return e(new oC(t,n))}))}},{key:"batch",value:function(){var e=this;return _A(this._delegate),new sC(new j_(this._delegate,(function(t){return W_(e._delegate,t)})))}},{key:"loadBundle",value:function(e){return DA(this._delegate,e)}},{key:"namedQuery",value:function(e){var t=this;return NA(this._delegate,e).then((function(e){return e?new mC(t,e):null}))}}]),e}(),aC=function(e){ae(n,e);var t=fe(n);function n(e){var r;return ee(this,n),(r=t.call(this)).firestore=e,r}return ne(n,[{key:"convertBytes",value:function(e){return new nC(new PA(e))}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return lC.forKey(t,this.firestore,null)}}]),n}(O_);var oC=function(){function e(t,n){ee(this,e),this._firestore=t,this._delegate=n,this._userDataWriter=new aC(t)}return ne(e,[{key:"get",value:function(e){var t=this,n=bC(e);return this._delegate.get(n).then((function(e){return new pC(t._firestore,new d_(t._firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,n.converter))}))}},{key:"set",value:function(e,t,n){var r=bC(e);return n?(Z_("Transaction.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),u=3;u<r;u++)i[u-3]=arguments[u];var a,o=bC(e);2===arguments.length?this._delegate.update(o,t):(a=this._delegate).update.apply(a,[o,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=bC(e);return this._delegate.delete(t),this}}]),e}(),sC=function(){function e(t){ee(this,e),this._delegate=t}return ne(e,[{key:"set",value:function(e,t,n){var r=bC(e);return n?(Z_("WriteBatch.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),u=3;u<r;u++)i[u-3]=arguments[u];var a,o=bC(e);2===arguments.length?this._delegate.update(o,t):(a=this._delegate).update.apply(a,[o,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=bC(e);return this._delegate.delete(t),this}},{key:"commit",value:function(){return this._delegate.commit()}}]),e}(),cC=function(){function e(t,n,r){ee(this,e),this._firestore=t,this._userDataWriter=n,this._delegate=r}return ne(e,[{key:"fromFirestore",value:function(e,t){var n=new p_(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new vC(this._firestore,n),null!==t&&void 0!==t?t:{})}},{key:"toFirestore",value:function(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}}],[{key:"getInstance",value:function(t,n){var r=e.INSTANCES,i=r.get(t);i||(i=new WeakMap,r.set(t,i));var u=i.get(n);return u||(u=new e(t,new aC(t),n),i.set(n,u)),u}}]),e}();cC.INSTANCES=new WeakMap;var lC=function(){function e(t,n){ee(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new aC(t)}return ne(e,[{key:"id",get:function(){return this._delegate.id}},{key:"parent",get:function(){return new kC(this.firestore,this._delegate.parent)}},{key:"path",get:function(){return this._delegate.path}},{key:"collection",value:function(e){try{return new kC(this.firestore,yA(this._delegate,e))}catch(t){throw fC(t,"collection()","DocumentReference.collection()")}}},{key:"isEqual",value:function(e){return(e=Ve(e))instanceof pA&&kA(this._delegate,e)}},{key:"set",value:function(e,t){t=Z_("DocumentReference.set",t);try{return t?q_(this._delegate,e,t):q_(this._delegate,e)}catch(n){throw fC(n,"setDoc()","DocumentReference.set()")}}},{key:"update",value:function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];try{return 1===arguments.length?G_(this._delegate,e):G_.apply(void 0,[this._delegate,e,t].concat(r))}catch(u){throw fC(u,"updateDoc()","DocumentReference.update()")}}},{key:"delete",value:function(){return function(e){return W_(cA(e.firestore,AA),[new dy(e._key,$m.none())])}(this._delegate)}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=hC(n),u=dC(n,(function(t){return new pC(e.firestore,new d_(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate.converter))}));return K_(this._delegate,i,u)}},{key:"get",value:function(e){var t,n=this;return t="cache"===(null===e||void 0===e?void 0:e.source)?V_(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=cA(e,pA);var t=cA(e.firestore,AA);return tA(_A(t),e._key,{source:"server"}).then((function(n){return Q_(t,e,n)}))}(this._delegate):function(e){e=cA(e,pA);var t=cA(e.firestore,AA);return tA(_A(t),e._key).then((function(n){return Q_(t,e,n)}))}(this._delegate),t.then((function(e){return new pC(n.firestore,new d_(n.firestore._delegate,n._userDataWriter,e._key,e._document,e.metadata,n._delegate.converter))}))}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(cC.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}],[{key:"forPath",value:function(t,n,r){if(t.length%2!==0)throw new lp("invalid-argument","Invalid document reference. Document references must have an even number of segments, but "+"".concat(t.canonicalString()," has ").concat(t.length));return new e(n,new pA(n._delegate,r,new Np(t)))}},{key:"forKey",value:function(t,n,r){return new e(n,new pA(n._delegate,r,t))}}]),e}();function fC(e,t,n){return e.message=e.message.replace(t,n),e}function hC(e){var t,n=re(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;if("object"===typeof r&&!rC(r))return r}}catch(i){n.e(i)}finally{n.f()}return{}}function dC(e,t){var n,r,i;return{next:function(e){i.next&&i.next(t(e))},error:null===(n=(i=rC(e[0])?e[0]:rC(e[1])?e[1]:"function"===typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var pC=function(){function e(t,n){ee(this,e),this._firestore=t,this._delegate=n}return ne(e,[{key:"ref",get:function(){return new lC(this._firestore,this._delegate.ref)}},{key:"id",get:function(){return this._delegate.id}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"exists",get:function(){return this._delegate.exists()}},{key:"data",value:function(e){return this._delegate.data(e)}},{key:"get",value:function(e,t){return this._delegate.get(e,t)}},{key:"isEqual",value:function(e){return y_(this._delegate,e._delegate)}}]),e}(),vC=function(e){ae(n,e);var t=fe(n);function n(){return ee(this,n),t.apply(this,arguments)}return ne(n,[{key:"data",value:function(e){var t=this._delegate.data(e);return function(e,t){e||ap()}(void 0!==t),t}}]),n}(pC),mC=function(){function e(t,n){ee(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new aC(t)}return ne(e,[{key:"where",value:function(t,n,r){try{return new e(this.firestore,b_(this._delegate,function(e,t,n){var r=t,i=f_("where",e);return new w_(i,r,n)}(t,n,r)))}catch(i){throw fC(i,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"orderBy",value:function(t,n){try{return new e(this.firestore,b_(this._delegate,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=f_("orderBy",e);return new E_(n,t)}(t,n)))}catch(r){throw fC(r,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"limit",value:function(t){try{return new e(this.firestore,b_(this._delegate,function(e){return lA("limit",e),new x_("limit",e,"F")}(t)))}catch(n){throw fC(n,"limit()","Query.limit()")}}},{key:"limitToLast",value:function(t){try{return new e(this.firestore,b_(this._delegate,function(e){return lA("limitToLast",e),new x_("limitToLast",e,"L")}(t)))}catch(n){throw fC(n,"limitToLast()","Query.limitToLast()")}}},{key:"startAt",value:function(){try{return new e(this.firestore,b_(this._delegate,__.apply(void 0,arguments)))}catch(t){throw fC(t,"startAt()","Query.startAt()")}}},{key:"startAfter",value:function(){try{return new e(this.firestore,b_(this._delegate,C_.apply(void 0,arguments)))}catch(t){throw fC(t,"startAfter()","Query.startAfter()")}}},{key:"endBefore",value:function(){try{return new e(this.firestore,b_(this._delegate,S_.apply(void 0,arguments)))}catch(t){throw fC(t,"endBefore()","Query.endBefore()")}}},{key:"endAt",value:function(){try{return new e(this.firestore,b_(this._delegate,T_.apply(void 0,arguments)))}catch(t){throw fC(t,"endAt()","Query.endAt()")}}},{key:"isEqual",value:function(e){return bA(this._delegate,e._delegate)}},{key:"get",value:function(e){var t,n=this;return t="cache"===(null===e||void 0===e?void 0:e.source)?z_(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=cA(e,vA);var t=cA(e.firestore,AA),n=_A(t),r=new U_(t);return nA(n,e._query,{source:"server"}).then((function(n){return new v_(t,r,e,n)}))}(this._delegate):function(e){e=cA(e,vA);var t=cA(e.firestore,AA),n=_A(t),r=new U_(t);return g_(e._query),nA(n,e._query).then((function(n){return new v_(t,r,e,n)}))}(this._delegate),t.then((function(e){return new gC(n.firestore,new v_(n.firestore._delegate,n._userDataWriter,n._delegate,e._snapshot))}))}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=hC(n),u=dC(n,(function(t){return new gC(e.firestore,new v_(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))}));return K_(this._delegate,i,u)}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(cC.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}]),e}(),yC=function(){function e(t,n){ee(this,e),this._firestore=t,this._delegate=n}return ne(e,[{key:"type",get:function(){return this._delegate.type}},{key:"doc",get:function(){return new vC(this._firestore,this._delegate.doc)}},{key:"oldIndex",get:function(){return this._delegate.oldIndex}},{key:"newIndex",get:function(){return this._delegate.newIndex}}]),e}(),gC=function(){function e(t,n){ee(this,e),this._firestore=t,this._delegate=n}return ne(e,[{key:"query",get:function(){return new mC(this._firestore,this._delegate.query)}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"size",get:function(){return this._delegate.size}},{key:"empty",get:function(){return this._delegate.empty}},{key:"docs",get:function(){var e=this;return this._delegate.docs.map((function(t){return new vC(e._firestore,t)}))}},{key:"docChanges",value:function(e){var t=this;return this._delegate.docChanges(e).map((function(e){return new yC(t._firestore,e)}))}},{key:"forEach",value:function(e,t){var n=this;this._delegate.forEach((function(r){e.call(t,new vC(n._firestore,r))}))}},{key:"isEqual",value:function(e){return y_(this._delegate,e._delegate)}}]),e}(),kC=function(e){ae(n,e);var t=fe(n);function n(e,r){var i;return ee(this,n),(i=t.call(this,e,r)).firestore=e,i._delegate=r,i}return ne(n,[{key:"id",get:function(){return this._delegate.id}},{key:"path",get:function(){return this._delegate.path}},{key:"parent",get:function(){var e=this._delegate.parent;return e?new lC(this.firestore,e):null}},{key:"doc",value:function(e){try{return new lC(this.firestore,void 0===e?gA(this._delegate):gA(this._delegate,e))}catch(t){throw fC(t,"doc()","CollectionReference.doc()")}}},{key:"add",value:function(e){var t=this;return function(e,t){var n=cA(e.firestore,AA),r=gA(e),i=B_(e.converter,t);return W_(n,[GA(qA(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,$m.exists(!1))]).then((function(){return r}))}(this._delegate,e).then((function(e){return new lC(t.firestore,e)}))}},{key:"isEqual",value:function(e){return kA(this._delegate,e._delegate)}},{key:"withConverter",value:function(e){return new n(this.firestore,e?this._delegate.withConverter(cC.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}]),n}(mC);function bC(e){return cA(e,pA)}var wC=function(){function e(){ee(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];this._delegate=he(RA,n)}return ne(e,[{key:"isEqual",value:function(e){return(e=Ve(e))instanceof RA&&this._delegate._internalPath.isEqual(e._internalPath)}}],[{key:"documentId",value:function(){return new e(Dp.keyField().canonicalString())}}]),e}(),EC=function(){function e(t){ee(this,e),this._delegate=t}return ne(e,[{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}}],[{key:"serverTimestamp",value:function(){var t=new WA("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)}},{key:"delete",value:function(){var t=new KA("deleteField");return t._methodName="FieldValue.delete",new e(t)}},{key:"arrayUnion",value:function(){var t=X_.apply(void 0,arguments);return t._methodName="FieldValue.arrayUnion",new e(t)}},{key:"arrayRemove",value:function(){var t=$_.apply(void 0,arguments);return t._methodName="FieldValue.arrayRemove",new e(t)}},{key:"increment",value:function(t){var n=function(e){return new YA("increment",e)}(t);return n._methodName="FieldValue.increment",new e(n)}}]),e}(),xC={Firestore:uC,GeoPoint:BA,Timestamp:_p,Blob:nC,Transaction:oC,WriteBatch:sC,DocumentReference:lC,DocumentSnapshot:pC,Query:mC,QueryDocumentSnapshot:vC,QuerySnapshot:gC,CollectionReference:kC,FieldPath:wC,FieldValue:EC,setLogLevel:function(e){!function(e){ep.setLogLevel(e)}(e)},CACHE_SIZE_UNLIMITED:-1};!function(e){!function(e,t){e.INTERNAL.registerComponent(new We("firestore-compat",(function(e){var n=e.getProvider("app-compat").getImmediate(),r=e.getProvider("firestore").getImmediate();return t(n,r)}),"PUBLIC").setServiceProps(Object.assign({},xC)))}(e,(function(e,t){return new uC(e,t,new iC)})),e.registerVersion("@firebase/firestore-compat","0.1.22")}(kn);var AC="firebasestorage.googleapis.com",_C=function(e){ae(n,e);var t=fe(n);function n(e,r){var i;return ee(this,n),(i=t.call(this,CC(e),"Firebase Storage: ".concat(r," (").concat(CC(e),")"))).customData={serverResponse:null},i._baseMessage=i.message,Object.setPrototypeOf(ie(i),n.prototype),i}return ne(n,[{key:"_codeEquals",value:function(e){return CC(e)===this.code}},{key:"serverResponse",get:function(){return this.customData.serverResponse},set:function(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message="".concat(this._baseMessage,"\n").concat(this.customData.serverResponse):this.message=this._baseMessage}}]),n}(Se);function CC(e){return"storage/"+e}function IC(){return new _C("unknown","An unknown error occurred, please check the error payload for server response.")}function SC(){return new _C("canceled","User canceled the upload/download.")}function TC(){return new _C("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function DC(e){return new _C("invalid-argument",e)}function NC(){return new _C("app-deleted","The Firebase app was deleted.")}function FC(e){return new _C("invalid-root-operation","The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function RC(e,t){return new _C("invalid-format","String does not match format '"+e+"': "+t)}function PC(e){throw new _C("internal-error","Internal error: "+e)}var OC,BC=function(){function e(t,n){ee(this,e),this.bucket=t,this.path_=n}return ne(e,[{key:"path",get:function(){return this.path_}},{key:"isRoot",get:function(){return 0===this.path.length}},{key:"fullServerUrl",value:function(){var e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}},{key:"bucketOnlyServerUrl",value:function(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}}],[{key:"makeFromBucketSpec",value:function(t,n){var r;try{r=e.makeFromUrl(t,n)}catch(i){return new e(t,"")}if(""===r.path)return r;throw new _C("invalid-default-bucket","Invalid default bucket '"+t+"'.")}},{key:"makeFromUrl",value:function(t,n){var r=null,i="([A-Za-z0-9.\\-_]+)";var u=new RegExp("^gs://"+i+"(/(.*))?$","i");function a(e){e.path_=decodeURIComponent(e.path)}for(var o=n.replace(/[.]/g,"\\."),s=[{regex:u,indices:{bucket:1,path:3},postModify:function(e){"/"===e.path.charAt(e.path.length-1)&&(e.path_=e.path_.slice(0,-1))}},{regex:new RegExp("^https?://".concat(o,"/").concat("v[A-Za-z0-9_]+","/b/").concat(i,"/o").concat("(/([^?#]*).*)?$"),"i"),indices:{bucket:1,path:3},postModify:a},{regex:new RegExp("^https?://".concat(n===AC?"(?:storage.googleapis.com|storage.cloud.google.com)":n,"/").concat(i,"/").concat("([^?#]*)"),"i"),indices:{bucket:1,path:2},postModify:a}],c=0;c<s.length;c++){var l=s[c],f=l.regex.exec(t);if(f){var h=f[l.indices.bucket],d=f[l.indices.path];d||(d=""),r=new e(h,d),l.postModify(r);break}}if(null==r)throw function(e){return new _C("invalid-url","Invalid URL '"+e+"'.")}(t);return r}}]),e}(),LC=function(){function e(t){ee(this,e),this.promise_=Promise.reject(t)}return ne(e,[{key:"getPromise",value:function(){return this.promise_}},{key:"cancel",value:function(){}}]),e}();function jC(e){return"string"===typeof e||e instanceof String}function MC(e){return UC()&&e instanceof Blob}function UC(){return"undefined"!==typeof Blob}function VC(e,t,n,r){if(r<t)throw DC("Invalid value for '".concat(e,"'. Expected ").concat(t," or greater."));if(r>n)throw DC("Invalid value for '".concat(e,"'. Expected ").concat(n," or less."))}function zC(e,t,n){var r=t;return null==n&&(r="https://".concat(t)),"".concat(n,"://").concat(r,"/v0").concat(e)}function qC(e){var t=encodeURIComponent,n="?";for(var r in e){if(e.hasOwnProperty(r))n=n+(t(r)+"="+t(e[r]))+"&"}return n=n.slice(0,-1)}!function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"}(OC||(OC={}));var GC=function(){function e(t,n,r,i,u,a,o,s,c,l,f){var h=this;ee(this,e),this.url_=t,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=u,this.additionalRetryCodes_=a,this.callback_=o,this.errorCallback_=s,this.timeout_=c,this.progressCallback_=l,this.connectionFactory_=f,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((function(e,t){h.resolve_=e,h.reject_=t,h.start_()}))}return ne(e,[{key:"start_",value:function(){var e=this,t=function(t,n){var r=e.resolve_,i=e.reject_,u=n.connection;if(n.wasSuccessCode)try{var a=e.callback_(u,u.getResponse());!function(e){return void 0!==e}(a)?r():r(a)}catch(s){i(s)}else if(null!==u){var o=IC();o.serverResponse=u.getErrorText(),e.errorCallback_?i(e.errorCallback_(u,o)):i(o)}else{if(n.canceled)i(e.appDelete_?NC():SC());else i(new _C("retry-limit-exceeded","Max retry time for operation exceeded, please try again."))}};this.canceled_?t(0,new KC(!1,null,!0)):this.backoffId_=function(e,t,n){var r=1,i=null,u=null,a=!1,o=0;function s(){return 2===o}var c=!1;function l(){if(!c){c=!0;for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.apply(null,n)}}function f(t){i=setTimeout((function(){i=null,e(d,s())}),t)}function h(){u&&clearTimeout(u)}function d(e){if(c)h();else{for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];if(e)return h(),void l.call.apply(l,[null,e].concat(n));var u;if(s()||a)return h(),void l.call.apply(l,[null,e].concat(n));r<64&&(r*=2),1===o?(o=2,u=0):u=1e3*(r+Math.random()),f(u)}}var p=!1;function v(e){p||(p=!0,h(),c||(null!==i?(e||(o=2),clearTimeout(i),f(0)):e||(o=1)))}return f(0),u=setTimeout((function(){a=!0,v(!0)}),n),v}((function(t,n){if(n)t(!1,new KC(!1,null,!0));else{var r=e.connectionFactory_();e.pendingConnection_=r;var i=function(t){var n=t.loaded,r=t.lengthComputable?t.total:-1;null!==e.progressCallback_&&e.progressCallback_(n,r)};null!==e.progressCallback_&&r.addUploadProgressListener(i),r.send(e.url_,e.method_,e.body_,e.headers_).then((function(){null!==e.progressCallback_&&r.removeUploadProgressListener(i),e.pendingConnection_=null;var n=r.getErrorCode()===OC.NO_ERROR,u=r.getStatus();if(n&&!e.isRetryStatusCode_(u)){var a=-1!==e.successCodes_.indexOf(u);t(!0,new KC(a,r))}else{var o=r.getErrorCode()===OC.ABORT;t(!1,new KC(!1,null,o))}}))}}),t,this.timeout_)}},{key:"getPromise",value:function(){return this.promise_}},{key:"cancel",value:function(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function(e){e(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}},{key:"isRetryStatusCode_",value:function(e){var t=e>=500&&e<600,n=-1!==[408,429].indexOf(e),r=-1!==this.additionalRetryCodes_.indexOf(e);return t||n||r}}]),e}(),KC=ne((function e(t,n,r){ee(this,e),this.wasSuccessCode=t,this.connection=n,this.canceled=!!r}));function HC(){return"undefined"!==typeof BlobBuilder?BlobBuilder:"undefined"!==typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function WC(){for(var e=HC(),t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(void 0!==e){for(var i=new e,u=0;u<n.length;u++)i.append(n[u]);return i.getBlob()}if(UC())return new Blob(n);throw new _C("unsupported-environment","This browser doesn't seem to support creating Blobs")}var QC={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},JC=ne((function e(t,n){ee(this,e),this.data=t,this.contentType=n||null}));function YC(e,t){switch(e){case QC.RAW:return new JC(XC(t));case QC.BASE64:case QC.BASE64URL:return new JC($C(e,t));case QC.DATA_URL:return new JC(function(e){var t=new ZC(e);return t.base64?$C(QC.BASE64,t.rest):function(e){var t;try{t=decodeURIComponent(e)}catch(n){throw RC(QC.DATA_URL,"Malformed data URL.")}return XC(t)}(t.rest)}(t),new ZC(t).contentType)}throw IC()}function XC(e){for(var t=[],n=0;n<e.length;n++){var r=e.charCodeAt(n);if(r<=127)t.push(r);else if(r<=2047)t.push(192|r>>6,128|63&r);else if(55296===(64512&r))if(n<e.length-1&&56320===(64512&e.charCodeAt(n+1)))r=65536|(1023&r)<<10|1023&e.charCodeAt(++n),t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r);else t.push(239,191,189);else 56320===(64512&r)?t.push(239,191,189):t.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(t)}function $C(e,t){switch(e){case QC.BASE64:var n=-1!==t.indexOf("-"),r=-1!==t.indexOf("_");if(n||r)throw RC(e,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?");break;case QC.BASE64URL:var i=-1!==t.indexOf("+"),u=-1!==t.indexOf("/");if(i||u)throw RC(e,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/")}var a;try{a=atob(t)}catch(c){throw RC(e,"Invalid character found")}for(var o=new Uint8Array(a.length),s=0;s<a.length;s++)o[s]=a.charCodeAt(s);return o}var ZC=ne((function e(t){ee(this,e),this.base64=!1,this.contentType=null;var n=t.match(/^data:([^,]+)?,/);if(null===n)throw RC(QC.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");var r=n[1]||null;null!=r&&(this.base64=function(e,t){if(!(e.length>=t.length))return!1;return e.substring(e.length-t.length)===t}(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-";base64".length):r),this.rest=t.substring(t.indexOf(",")+1)}));var eI=function(){function e(t,n){ee(this,e);var r=0,i="";MC(t)?(this.data_=t,r=t.size,i=t.type):t instanceof ArrayBuffer?(n?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),r=this.data_.length):t instanceof Uint8Array&&(n?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),r=t.length),this.size_=r,this.type_=i}return ne(e,[{key:"size",value:function(){return this.size_}},{key:"type",value:function(){return this.type_}},{key:"slice",value:function(t,n){if(MC(this.data_)){var r=function(e,t,n){return e.webkitSlice?e.webkitSlice(t,n):e.mozSlice?e.mozSlice(t,n):e.slice?e.slice(t,n):null}(this.data_,t,n);return null===r?null:new e(r)}var i=new Uint8Array(this.data_.buffer,t,n-t);return new e(i,!0)}},{key:"uploadData",value:function(){return this.data_}}],[{key:"getBlob",value:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(UC()){var i=n.map((function(t){return t instanceof e?t.data_:t}));return new e(WC.apply(null,i))}var u=n.map((function(e){return jC(e)?YC(QC.RAW,e).data:e.data_})),a=0;u.forEach((function(e){a+=e.byteLength}));var o=new Uint8Array(a),s=0;return u.forEach((function(e){for(var t=0;t<e.length;t++)o[s++]=e[t]})),new e(o,!0)}}]),e}();function tI(e){var t;try{t=JSON.parse(e)}catch(n){return null}return function(e){return"object"===typeof e&&!Array.isArray(e)}(t)?t:null}function nI(e){var t=e.lastIndexOf("/",e.length-2);return-1===t?e:e.slice(t+1)}function rI(e,t){return t}var iI=ne((function e(t,n,r,i){ee(this,e),this.server=t,this.local=n||t,this.writable=!!r,this.xform=i||rI})),uI=null;function aI(){if(uI)return uI;var e=[];e.push(new iI("bucket")),e.push(new iI("generation")),e.push(new iI("metageneration")),e.push(new iI("name","fullPath",!0));var t=new iI("name");t.xform=function(e,t){return function(e){return!jC(e)||e.length<2?e:nI(e)}(t)},e.push(t);var n=new iI("size");return n.xform=function(e,t){return void 0!==t?Number(t):t},e.push(n),e.push(new iI("timeCreated")),e.push(new iI("updated")),e.push(new iI("md5Hash",null,!0)),e.push(new iI("cacheControl",null,!0)),e.push(new iI("contentDisposition",null,!0)),e.push(new iI("contentEncoding",null,!0)),e.push(new iI("contentLanguage",null,!0)),e.push(new iI("contentType",null,!0)),e.push(new iI("metadata","customMetadata",!0)),uI=e}function oI(e,t,n){for(var r={type:"file"},i=n.length,u=0;u<i;u++){var a=n[u];r[a.local]=a.xform(r,t[a.server])}return function(e,t){Object.defineProperty(e,"ref",{get:function(){var n=e.bucket,r=e.fullPath,i=new BC(n,r);return t._makeStorageReference(i)}})}(r,e),r}function sI(e,t,n){var r=tI(t);return null===r?null:oI(e,r,n)}function cI(e,t){for(var n={},r=t.length,i=0;i<r;i++){var u=t[i];u.writable&&(n[u.server]=e[u.local])}return JSON.stringify(n)}function lI(e,t,n){var r=tI(n);return null===r?null:function(e,t,n){var r={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n.prefixes){var i,u=re(n.prefixes);try{for(u.s();!(i=u.n()).done;){var a=i.value.replace(/\/$/,""),o=e._makeStorageReference(new BC(t,a));r.prefixes.push(o)}}catch(h){u.e(h)}finally{u.f()}}if(n.items){var s,c=re(n.items);try{for(c.s();!(s=c.n()).done;){var l=s.value,f=e._makeStorageReference(new BC(t,l.name));r.items.push(f)}}catch(h){c.e(h)}finally{c.f()}}return r}(e,t,r)}var fI=ne((function e(t,n,r,i){ee(this,e),this.url=t,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}));function hI(e){if(!e)throw IC()}function dI(e,t){return function(n,r){var i=sI(e,r,t);return hI(null!==i),i}}function pI(e,t){return function(n,r){var i=sI(e,r,t);return hI(null!==i),function(e,t,n,r){var i=tI(t);if(null===i)return null;if(!jC(i.downloadTokens))return null;var u=i.downloadTokens;if(0===u.length)return null;var a=encodeURIComponent;return u.split(",").map((function(t){var i=e.bucket,u=e.fullPath;return zC("/b/"+a(i)+"/o/"+a(u),n,r)+qC({alt:"media",token:t})}))[0]}(i,r,e.host,e._protocol)}}function vI(e){return function(t,n){var r,i,u;return 401===t.getStatus()?r=t.getErrorText().includes("Firebase App Check token is invalid")?new _C("unauthorized-app","This app does not have permission to access Firebase Storage on this project."):new _C("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again."):402===t.getStatus()?(u=e.bucket,r=new _C("quota-exceeded","Quota for bucket '"+u+"' exceeded, please view quota on https://firebase.google.com/pricing/.")):403===t.getStatus()?(i=e.path,r=new _C("unauthorized","User does not have permission to access '"+i+"'.")):r=n,r.serverResponse=n.serverResponse,r}}function mI(e){var t=vI(e);return function(n,r){var i,u=t(n,r);return 404===n.getStatus()&&(i=e.path,u=new _C("object-not-found","Object '"+i+"' does not exist.")),u.serverResponse=r.serverResponse,u}}function yI(e,t,n){var r=zC(t.fullServerUrl(),e.host,e._protocol),i=e.maxOperationRetryTime,u=new fI(r,"GET",dI(e,n),i);return u.errorHandler=mI(t),u}function gI(e,t,n,r,i){var u={};t.isRoot?u.prefix="":u.prefix=t.path+"/",n&&n.length>0&&(u.delimiter=n),r&&(u.pageToken=r),i&&(u.maxResults=i);var a=zC(t.bucketOnlyServerUrl(),e.host,e._protocol),o=e.maxOperationRetryTime,s=new fI(a,"GET",function(e,t){return function(n,r){var i=lI(e,t,r);return hI(null!==i),i}}(e,t.bucket),o);return s.urlParams=u,s.errorHandler=vI(t),s}function kI(e,t,n){var r=Object.assign({},n);return r.fullPath=e.path,r.size=t.size(),r.contentType||(r.contentType=function(e,t){return e&&e.contentType||t&&t.type()||"application/octet-stream"}(null,t)),r}function bI(e,t,n,r,i){var u=t.bucketOnlyServerUrl(),a={"X-Goog-Upload-Protocol":"multipart"};var o=function(){for(var e="",t=0;t<2;t++)e+=Math.random().toString().slice(2);return e}();a["Content-Type"]="multipart/related; boundary="+o;var s=kI(t,r,i),c="--"+o+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+cI(s,n)+"\r\n--"+o+"\r\nContent-Type: "+s.contentType+"\r\n\r\n",l="\r\n--"+o+"--",f=eI.getBlob(c,r,l);if(null===f)throw TC();var h={name:s.fullPath},d=zC(u,e.host,e._protocol),p=e.maxUploadRetryTime,v=new fI(d,"POST",dI(e,n),p);return v.urlParams=h,v.headers=a,v.body=f.uploadData(),v.errorHandler=vI(t),v}var wI=ne((function e(t,n,r,i){ee(this,e),this.current=t,this.total=n,this.finalized=!!r,this.metadata=i||null}));function EI(e,t){var n=null;try{n=e.getResponseHeader("X-Goog-Upload-Status")}catch(r){hI(!1)}return hI(!!n&&-1!==(t||["active"]).indexOf(n)),n}var xI=262144;function AI(e,t,n,r,i,u,a,o){var s=new wI(0,0);if(a?(s.current=a.current,s.total=a.total):(s.current=0,s.total=r.size()),r.size()!==s.total)throw new _C("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.");var c=s.total-s.current,l=c;i>0&&(l=Math.min(l,i));var f=s.current,h=f+l,d={"X-Goog-Upload-Command":l===c?"upload, finalize":"upload","X-Goog-Upload-Offset":"".concat(s.current)},p=r.slice(f,h);if(null===p)throw TC();var v=t.maxUploadRetryTime,m=new fI(n,"POST",(function(e,n){var i,a=EI(e,["active","final"]),o=s.current+l,c=r.size();return i="final"===a?dI(t,u)(e,n):null,new wI(o,c,"final"===a,i)}),v);return m.headers=d,m.body=p.uploadData(),m.progressCallback=o||null,m.errorHandler=vI(e),m}var _I={STATE_CHANGED:"state_changed"},CI={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function II(e){switch(e){case"running":case"pausing":case"canceling":return CI.RUNNING;case"paused":return CI.PAUSED;case"success":return CI.SUCCESS;case"canceled":return CI.CANCELED;default:return CI.ERROR}}var SI=ne((function e(t,n,r){ee(this,e);var i=function(e){return"function"===typeof e}(t)||null!=n||null!=r;if(i)this.next=t,this.error=null!==n&&void 0!==n?n:void 0,this.complete=null!==r&&void 0!==r?r:void 0;else{var u=t;this.next=u.next,this.error=u.error,this.complete=u.complete}}));function TI(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];Promise.resolve().then((function(){return e.apply(void 0,n)}))}}var DI=function(){function e(){var t=this;ee(this,e),this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=OC.NO_ERROR,this.sendPromise_=new Promise((function(e){t.xhr_.addEventListener("abort",(function(){t.errorCode_=OC.ABORT,e()})),t.xhr_.addEventListener("error",(function(){t.errorCode_=OC.NETWORK_ERROR,e()})),t.xhr_.addEventListener("load",(function(){e()}))}))}return ne(e,[{key:"send",value:function(e,t,n,r){if(this.sent_)throw PC("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==r)for(var i in r)r.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,r[i].toString());return void 0!==n?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_}},{key:"getErrorCode",value:function(){if(!this.sent_)throw PC("cannot .getErrorCode() before sending");return this.errorCode_}},{key:"getStatus",value:function(){if(!this.sent_)throw PC("cannot .getStatus() before sending");try{return this.xhr_.status}catch(e){return-1}}},{key:"getResponse",value:function(){if(!this.sent_)throw PC("cannot .getResponse() before sending");return this.xhr_.response}},{key:"getErrorText",value:function(){if(!this.sent_)throw PC("cannot .getErrorText() before sending");return this.xhr_.statusText}},{key:"abort",value:function(){this.xhr_.abort()}},{key:"getResponseHeader",value:function(e){return this.xhr_.getResponseHeader(e)}},{key:"addUploadProgressListener",value:function(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}},{key:"removeUploadProgressListener",value:function(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}]),e}(),NI=function(e){ae(n,e);var t=fe(n);function n(){return ee(this,n),t.apply(this,arguments)}return ne(n,[{key:"initXhr",value:function(){this.xhr_.responseType="text"}}]),n}(DI);function FI(){return new NI}var RI=function(){function e(t,n){var r=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;ee(this,e),this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=t,this._blob=n,this._metadata=i,this._mappings=aI(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=function(e){r._request=void 0,r._chunkMultiplier=1,e._codeEquals("canceled")?(r._needToFetchStatus=!0,r.completeTransitions_()):(r._error=e,r._transition("error"))},this._metadataErrorHandler=function(e){r._request=void 0,e._codeEquals("canceled")?r.completeTransitions_():(r._error=e,r._transition("error"))},this._promise=new Promise((function(e,t){r._resolve=e,r._reject=t,r._start()})),this._promise.then(null,(function(){}))}return ne(e,[{key:"_makeProgressCallback",value:function(){var e=this,t=this._transferred;return function(n){return e._updateProgress(t+n)}}},{key:"_shouldDoResumable",value:function(e){return e.size()>262144}},{key:"_start",value:function(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())}},{key:"_resolveToken",value:function(e){var t=this;Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then((function(n){var r=c(n,2),i=r[0],u=r[1];switch(t._state){case"running":e(i,u);break;case"canceling":t._transition("canceled");break;case"pausing":t._transition("paused")}}))}},{key:"_createResumable",value:function(){var e=this;this._resolveToken((function(t,n){var r=function(e,t,n,r,i){var u=t.bucketOnlyServerUrl(),a=kI(t,r,i),o={name:a.fullPath},s=zC(u,e.host,e._protocol),c={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":"".concat(r.size()),"X-Goog-Upload-Header-Content-Type":a.contentType,"Content-Type":"application/json; charset=utf-8"},l=cI(a,n),f=e.maxUploadRetryTime,h=new fI(s,"POST",(function(e){var t;EI(e);try{t=e.getResponseHeader("X-Goog-Upload-URL")}catch(n){hI(!1)}return hI(jC(t)),t}),f);return h.urlParams=o,h.headers=c,h.body=l,h.errorHandler=vI(t),h}(e._ref.storage,e._ref._location,e._mappings,e._blob,e._metadata),i=e._ref.storage._makeRequest(r,FI,t,n);e._request=i,i.getPromise().then((function(t){e._request=void 0,e._uploadUrl=t,e._needToFetchStatus=!1,e.completeTransitions_()}),e._errorHandler)}))}},{key:"_fetchStatus",value:function(){var e=this,t=this._uploadUrl;this._resolveToken((function(n,r){var i=function(e,t,n,r){var i=e.maxUploadRetryTime,u=new fI(n,"POST",(function(e){var t=EI(e,["active","final"]),n=null;try{n=e.getResponseHeader("X-Goog-Upload-Size-Received")}catch(u){hI(!1)}n||hI(!1);var i=Number(n);return hI(!isNaN(i)),new wI(i,r.size(),"final"===t)}),i);return u.headers={"X-Goog-Upload-Command":"query"},u.errorHandler=vI(t),u}(e._ref.storage,e._ref._location,t,e._blob),u=e._ref.storage._makeRequest(i,FI,n,r);e._request=u,u.getPromise().then((function(t){e._request=void 0,e._updateProgress(t.current),e._needToFetchStatus=!1,t.finalized&&(e._needToFetchMetadata=!0),e.completeTransitions_()}),e._errorHandler)}))}},{key:"_continueUpload",value:function(){var e=this,t=xI*this._chunkMultiplier,n=new wI(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((function(i,u){var a;try{a=AI(e._ref._location,e._ref.storage,r,e._blob,t,e._mappings,n,e._makeProgressCallback())}catch(s){return e._error=s,void e._transition("error")}var o=e._ref.storage._makeRequest(a,FI,i,u);e._request=o,o.getPromise().then((function(t){e._increaseMultiplier(),e._request=void 0,e._updateProgress(t.current),t.finalized?(e._metadata=t.metadata,e._transition("success")):e.completeTransitions_()}),e._errorHandler)}))}},{key:"_increaseMultiplier",value:function(){xI*this._chunkMultiplier<33554432&&(this._chunkMultiplier*=2)}},{key:"_fetchMetadata",value:function(){var e=this;this._resolveToken((function(t,n){var r=yI(e._ref.storage,e._ref._location,e._mappings),i=e._ref.storage._makeRequest(r,FI,t,n);e._request=i,i.getPromise().then((function(t){e._request=void 0,e._metadata=t,e._transition("success")}),e._metadataErrorHandler)}))}},{key:"_oneShotUpload",value:function(){var e=this;this._resolveToken((function(t,n){var r=bI(e._ref.storage,e._ref._location,e._mappings,e._blob,e._metadata),i=e._ref.storage._makeRequest(r,FI,t,n);e._request=i,i.getPromise().then((function(t){e._request=void 0,e._metadata=t,e._updateProgress(e._blob.size()),e._transition("success")}),e._errorHandler)}))}},{key:"_updateProgress",value:function(e){var t=this._transferred;this._transferred=e,this._transferred!==t&&this._notifyObservers()}},{key:"_transition",value:function(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,void 0!==this._request&&this._request.cancel();break;case"running":var t="paused"===this._state;this._state=e,t&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=e,this._notifyObservers();break;case"canceled":this._error=SC(),this._state=e,this._notifyObservers()}}},{key:"completeTransitions_",value:function(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}},{key:"snapshot",get:function(){var e=II(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}},{key:"on",value:function(e,t,n,r){var i=this,u=new SI(t||void 0,n||void 0,r||void 0);return this._addObserver(u),function(){i._removeObserver(u)}}},{key:"then",value:function(e,t){return this._promise.then(e,t)}},{key:"catch",value:function(e){return this.then(null,e)}},{key:"_addObserver",value:function(e){this._observers.push(e),this._notifyObserver(e)}},{key:"_removeObserver",value:function(e){var t=this._observers.indexOf(e);-1!==t&&this._observers.splice(t,1)}},{key:"_notifyObservers",value:function(){var e=this;this._finishPromise(),this._observers.slice().forEach((function(t){e._notifyObserver(t)}))}},{key:"_finishPromise",value:function(){if(void 0!==this._resolve){var e=!0;switch(II(this._state)){case CI.SUCCESS:TI(this._resolve.bind(null,this.snapshot))();break;case CI.CANCELED:case CI.ERROR:TI(this._reject.bind(null,this._error))();break;default:e=!1}e&&(this._resolve=void 0,this._reject=void 0)}}},{key:"_notifyObserver",value:function(e){switch(II(this._state)){case CI.RUNNING:case CI.PAUSED:e.next&&TI(e.next.bind(e,this.snapshot))();break;case CI.SUCCESS:e.complete&&TI(e.complete.bind(e))();break;default:e.error&&TI(e.error.bind(e,this._error))()}}},{key:"resume",value:function(){var e="paused"===this._state||"pausing"===this._state;return e&&this._transition("running"),e}},{key:"pause",value:function(){var e="running"===this._state;return e&&this._transition("pausing"),e}},{key:"cancel",value:function(){var e="running"===this._state||"pausing"===this._state;return e&&this._transition("canceling"),e}}]),e}(),PI=function(){function e(t,n){ee(this,e),this._service=t,this._location=n instanceof BC?n:BC.makeFromUrl(n,t.host)}return ne(e,[{key:"toString",value:function(){return"gs://"+this._location.bucket+"/"+this._location.path}},{key:"_newRef",value:function(t,n){return new e(t,n)}},{key:"root",get:function(){var e=new BC(this._location.bucket,"");return this._newRef(this._service,e)}},{key:"bucket",get:function(){return this._location.bucket}},{key:"fullPath",get:function(){return this._location.path}},{key:"name",get:function(){return nI(this._location.path)}},{key:"storage",get:function(){return this._service}},{key:"parent",get:function(){var t=function(e){if(0===e.length)return null;var t=e.lastIndexOf("/");return-1===t?"":e.slice(0,t)}(this._location.path);if(null===t)return null;var n=new BC(this._location.bucket,t);return new e(this._service,n)}},{key:"_throwIfRoot",value:function(e){if(""===this._location.path)throw FC(e)}}]),e}();function OI(e,t,n){return BI.apply(this,arguments)}function BI(){return(BI=He(ze().mark((function e(t,n,r){var i,u,a,o;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={pageToken:r},e.next=3,LI(t,a);case 3:if(o=e.sent,(i=n.prefixes).push.apply(i,Ge(o.prefixes)),(u=n.items).push.apply(u,Ge(o.items)),null==o.nextPageToken){e.next=9;break}return e.next=9,OI(t,n,o.nextPageToken);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function LI(e,t){null!=t&&"number"===typeof t.maxResults&&VC("options.maxResults",1,1e3,t.maxResults);var n=t||{},r=gI(e.storage,e._location,"/",n.pageToken,n.maxResults);return e.storage.makeRequestWithTokens(r,FI)}function jI(e,t){e._throwIfRoot("updateMetadata");var n=function(e,t,n,r){var i=zC(t.fullServerUrl(),e.host,e._protocol),u=cI(n,r),a=e.maxOperationRetryTime,o=new fI(i,"PATCH",dI(e,r),a);return o.headers={"Content-Type":"application/json; charset=utf-8"},o.body=u,o.errorHandler=mI(t),o}(e.storage,e._location,t,aI());return e.storage.makeRequestWithTokens(n,FI)}function MI(e){e._throwIfRoot("getDownloadURL");var t=function(e,t,n){var r=zC(t.fullServerUrl(),e.host,e._protocol),i=e.maxOperationRetryTime,u=new fI(r,"GET",pI(e,n),i);return u.errorHandler=mI(t),u}(e.storage,e._location,aI());return e.storage.makeRequestWithTokens(t,FI).then((function(e){if(null===e)throw new _C("no-download-url","The given file does not have any download URLs.");return e}))}function UI(e){e._throwIfRoot("deleteObject");var t=function(e,t){var n=zC(t.fullServerUrl(),e.host,e._protocol),r=e.maxOperationRetryTime,i=new fI(n,"DELETE",(function(e,t){}),r);return i.successCodes=[200,204],i.errorHandler=mI(t),i}(e.storage,e._location);return e.storage.makeRequestWithTokens(t,FI)}function VI(e,t){var n=function(e,t){var n=t.split("/").filter((function(e){return e.length>0})).join("/");return 0===e.length?n:e+"/"+n}(e._location.path,t),r=new BC(e._location.bucket,n);return new PI(e.storage,r)}function zI(e,t){if(e instanceof HI){var n=e;if(null==n._bucket)throw new _C("no-default-bucket","No default bucket found. Did you set the 'storageBucket' property when initializing the app?");var r=new PI(n,n._bucket);return null!=t?zI(r,t):r}return void 0!==t?VI(e,t):e}function qI(e,t){if(t&&/^[A-Za-z]+:\/\//.test(t)){if(e instanceof HI)return new PI(e,t);throw DC("To use ref(service, url), the first argument must be a Storage instance.")}return zI(e,t)}function GI(e,t){var n=null===t||void 0===t?void 0:t.storageBucket;return null==n?null:BC.makeFromBucketSpec(n,e)}function KI(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};e.host="".concat(t,":").concat(n),e._protocol="http";var i=r.mockUserToken;i&&(e._overrideAuthToken="string"===typeof i?i:be(i,e.app.options.projectId))}var HI=function(){function e(t,n,r,i,u){ee(this,e),this.app=t,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=u,this._bucket=null,this._host=AC,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=i?BC.makeFromBucketSpec(i,this._host):GI(this._host,this.app.options)}return ne(e,[{key:"host",get:function(){return this._host},set:function(e){this._host=e,null!=this._url?this._bucket=BC.makeFromBucketSpec(this._url,e):this._bucket=GI(e,this.app.options)}},{key:"maxUploadRetryTime",get:function(){return this._maxUploadRetryTime},set:function(e){VC("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}},{key:"maxOperationRetryTime",get:function(){return this._maxOperationRetryTime},set:function(e){VC("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}},{key:"_getAuthToken",value:function(){var e=He(ze().mark((function e(){var t,n;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._overrideAuthToken){e.next=2;break}return e.abrupt("return",this._overrideAuthToken);case 2:if(!(t=this._authProvider.getImmediate({optional:!0}))){e.next=9;break}return e.next=6,t.getToken();case 6:if(null===(n=e.sent)){e.next=9;break}return e.abrupt("return",n.accessToken);case 9:return e.abrupt("return",null);case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_getAppCheckToken",value:function(){var e=He(ze().mark((function e(){var t,n;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=this._appCheckProvider.getImmediate({optional:!0}))){e.next=6;break}return e.next=4,t.getToken();case 4:return n=e.sent,e.abrupt("return",n.token);case 6:return e.abrupt("return",null);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_delete",value:function(){return this._deleted||(this._deleted=!0,this._requests.forEach((function(e){return e.cancel()})),this._requests.clear()),Promise.resolve()}},{key:"_makeStorageReference",value:function(e){return new PI(this,e)}},{key:"_makeRequest",value:function(e,t,n,r){var i=this;if(this._deleted)return new LC(NC());var u=function(e,t,n,r,i,u){var a=qC(e.urlParams),o=e.url+a,s=Object.assign({},e.headers);return function(e,t){t&&(e["X-Firebase-GMPID"]=t)}(s,t),function(e,t){null!==t&&t.length>0&&(e.Authorization="Firebase "+t)}(s,n),function(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(null!==t&&void 0!==t?t:"AppManager")}(s,u),function(e,t){null!==t&&(e["X-Firebase-AppCheck"]=t)}(s,r),new GC(o,e.method,s,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,i)}(e,this._appId,n,r,t,this._firebaseVersion);return this._requests.add(u),u.getPromise().then((function(){return i._requests.delete(u)}),(function(){return i._requests.delete(u)})),u}},{key:"makeRequestWithTokens",value:function(){var e=He(ze().mark((function e(t,n){var r,i,u,a;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([this._getAuthToken(),this._getAppCheckToken()]);case 2:return r=e.sent,i=c(r,2),u=i[0],a=i[1],e.abrupt("return",this._makeRequest(t,n,u,a).getPromise());case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}(),WI="@firebase/storage",QI="0.9.9",JI="storage";function YI(e,t,n){return function(e,t,n){return e._throwIfRoot("uploadBytesResumable"),new RI(e,new eI(t),n)}(e=Ve(e),t,n)}function XI(e){return function(e){e._throwIfRoot("getMetadata");var t=yI(e.storage,e._location,aI());return e.storage.makeRequestWithTokens(t,FI)}(e=Ve(e))}function $I(e){return function(e){var t={prefixes:[],items:[]};return OI(e,t).then((function(){return t}))}(e=Ve(e))}function ZI(e,t){return qI(e=Ve(e),t)}function eS(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};KI(e,t,n,r)}function tS(e,t){var n=t.instanceIdentifier,r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),u=e.getProvider("app-check-internal");return new HI(r,i,u,n,zt)}Ot(new We(JI,tS,"PUBLIC").setMultipleInstances(!0)),Qt(WI,QI,""),Qt(WI,QI,"esm2017");var nS=function(){function e(t,n,r){ee(this,e),this._delegate=t,this.task=n,this.ref=r}return ne(e,[{key:"bytesTransferred",get:function(){return this._delegate.bytesTransferred}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"state",get:function(){return this._delegate.state}},{key:"totalBytes",get:function(){return this._delegate.totalBytes}}]),e}(),rS=function(){function e(t,n){ee(this,e),this._delegate=t,this._ref=n,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}return ne(e,[{key:"snapshot",get:function(){return new nS(this._delegate.snapshot,this,this._ref)}},{key:"then",value:function(e,t){var n=this;return this._delegate.then((function(t){if(e)return e(new nS(t,n,n._ref))}),t)}},{key:"on",value:function(e,t,n,r){var i=this,u=void 0;return t&&(u="function"===typeof t?function(e){return t(new nS(e,i,i._ref))}:{next:t.next?function(e){return t.next(new nS(e,i,i._ref))}:void 0,complete:t.complete||void 0,error:t.error||void 0}),this._delegate.on(e,u,n||void 0,r||void 0)}}]),e}(),iS=function(){function e(t,n){ee(this,e),this._delegate=t,this._service=n}return ne(e,[{key:"prefixes",get:function(){var e=this;return this._delegate.prefixes.map((function(t){return new uS(t,e._service)}))}},{key:"items",get:function(){var e=this;return this._delegate.items.map((function(t){return new uS(t,e._service)}))}},{key:"nextPageToken",get:function(){return this._delegate.nextPageToken||null}}]),e}(),uS=function(){function e(t,n){ee(this,e),this._delegate=t,this.storage=n}return ne(e,[{key:"name",get:function(){return this._delegate.name}},{key:"bucket",get:function(){return this._delegate.bucket}},{key:"fullPath",get:function(){return this._delegate.fullPath}},{key:"toString",value:function(){return this._delegate.toString()}},{key:"child",value:function(t){var n=function(e,t){return VI(e,t)}(this._delegate,t);return new e(n,this.storage)}},{key:"root",get:function(){return new e(this._delegate.root,this.storage)}},{key:"parent",get:function(){var t=this._delegate.parent;return null==t?null:new e(t,this.storage)}},{key:"put",value:function(e,t){return this._throwIfRoot("put"),new rS(YI(this._delegate,e,t),this)}},{key:"putString",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:QC.RAW,n=arguments.length>2?arguments[2]:void 0;this._throwIfRoot("putString");var r=YC(t,e),i=Object.assign({},n);return null==i.contentType&&null!=r.contentType&&(i.contentType=r.contentType),new rS(new RI(this._delegate,new eI(r.data,!0),i),this)}},{key:"listAll",value:function(){var e=this;return $I(this._delegate).then((function(t){return new iS(t,e.storage)}))}},{key:"list",value:function(e){var t=this;return function(e,t){return LI(e=Ve(e),t)}(this._delegate,e||void 0).then((function(e){return new iS(e,t.storage)}))}},{key:"getMetadata",value:function(){return XI(this._delegate)}},{key:"updateMetadata",value:function(e){return function(e,t){return jI(e=Ve(e),t)}(this._delegate,e)}},{key:"getDownloadURL",value:function(){return MI(Ve(this._delegate))}},{key:"delete",value:function(){return this._throwIfRoot("delete"),UI(Ve(this._delegate))}},{key:"_throwIfRoot",value:function(e){if(""===this._delegate._location.path)throw FC(e)}}]),e}(),aS=function(){function e(t,n){ee(this,e),this.app=t,this._delegate=n}return ne(e,[{key:"maxOperationRetryTime",get:function(){return this._delegate.maxOperationRetryTime}},{key:"maxUploadRetryTime",get:function(){return this._delegate.maxUploadRetryTime}},{key:"ref",value:function(e){if(oS(e))throw DC("ref() expected a child path but got a URL, use refFromURL instead.");return new uS(ZI(this._delegate,e),this)}},{key:"refFromURL",value:function(e){if(!oS(e))throw DC("refFromURL() expected a full URL but got a child path, use ref() instead.");try{BC.makeFromUrl(e,this._delegate.host)}catch(t){throw DC("refFromUrl() expected a valid full URL but got an invalid one.")}return new uS(ZI(this._delegate,e),this)}},{key:"setMaxUploadRetryTime",value:function(e){this._delegate.maxUploadRetryTime=e}},{key:"setMaxOperationRetryTime",value:function(e){this._delegate.maxOperationRetryTime=e}},{key:"useEmulator",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};eS(this._delegate,e,t,n)}}]),e}();function oS(e){return/^[A-Za-z]+:\/\//.test(e)}function sS(e,t){var n=t.instanceIdentifier,r=e.getProvider("app-compat").getImmediate(),i=e.getProvider("storage").getImmediate({identifier:n});return new aS(r,i)}!function(e){var t={TaskState:CI,TaskEvent:_I,StringFormat:QC,Storage:aS,Reference:uS};e.INTERNAL.registerComponent(new We("storage-compat",sS,"PUBLIC").setServiceProps(t).setMultipleInstances(!0)),e.registerVersion("@firebase/storage-compat","0.1.17")}(kn);kn.initializeApp({apiKey:"AIzaSyCrAMpZXyYPlV1H2vdaXyk7WtmIMd2N7M8",authDomain:"bakewithlove-61ccb.firebaseapp.com",projectId:"bakewithlove-61ccb",storageBucket:"bakewithlove-61ccb.appspot.com",messagingSenderId:"102914727968",appId:"1:102914727968:web:9ccbf327f7249695619c45",measurementId:"G-630N3DZKCF"});var cS=kn.auth(),lS=kn.firestore(),fS=kn.storage(),hS=n(184),dS=function(){document.getElementById("mySidenav").style.width="200px"},pS=function(){document.getElementById("mySidenav").style.width="0"},vS=function(e){var t=e.user,n=M();function r(){n("/show_products")}return(0,hS.jsxs)(hS.Fragment,{children:[(0,hS.jsx)("div",{className:"topbar",children:(0,hS.jsx)("div",{children:(0,hS.jsx)("img",{src:X,onClick:function(){n("/")},target:"pointer",type:"button",alt:"company logo",id:"logoimg"})})}),!t&&(0,hS.jsx)(hS.Fragment,{children:(0,hS.jsxs)("div",{className:"accountInfo",children:[(0,hS.jsxs)("div",{className:"having_cart",children:[(0,hS.jsx)(Y,{to:"/login",children:(0,hS.jsx)("img",{src:$,id:"bag",alt:"cart"})}),(0,hS.jsx)("div",{className:"login_cart",children:(0,hS.jsx)(Y,{to:"/login",className:"login_cart",children:"Cart"})})]}),(0,hS.jsxs)("div",{className:"having_cart",children:[(0,hS.jsxs)(Y,{to:"/login",children:[(0,hS.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAABmJLR0QA/wD/AP+gvaeTAAADP0lEQVRYhe2VXWhbdRjGf8/Jh260q13dmtTB2MbYoEzQWseaVAriR1kbV7BeCL1RQRAnIggqKAVFUQTBDbwQduPHjbDWZnUitRaTqNMNhqMwEMeG2mQW57Rsa7fk/3qRCHUm5qSJ3sz36n/O+/yf53c48L5wrZdWevFsf88WF9A2AM90sn0yfeo/AcgN9t5n2IsYO65qfSuz5yOTmYl/DSA7EHsN9HTpcR44Wjp3AzeWHF+NJtPPNBwgOxB7HLQPWMT0VORC4G3NzOQBrK8vmGvKPwq8DlyP6bHoZOqthgH8cM+utcFw4BRGi0lDHcnUeDnd3EB8SHBQcH7J2LxxMv1rNW/PD0Ao7A1htAh9UikcoONQesxgyuCGsNjjx9sXgKGu0uFQVUORLGlvaxiAsGYAJ3eumtY5nQOQZ2saBmDOyxVBtLWaVritAGaaaxwATJWOI7PDneFKutnhzjDSCIDn2VQlXc0A0dWRKcQJYHPbxdY3bfTv92wUr+1S635gk+D4+lszn/rx9j0H5nbHuyQ+B1YjPvNkr+i60JcA+cXLPTLvWaAPuFBwLr7hoy+ONxSgCBHrlfQB0F5BknOe7r9pIpXx61nzLvilf+eapWBorxx7ENsBME4KjYXc5f1th4/8XqvntV0Vf4F1dYWyHat2yhGtJ8A8stGF4Fd/Li5fAPOJWHO+oGnkb5xWL30T9Nyd6yYyC1d3guXkV0xPqBh+BvF1XdnG7WDdhYK3F3jZF4BMO8CQeC6STL9fT35uMP6gGe+ZuLlcv8IktCUAB4F6wv/iISubVfalwXcAnrNb6gXAKK5yZyd8A0g2BjiTHvkpEdu20uy5wV3bBQ8DeUKhd3wDRJOZWcMOAM2e0/TZROyu2sN77haBaaBJZvui4zOny+kqzoHZ4c7w2sXWgxi7S69mTBxQXh9HD6fmy93J9veus6DdK+MhiosJwXh79tIDOnbsSk0AUFyx2aPxJyVewGhZ1voR+B70W0nZAmwBNiwzPm/GS5Hu9BsaxVXK8LWM5hOx5rxpBCMB3AGsqiC9CKQwfRgMuHfLDZ4VASwvG8X7+UjPJgsGN+IKTQAGCx46s747ffqfvvb/Kld/AKNZGj4Sxl5EAAAAAElFTkSuQmCC",id:"myicon",alt:"my user icon"})," "]}),(0,hS.jsx)("div",{className:"login_cart",children:(0,hS.jsx)(Y,{to:"/login",className:"login_cart",children:"Login"})})]})]})}),t&&(0,hS.jsx)(hS.Fragment,{children:(0,hS.jsxs)("div",{className:"accountInfo2",children:[(0,hS.jsx)("div",{children:(0,hS.jsxs)("div",{className:"dropdown",children:[(0,hS.jsxs)("button",{className:"dropbtn",children:["Hi! ",t]}),(0,hS.jsxs)("div",{className:"dropdown-content",children:[(0,hS.jsx)("p",{onClick:function(){n("/about_user")},children:"About User"}),(0,hS.jsx)("p",{onClick:function(){n("/cart")},children:"Your orders"}),(0,hS.jsx)("p",{onClick:function(){cS.signOut().then((function(){n("/login")}))},children:"Log out"})]})]})}),(0,hS.jsx)(Y,{to:"cart",children:(0,hS.jsx)("img",{src:$,id:"bag",alt:"cart"})})]})}),(0,hS.jsx)("div",{className:"menuButton",children:(0,hS.jsx)("img",{type:"button",onClick:dS,alt:"sidebutton",id:"menuBtn",src:"https://img.icons8.com/ios-filled/40/000000/menu--v1.png"})}),(0,hS.jsxs)("div",{id:"mySidenav",className:"sidenav",children:[(0,hS.jsx)(Y,{to:"#",className:"closebtn",onClick:pS,children:"\xd7"}),(0,hS.jsxs)(Y,{to:"/show_products",children:[(0,hS.jsx)("img",{src:"https://img.icons8.com/dotty/30/000000/birthday.png",alt:"birthdays"}),"  BIRTHDAY"]}),(0,hS.jsxs)(Y,{to:"/show_products",children:[(0,hS.jsx)("img",{src:"https://img.icons8.com/plumpy/30/000000/google-shopping.png",alt:"services"}),"  SERVICES"]}),(0,hS.jsxs)(Y,{to:"/show_products",children:[(0,hS.jsx)("img",{src:"https://img.icons8.com/ios/30/000000/wedding-cake.png",alt:"weddings"}),"  WEDDINGS"]}),(0,hS.jsxs)(Y,{to:"/show_products",children:[(0,hS.jsx)("img",{src:"https://img.icons8.com/external-bearicons-glyph-bearicons/30/000000/external-Anniversary-time-and-date-bearicons-glyph-bearicons.png",alt:"anniversary"}),"ANNIVERSARY"]}),(0,hS.jsxs)(Y,{to:"/show_products",children:[(0,hS.jsx)("img",{src:"https://img.icons8.com/wired/30/000000/paste-special.png",alt:"special_days"})," SPECIAL DAYS"]}),(0,hS.jsxs)(Y,{to:"/contact_us",children:[(0,hS.jsx)("img",{src:"https://img.icons8.com/ios/30/000000/about-us-male.png",alt:"about_us"}),"  ABOUT US"]}),(0,hS.jsxs)(Y,{to:"/contact_us",children:[(0,hS.jsx)("img",{src:"https://img.icons8.com/external-others-cattaleeya-thongsriphong/30/000000/external-calling-food-delivery-outline-others-cattaleeya-thongsriphong-2.png",alt:"orders"})," ORDERS"]})]}),(0,hS.jsx)("div",{className:"topnav",children:(0,hS.jsxs)("div",{className:"top_navi",children:[(0,hS.jsx)("div",{onClick:r,children:"BIRTHDAY"}),(0,hS.jsx)("div",{onClick:r,children:"GRADUATION"}),(0,hS.jsx)("div",{onClick:r,children:"WEDDINGS"}),(0,hS.jsx)("div",{onClick:r,children:"ANNIVERSARY"}),(0,hS.jsx)("div",{onClick:r,children:"SPECIAL DAYS"}),(0,hS.jsx)("div",{onClick:r,children:"CHRISTMAS"}),(0,hS.jsx)("div",{onClick:r,children:"ORDER"}),(0,hS.jsx)("div",{onClick:function(){n("/contact_us")},children:"ABOUT US"})]})})]})},mS=n.p+"static/media/cake7.1601853f3c2419c43ba5.webp",yS=n.p+"static/media/cake5.44b08e3e4dcf61d2f137.webp",gS=n.p+"static/media/cake6.f173a08507dbfab083a3.webp",kS=n.p+"static/media/1.44e91362a566bfab8a9b.png",bS=n.p+"static/media/birthday_cele.56b433b72034d8805e46.jpg",wS=n.p+"static/media/GirlBakingCake.d83183d3ddc69dd732a5.jpg",ES=function(){var e=M();function t(){e("/show_products")}return(0,hS.jsxs)(hS.Fragment,{children:[(0,hS.jsxs)("div",{id:"carouselExampleCaptions",className:"carousel slide","data-bs-ride":"carousel",children:[(0,hS.jsxs)("div",{className:"carousel-indicators",children:[(0,hS.jsx)("button",{type:"button","data-bs-target":"#carouselExampleCaptions","data-bs-slide-to":"0",className:"active","aria-current":"true","aria-label":"Slide 1"}),(0,hS.jsx)("button",{type:"button","data-bs-target":"#carouselExampleCaptions","data-bs-slide-to":"1","aria-label":"Slide 2"}),(0,hS.jsx)("button",{type:"button","data-bs-target":"#carouselExampleCaptions","data-bs-slide-to":"2","aria-label":"Slide 3"})]}),(0,hS.jsxs)("div",{className:"carousel-inner",children:[(0,hS.jsxs)("div",{className:"carousel-item active",id:"header1",children:[(0,hS.jsx)("img",{src:mS,style:{width:"100%"},alt:"cake"}),(0,hS.jsxs)("div",{className:"carousel-caption d-none d-md-block caption-write",id:"caption-write",children:[(0,hS.jsx)("p",{children:'"Your hand and your mouth agreed many years ago that, as far as chocolate is concerned, there is no need to involve your brain." -Dave Barry'}),(0,hS.jsx)("button",{type:"button",onClick:t,className:"btn btn-danger",children:"Order Now"})]})]}),(0,hS.jsxs)("div",{className:"carousel-item",id:"header2",children:[(0,hS.jsx)("img",{src:yS,style:{width:"100%"},alt:"cakes"}),(0,hS.jsxs)("div",{className:"carousel-caption d-none d-md-block caption-write",children:[(0,hS.jsx)("p",{children:"You will fall in love with this fresh Strawberry Cake made with a homemade strawberry reduction. It's moist, tender, and the most beautiful shade of pink!."}),(0,hS.jsx)("button",{type:"button",className:"btn btn-danger",children:"Order Now"}),"                "]})]}),(0,hS.jsxs)("div",{className:"carousel-item",id:"",children:[(0,hS.jsx)("img",{src:gS,style:{width:"100%"},alt:"..."}),(0,hS.jsxs)("div",{className:"carousel-caption d-none d-md-block  caption-write",children:[(0,hS.jsx)("p",{children:'"What makes life so sweet? Cupcakes to eat and someone to love." - Marie Williams Johnstone'}),(0,hS.jsx)("button",{type:"button",onClick:t,className:"btn btn-danger",children:"Order Now"})]})]})]}),(0,hS.jsxs)("button",{className:"carousel-control-prev",type:"button","data-bs-target":"#carouselExampleCaptions","data-bs-slide":"prev",children:[(0,hS.jsx)("span",{className:"carousel-control-prev-icon","aria-hidden":"true"}),(0,hS.jsx)("span",{className:"visually-hidden",children:"Previous"})]}),(0,hS.jsxs)("button",{className:"carousel-control-next",type:"button","data-bs-target":"#carouselExampleCaptions","data-bs-slide":"next",children:[(0,hS.jsx)("span",{className:"carousel-control-next-icon","aria-hidden":"true"}),(0,hS.jsx)("span",{className:"visually-hidden",children:"Next"})]})]}),(0,hS.jsxs)("div",{className:"about_bake_with_love",id:"abt",children:[(0,hS.jsx)("div",{className:"image",children:(0,hS.jsx)("img",{src:kS,alt:"about ther user",width:"400px",height:"auto"})}),(0,hS.jsxs)("div",{className:"someWords",children:[(0,hS.jsx)("h3",{children:"ABOUT THE AUTHOR"}),"Lorem ipsum, dolor sit amet consectetur adipisicing elit. Excepturi vel mollitia veniam eaque quos? Nam ut sint in minima reprehenderit expedita explicabo, debitis reiciendis. Dignissimos dicta sequi iste ipsa ex voluptatum laudantium aspernatur nihil. Itaque pariatur quis perspiciatis at incidunt, accusamus, odit quia sint alias tempora fugiat dolores obcaecati, maiores tenetur debitis cum molestias laboriosam sequi. Sequi pariatur consectetur provident."]})]}),(0,hS.jsxs)("div",{className:"happyCustomers",children:[(0,hS.jsx)("div",{className:"HappyBirthdayImages",children:(0,hS.jsx)("img",{src:bS,style:{borderRadius:"3rem"},id:"birthdayGirl",alt:""})}),(0,hS.jsxs)("div",{className:"captions",children:[(0,hS.jsx)("img",{src:"https://img.icons8.com/external-others-maxicons/80/000000/external-cute-about-love-others-maxicons-4.png",alt:"love_others",style:{display:"block",margin:"auto"}}),(0,hS.jsx)("h3",{children:"Our Happy Customers"}),"Lorem ipsum dolor sit amet consectetur adipisicing elit. Cupiditate impedit ad, voluptatum eligendi unde aut iusto? In, nobis exercitationem! Saepe dignissimos iure ut est nam ducimus aliquam qui voluptate aut?",(0,hS.jsxs)("section",{children:["review",(0,hS.jsx)("p",{children:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Architecto eveniet quas cum illum? Ut."})]})]})]}),(0,hS.jsxs)("div",{className:"girlImage",children:[(0,hS.jsx)("img",{src:wS,className:"girlMakingCake",alt:"baking-cake",width:"300",height:"auto"}),(0,hS.jsxs)("div",{className:"informations",children:[(0,hS.jsxs)("div",{children:[(0,hS.jsx)("img",{src:"https://img.icons8.com/bubbles/60/000000/birthday.png",alt:"birthday"}),(0,hS.jsx)("p",{style:{textAlign:"center"},children:"Birthday"})]}),(0,hS.jsxs)("div",{children:[(0,hS.jsx)("img",{src:"https://img.icons8.com/external-justicon-flat-justicon/60/000000/external-graduation-elearning-and-education-justicon-flat-justicon-1.png",alt:"education"}),(0,hS.jsx)("p",{style:{textAlign:"center"},children:"Education"})]}),(0,hS.jsxs)("div",{children:[(0,hS.jsx)("img",{src:"https://img.icons8.com/external-justicon-flat-justicon/60/000000/external-wedding-romantic-love-justicon-flat-justicon.png",alt:"romantic"}),(0,hS.jsx)("p",{style:{textAlign:"center"},children:"Wedding"})]}),(0,hS.jsxs)("div",{children:[(0,hS.jsx)("img",{src:"https://img.icons8.com/external-smashingstocks-thin-outline-color-smashing-stocks/60/000000/external-holi-party-and-celebrations-smashingstocks-thin-outline-color-smashing-stocks.png",alt:"holi"}),(0,hS.jsx)("p",{style:{textAlign:"center"},children:"Holi Dhamal"})]}),(0,hS.jsxs)("div",{children:[(0,hS.jsx)("img",{src:"https://img.icons8.com/external-flaticons-flat-flat-icons/60/000000/external-anniversary-family-life-flaticons-flat-flat-icons.png",alt:"family"}),(0,hS.jsx)("p",{style:{textAlign:"center"},children:"Anniversary"})]}),(0,hS.jsxs)("div",{children:[(0,hS.jsx)("img",{src:"https://img.icons8.com/external-flaticons-lineal-color-flat-icons/60/000000/external-diwali-festivals-and-holidays-flaticons-lineal-color-flat-icons-3.png",alt:"festival"}),(0,hS.jsx)("p",{style:{textAlign:"center"},children:"Dewali "})]}),(0,hS.jsxs)("div",{children:[(0,hS.jsx)("img",{src:"https://img.icons8.com/external-bzzricon-filled-lines-bzzricon-studio/60/000000/external-mom-mothers-day-bzzricon-filled-lines-bzzricon-filled-lines-bzzricon-studio-3.png",alt:"mothers day"}),(0,hS.jsx)("p",{style:{textAlign:"center"},children:"Mothers Day"})]}),(0,hS.jsxs)("div",{children:[(0,hS.jsx)("img",{src:"https://img.icons8.com/external-flaticons-lineal-color-flat-icons/64/000000/external-opening-ceremony-winter-olympics-flaticons-lineal-color-flat-icons-3.png",alt:"opening ceremony"}),(0,hS.jsx)("p",{style:{textAlign:"center"},children:"Innugration"})]}),(0,hS.jsxs)("div",{children:[(0,hS.jsx)("img",{src:"https://img.icons8.com/clouds/60/000000/christmas-tree.png",alt:"christmas"}),(0,hS.jsx)("p",{style:{textAlign:"center"},children:"Christmas"})]}),(0,hS.jsxs)("div",{children:[(0,hS.jsx)("img",{src:"https://img.icons8.com/external-smashingstocks-circular-smashing-stocks/60/000000/external-raksha-bandhan-raksha-bandhan-smashingstocks-circular-smashing-stocks.png",alt:"rakhi"}),(0,hS.jsx)("p",{style:{textAlign:"center"},children:"Rakhi"})]})]})]})]})},xS=function(){return(0,hS.jsxs)(hS.Fragment,{children:[(0,hS.jsxs)("div",{className:"footer",children:[(0,hS.jsxs)("div",{children:[(0,hS.jsx)("h4",{children:"Services"}),(0,hS.jsx)("div",{children:"Menu"}),(0,hS.jsx)("div",{children:"My Acount"}),(0,hS.jsx)("div",{children:"check gifts"}),(0,hS.jsx)("div",{children:"Satisfaction guerentee"}),(0,hS.jsx)("div",{children:"Exciting rewards"})]}),(0,hS.jsxs)("div",{children:[" ",(0,hS.jsx)("h4",{children:"About"}),(0,hS.jsx)("div",{children:"Our Story"}),(0,hS.jsx)("div",{children:"Locations"}),(0,hS.jsx)("div",{children:"Press"}),(0,hS.jsx)("div",{children:"carrers"}),(0,hS.jsx)("div",{children:"Community"})]}),(0,hS.jsxs)("div",{children:[(0,hS.jsx)("h4",{children:"Help"}),(0,hS.jsx)("div",{children:"Contact us"}),(0,hS.jsx)("div",{children:"FAQ"}),(0,hS.jsx)("div",{children:"Wedding Inquiry"})]}),(0,hS.jsxs)("div",{children:[(0,hS.jsx)("h4",{children:"Connect with us "}),(0,hS.jsxs)("div",{className:"socialHandles",children:[(0,hS.jsxs)("div",{children:[(0,hS.jsx)("img",{src:"https://img.icons8.com/fluency/48/000000/facebook-new.png",alt:"facebook"})," "]}),(0,hS.jsx)("div",{children:(0,hS.jsx)("img",{src:"https://img.icons8.com/color/48/000000/instagram-new--v1.png",alt:"insta"})}),(0,hS.jsx)("div",{children:(0,hS.jsx)("img",{src:"https://img.icons8.com/color/48/000000/pinterest--v1.png",alt:"pintrest"})}),(0,hS.jsx)("div",{children:(0,hS.jsx)("img",{src:"https://img.icons8.com/color/48/000000/twitter--v1.png",alt:"twitter"})})]})]})]}),(0,hS.jsx)("div",{className:"lastfooter",children:(0,hS.jsx)("p",{children:"Bake With Love \xa9 2022. All rights reserved"})})]})},AS=n.p+"static/media/pic.5cb705c67365938da772.png",_S=n.p+"static/media/girl_birthday.53ae7687b608988b9d0f.jpg",CS=n.p+"static/media/grad1.80197a2b95a2626f0035.jpg",IS=n.p+"static/media/wed4.e621eb79295098d7eb54.jpg",SS=n.p+"static/media/anni4.0691ad19fc40a2711fd3.jpg",TS=n.p+"static/media/valentine1.ea8a98c83ece3a9264dd.jpg",DS=n.p+"static/media/christmas2.196ba818252724538578.webp",NS=n.p+"static/media/sp3.6f49820d504b8a10c22c.jpg",FS=n.p+"static/media/makar_sankranti.eb21d2b5125cf0366c6c.jpg",RS=n.p+"static/media/holi2.3a5883eada80bdc43763.jpg",PS=n.p+"static/media/innugration.3698b3f3f571e3100d00.jpg",OS=n.p+"static/media/diwali3.a539eeb554097aa6b4ca.jpg",BS=function(){var e=M();function t(){e("/show_products")}return(0,hS.jsxs)(hS.Fragment,{children:[(0,hS.jsxs)("div",{className:"title3",children:[(0,hS.jsx)("h3",{children:"We bake cakes for all these events"}),(0,hS.jsx)("div",{className:"cutepic",children:(0,hS.jsx)("img",{src:AS,width:"180px",alt:"cartoon"})})]}),(0,hS.jsxs)("div",{className:"overlayItems",children:[(0,hS.jsxs)("div",{className:"mycontainer",children:[(0,hS.jsx)("img",{src:_S,width:"auto",className:"imagesForOverlay",alt:"bdaygirl"}),(0,hS.jsx)("div",{className:"overlay",children:(0,hS.jsxs)("div",{className:"text",children:[(0,hS.jsx)("p",{className:"Captions",children:"BIRTHDAY CAKES"}),(0,hS.jsx)("button",{className:"buttonsForView",onClick:t,children:"View More"})]})})]}),(0,hS.jsxs)("div",{className:"mycontainer",children:[(0,hS.jsx)("img",{src:CS,width:"auto",className:"imagesForOverlay",alt:"gradpic"}),(0,hS.jsx)("div",{className:"overlay",children:(0,hS.jsxs)("div",{className:"text",children:[(0,hS.jsx)("p",{className:"Captions",children:"GRADUATION CAKES"}),(0,hS.jsx)("button",{className:"buttonsForView",onClick:t,children:"View More"})]})})]}),(0,hS.jsxs)("div",{className:"mycontainer",children:[(0,hS.jsx)("img",{src:IS,width:"auto",className:"imagesForOverlay",alt:"wedding"}),(0,hS.jsx)("div",{className:"overlay",children:(0,hS.jsxs)("div",{className:"text",children:[(0,hS.jsx)("p",{className:"Captions",children:"WEDDINGS CAKES"}),(0,hS.jsx)("button",{className:"buttonsForView",onClick:t,children:"View More"})]})})]}),(0,hS.jsxs)("div",{className:"mycontainer",children:[(0,hS.jsx)("img",{src:SS,width:"auto",className:"imagesForOverlay",alt:"anninvarsary"}),(0,hS.jsx)("div",{className:"overlay",children:(0,hS.jsxs)("div",{className:"text",children:[(0,hS.jsx)("p",{className:"Captions",children:"ANNIVERSARY CAKES"}),(0,hS.jsx)("button",{className:"buttonsForView",onClick:t,children:"View More"})]})})]}),(0,hS.jsxs)("div",{className:"mycontainer",children:[(0,hS.jsx)("img",{src:TS,className:"imagesForOverlay",width:"auto",alt:"valentines day"}),(0,hS.jsx)("div",{className:"overlay",children:(0,hS.jsxs)("div",{className:"text",children:[(0,hS.jsx)("p",{className:"Captions",children:"VALENTINES CAKES"}),(0,hS.jsx)("button",{className:"buttonsForView",onClick:t,children:"View More"})]})})]}),(0,hS.jsxs)("div",{className:"mycontainer",children:[(0,hS.jsx)("img",{src:DS,className:"imagesForOverlay",width:"auto",alt:"christmas"}),(0,hS.jsx)("div",{className:"overlay",children:(0,hS.jsxs)("div",{className:"text",children:[(0,hS.jsx)("p",{className:"Captions",children:"CHRISTMAS CAKES"}),(0,hS.jsx)("button",{className:"buttonsForView",onClick:t,children:"View More"})]})})]}),(0,hS.jsxs)("div",{className:"mycontainer",children:[(0,hS.jsx)("img",{src:NS,className:"imagesForOverlay",width:"auto",alt:"new year"}),(0,hS.jsx)("div",{className:"overlay",children:(0,hS.jsxs)("div",{className:"text",children:[(0,hS.jsx)("p",{className:"Captions",children:"NEW YEAR CELEBRATIONS"}),(0,hS.jsx)("button",{className:"buttonsForView",onClick:t,children:"View More"})]})})]}),(0,hS.jsxs)("div",{className:"mycontainer",children:[(0,hS.jsx)("img",{src:FS,className:"imagesForOverlay",width:"auto",alt:"makarsankranti"}),(0,hS.jsx)("div",{className:"overlay",children:(0,hS.jsxs)("div",{className:"text",children:[(0,hS.jsx)("p",{className:"Captions",children:"MAKAR-SANKRANTI CAKES"}),(0,hS.jsx)("button",{className:"buttonsForView",onClick:t,children:"View More"})]})})]}),(0,hS.jsxs)("div",{className:"mycontainer",children:[(0,hS.jsx)("img",{src:RS,className:"imagesForOverlay",width:"auto",height:"300px",alt:"Holi"}),(0,hS.jsx)("div",{className:"overlay",children:(0,hS.jsxs)("div",{className:"text",children:[(0,hS.jsx)("p",{className:"Captions",children:"GRAND HOLI CELEBRATION CAKES"}),(0,hS.jsx)("button",{className:"buttonsForView",onClick:t,children:"View More"})]})})]}),(0,hS.jsxs)("div",{className:"mycontainer",children:[(0,hS.jsx)("img",{src:PS,className:"imagesForOverlay",width:"230px",height:"300px",alt:"innugration"}),(0,hS.jsx)("div",{className:"overlay",children:(0,hS.jsxs)("div",{className:"text",children:[(0,hS.jsx)("p",{className:"Captions",children:"INNUGRATION - CAKES"}),(0,hS.jsx)("button",{className:"buttonsForView",onClick:t,children:"View More"})]})})]}),(0,hS.jsxs)("div",{className:"mycontainer",children:[(0,hS.jsx)("img",{src:OS,className:"imagesForOverlay",width:"auto",height:"300px",alt:"Diwali"}),(0,hS.jsx)("div",{className:"overlay",children:(0,hS.jsxs)("div",{className:"text",children:[(0,hS.jsx)("p",{className:"Captions",children:"DIWALI CELEBRATION CAKES"}),(0,hS.jsx)("button",{className:"buttonsForView",onClick:t,children:"View More"})]})})]})]})]})},LS=function(){var e=function(){var e=c((0,r.useState)(null),2),t=e[0],n=e[1];return(0,r.useEffect)((function(){cS.onAuthStateChanged((function(e){e?lS.collection("users").doc(e.uid).get().then((function(e){n(e.data().FullName)})):n(null)}))}),[]),t}();return(0,hS.jsxs)(hS.Fragment,{children:[(0,hS.jsx)(vS,{user:e}),(0,hS.jsx)(ES,{}),(0,hS.jsx)(BS,{}),(0,hS.jsx)(xS,{})]})},jS=function(){var e=M(),t=c((0,r.useState)(""),2),n=t[0],i=t[1],u=c((0,r.useState)(""),2),a=u[0],o=u[1],s=c((0,r.useState)(""),2),l=s[0],f=s[1],h=c((0,r.useState)(""),2),d=h[0],p=h[1];return(0,hS.jsxs)(hS.Fragment,{children:[(0,hS.jsx)(vS,{}),(0,hS.jsxs)("div",{className:"container-sm",children:[(0,hS.jsx)("br",{}),(0,hS.jsx)("br",{}),(0,hS.jsx)("h1",{children:"Login"}),(0,hS.jsx)("hr",{}),d&&(0,hS.jsx)(hS.Fragment,{children:(0,hS.jsx)("div",{className:"success-msg",children:d})}),(0,hS.jsxs)("form",{className:"form-group",autoComplete:"off",onSubmit:function(t){t.preventDefault(),cS.signInWithEmailAndPassword(n,a).then((function(){p("Login sucessfully you will now automatically get redirected to homepage"),i(""),o(""),f(""),setTimeout((function(){p(""),e("/")}),3e3)})).catch((function(e){return f(e.message)}))},children:[(0,hS.jsx)("label",{children:"Email"}),(0,hS.jsx)("input",{type:"email",className:"form-control",required:!0,onChange:function(e){return i(e.target.value)},value:n}),(0,hS.jsx)("br",{}),(0,hS.jsx)("label",{children:"Password"}),(0,hS.jsx)("input",{type:"password",className:"form-control",required:!0,onChange:function(e){return o(e.target.value)},value:a}),(0,hS.jsx)("br",{}),(0,hS.jsxs)("div",{className:"btn-box",children:[(0,hS.jsxs)("span",{children:["Don't have an account SignUp",(0,hS.jsx)(Y,{to:"/signup",className:"link",children:"  Here"})]}),(0,hS.jsx)("br",{}),(0,hS.jsx)("button",{type:"submit",className:"LoginAuthBtn",children:"LOGIN"})]})]}),l&&(0,hS.jsx)(hS.Fragment,{children:(0,hS.jsx)("div",{className:"error-msg",children:l})})]})]})},MS=function(){var e=M(),t=c((0,r.useState)(""),2),n=t[0],i=t[1],u=c((0,r.useState)(""),2),a=u[0],o=u[1],s=c((0,r.useState)(""),2),l=s[0],f=s[1],h=c((0,r.useState)(""),2),d=h[0],p=h[1],v=c((0,r.useState)(""),2),m=v[0],y=v[1];return(0,hS.jsxs)(hS.Fragment,{children:[(0,hS.jsx)(vS,{}),(0,hS.jsxs)("div",{className:"container",children:[(0,hS.jsx)("br",{}),(0,hS.jsx)("br",{}),(0,hS.jsx)("h1",{children:"Sign Up"}),(0,hS.jsx)("hr",{}),m&&(0,hS.jsx)(hS.Fragment,{children:(0,hS.jsx)("div",{className:"success-msg",children:m})}),(0,hS.jsxs)("form",{className:"form-group",autoComplete:"off",onSubmit:function(t){t.preventDefault(),cS.createUserWithEmailAndPassword(a,l).then((function(t){lS.collection("users").doc(t.user.uid).set({FullName:n,Email:a,Password:l}).then((function(){y("Signup Successfull. You will now automatically get redirected to Login"),i(""),o(""),f(""),p(""),setTimeout((function(){y(""),e("/login")}),3e3)})).catch((function(e){return p(e.message)}))})).catch((function(e){p(e.message)}))},children:[(0,hS.jsx)("label",{children:"Full Name"}),(0,hS.jsx)("input",{type:"text",className:"form-control",required:!0,onChange:function(e){return i(e.target.value)},value:n}),(0,hS.jsx)("br",{}),(0,hS.jsx)("label",{children:"Email"}),(0,hS.jsx)("input",{type:"email",className:"form-control",required:!0,onChange:function(e){return o(e.target.value)},value:a}),(0,hS.jsx)("br",{}),(0,hS.jsx)("label",{children:"Password"}),(0,hS.jsx)("input",{type:"password",className:"form-control",required:!0,onChange:function(e){return f(e.target.value)},value:l}),(0,hS.jsx)("br",{}),(0,hS.jsxs)("div",{className:"btn-box",children:[(0,hS.jsxs)("span",{children:["Already have an account Login",(0,hS.jsx)(Y,{to:"/login",className:"link",children:" Here"})]}),(0,hS.jsx)("br",{}),(0,hS.jsx)("button",{type:"submit",className:"LoginAuthBtn",children:"SIGN UP"})]})]}),d&&(0,hS.jsx)(hS.Fragment,{children:(0,hS.jsx)("div",{className:"error-msg",children:d})})]})]})},US=n.p+"static/media/add_images.ad17fba8bc829b169427.jpg",VS=function(){var e=c((0,r.useState)(""),2),t=e[0],n=e[1],i=c((0,r.useState)(""),2),u=i[0],a=i[1],o=c((0,r.useState)(""),2),s=o[0],l=o[1],f=c((0,r.useState)(null),2),h=f[0],d=f[1],p=c((0,r.useState)(""),2),v=p[0],m=p[1],y=c((0,r.useState)(null),2),g=y[0],k=y[1],b=c((0,r.useState)(""),2),w=b[0],E=b[1],x=c((0,r.useState)(""),2),A=x[0],_=x[1],C=["image/jpg","image/jpeg","image/png","image/PNG","image/webp","image/svg"];return(0,hS.jsxs)(hS.Fragment,{children:[(0,hS.jsx)(vS,{}),(0,hS.jsx)("div",{className:"img-fluid",style:{maxWidth:"100%",height:"auto"},children:(0,hS.jsx)("img",{src:US,className:"container img-fluid",style:{maxWidth:"100%",height:"auto"},alt:"add_images of cake"})}),(0,hS.jsxs)("div",{className:"container",children:[(0,hS.jsx)("br",{}),(0,hS.jsx)("br",{}),(0,hS.jsx)("h1",{children:"Add Products"}),(0,hS.jsx)("hr",{}),w&&(0,hS.jsxs)(hS.Fragment,{children:[(0,hS.jsx)("div",{className:"success-msg",children:w}),(0,hS.jsx)("br",{})]}),(0,hS.jsxs)("form",{autoComplete:"off",className:"form-group",onSubmit:function(e){e.preventDefault(),fS.ref("product-images/".concat(v,"/").concat(h.name)).put(h).on("state_changed",(function(e){var t=e.bytesTransferred/e.totalBytes*100;console.log(t)}),(function(e){return _(e.message)}),(function(){fS.ref("product-images/".concat(v,"/")).child(h.name).getDownloadURL().then((function(e){lS.collection("Products").add({title:t,category:v,description:u,price:Number(s),url:e}).then((function(){E("Product added successfully"),n(""),a(""),l(""),document.getElementById("file").value="",k(""),_(""),setTimeout((function(){E("")}),3e3)})).catch((function(e){return _(e.message)}))}))}))},children:[(0,hS.jsx)("label",{children:"Product Title"}),(0,hS.jsx)("input",{type:"text",className:"form-control",required:!0,onChange:function(e){return n(e.target.value)},value:t}),(0,hS.jsx)("br",{}),(0,hS.jsx)("label",{children:"Product category"}),(0,hS.jsxs)("select",{type:"number",className:"form-control",required:!0,onChange:function(e){return m(e.target.value)},value:v,children:[(0,hS.jsx)("option",{value:"Birthday",children:"Birthday"}),(0,hS.jsx)("option",{value:"Wedding",children:"Wedding"}),(0,hS.jsx)("option",{value:"Graduation",children:"Graduation"}),(0,hS.jsx)("option",{value:"Anniversary",children:"Anniversary"}),(0,hS.jsx)("option",{value:"Valentines",children:"Valentines"}),(0,hS.jsx)("option",{value:"Christmas",children:"Christmas"}),(0,hS.jsx)("option",{value:"Holi",children:"Holi"}),(0,hS.jsx)("option",{value:"Diwali",children:"Diwali"}),(0,hS.jsx)("option",{value:"Mothers Day",children:"Mothers Day"}),(0,hS.jsx)("option",{value:"Innugration",children:"Innugration"}),(0,hS.jsx)("option",{value:"Misc",children:"Misc"})]}),(0,hS.jsx)("br",{}),(0,hS.jsx)("label",{children:"Product Description"}),(0,hS.jsx)("input",{type:"text",className:"form-control",required:!0,onChange:function(e){return a(e.target.value)},value:u}),(0,hS.jsx)("br",{}),(0,hS.jsx)("label",{children:"Product Price"}),(0,hS.jsx)("input",{type:"number",className:"form-control",required:!0,onChange:function(e){return l(e.target.value)},value:s}),(0,hS.jsx)("br",{}),(0,hS.jsx)("label",{children:"Upload Product Image"}),(0,hS.jsx)("input",{type:"file",id:"file",className:"form-control",required:!0,onChange:function(e){var t=e.target.files[0];t?t&&C.includes(t.type)?(d(t),k("")):(d(null),k("please select a valid image file type (png or jpg)")):console.log("please select your file")}}),g&&(0,hS.jsxs)(hS.Fragment,{children:[(0,hS.jsx)("br",{}),(0,hS.jsx)("div",{className:"error-msg",children:g})]}),(0,hS.jsx)("br",{}),(0,hS.jsx)("div",{style:{display:"flex",justifyContent:"flex-end"},children:(0,hS.jsx)("button",{type:"submit",className:"LoginAuthBtn",children:"SUBMIT"})})]}),A&&(0,hS.jsxs)(hS.Fragment,{children:[(0,hS.jsx)("br",{}),(0,hS.jsx)("div",{className:"error-msg",children:A})]})]}),(0,hS.jsx)("br",{}),(0,hS.jsx)(xS,{})]})},zS=function(e){var t=e.individualProduct,n=e.addToCart;return(0,hS.jsxs)("div",{className:"product",children:[(0,hS.jsx)("div",{className:"product-img",children:(0,hS.jsx)("img",{src:t.url,alt:"product-img"})}),(0,hS.jsx)("div",{className:"product-text title",children:t.title}),(0,hS.jsx)("div",{className:"product-text description",children:t.description}),(0,hS.jsxs)("div",{className:"product-text price",children:["\u20b9 ",t.price]}),(0,hS.jsx)("div",{className:"btn btn-danger btn-sm cart-btn",onClick:function(){n(t)},children:"ADD TO CART"})]})},qS=function(e){var t=e.myproducts,n=e.addToCart;return t.map((function(e){return(0,hS.jsx)(hS.Fragment,{children:(0,hS.jsx)(zS,{individualProduct:e,addToCart:n},e.ID)})}))},GS=function(e){var t=e.individualFilteredProduct,n=e.addToCart;return(0,hS.jsxs)("div",{className:"product",children:[(0,hS.jsx)("div",{className:"product-img",children:(0,hS.jsx)("img",{src:t.url,alt:"product-img"})}),(0,hS.jsx)("div",{className:"product-text title",children:t.title}),(0,hS.jsx)("div",{className:"product-text description",children:t.description}),(0,hS.jsxs)("div",{className:"product-text price",children:["$ ",t.price]}),(0,hS.jsx)("div",{className:"btn btn-danger btn-sm cart-btn",onClick:function(){n(t)},children:"ADD TO CART"})]})},KS=function(){var e=function(){var e=c((0,r.useState)(null),2),t=e[0],n=e[1];return(0,r.useEffect)((function(){cS.onAuthStateChanged((function(e){e&&n(e.uid)}))}),[]),t}();var t=c((0,r.useState)([]),2),n=t[0],i=t[1],u=function(){var e=He(ze().mark((function e(){var t,n,r,u,a,o;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,lS.collection("Products").get();case 2:t=e.sent,n=[],r=re(t.docs);try{for(r.s();!(u=r.n()).done;)a=u.value,(o=a.data()).ID=a.id,n.push(at({},o)),n.length===t.docs.length&&i(n)}catch(s){r.e(s)}finally{r.f()}case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();(0,r.useEffect)((function(){u()}),[]);var a,o=c((0,r.useState)(0),2),s=o[0],l=o[1];(0,r.useEffect)((function(){cS.onAuthStateChanged((function(e){e&&lS.collection("Cart"+e.uid).onSnapshot((function(e){var t=e.docs.length;l(t)}))}))}),[]);var f=M(),h=function(t){null!==e?((a=t).qty=1,a.TotalProductPrice=a.qty*a.price,lS.collection("Cart "+e).doc(t.ID).set(a).then((function(){console.log("successfully added to cart")}))):f("/login")},d=function(){var e=c((0,r.useState)(null),2),t=e[0],n=e[1];return(0,r.useEffect)((function(){cS.onAuthStateChanged((function(e){e?lS.collection("users").doc(e.uid).get().then((function(e){n(e.data().FullName)})):n(null)}))}),[]),t}(),p=c((0,r.useState)([{id:"ElectronicDevices",text:"Birthday"},{id:"MobileAccessories",text:"Wedding"},{id:"TVAndHomeAppliances",text:"Graduation"},{id:"SportsAndOutdoors",text:"Anniversary"},{id:"HealthAndBeauty",text:"Valentines"},{id:"HomeAndLifestyle",text:"Christmas"},{id:"MensFashion",text:"Holi"},{id:"WatchesBagsAndJewellery",text:"Diwali"},{id:"Groceries",text:"Mothers Day"},{id:"innugration",text:"innugration"},{id:"Misc",text:"Misc"}]),1)[0],v=c((0,r.useState)(""),2),m=v[0],y=v[1],g=c((0,r.useState)(""),2),k=g[0],b=g[1],w=c((0,r.useState)([]),2),E=w[0],x=w[1],A=function(e){if(n.length>1){var t=n.filter((function(t){return t.category===e}));x(t)}else console.log("no products to filter")};return(0,hS.jsxs)(hS.Fragment,{children:[(0,hS.jsx)(vS,{user:d,totalProducts:s}),(0,hS.jsx)("br",{}),(0,hS.jsxs)("div",{className:"container-fluid filter-products-main-box",children:[(0,hS.jsxs)("div",{className:"filter-box",children:[(0,hS.jsx)("h6",{children:"Filter by category"}),p.map((function(e,t){return(0,hS.jsx)("span",{id:e.id,onClick:function(){return function(e){y(e.id),b(e.text),A(e.text)}(e)},className:e.id===m?m:"deactive",children:e.text},t)}))]}),E.length>0&&(0,hS.jsxs)("div",{className:"my-products",children:[(0,hS.jsx)("h1",{className:"text-center",children:k}),(0,hS.jsx)("button",{onClick:function(){y(""),b(""),x([])},children:"Return to All Products"}),(0,hS.jsx)("div",{className:"products-box",children:E.map((function(e){return(0,hS.jsx)(GS,{individualFilteredProduct:e,addToCart:h},e.ID)}))})]}),E.length<1&&(0,hS.jsxs)(hS.Fragment,{children:[n.length>0&&(0,hS.jsxs)("div",{className:"my-products",children:[(0,hS.jsx)("h1",{className:"text-center",children:"All Products"}),(0,hS.jsx)("div",{className:"products-box",children:(0,hS.jsx)(qS,{myproducts:n,addToCart:h})})]}),n.length<1&&(0,hS.jsx)("div",{className:"my-products please-wait",children:"Please wait..."})]})]}),(0,hS.jsx)(xS,{})]})},HS=function(){var e=function(){var e=c((0,r.useState)(null),2),t=e[0],n=e[1];return(0,r.useEffect)((function(){cS.onAuthStateChanged((function(e){e?lS.collection("users").doc(e.uid).get().then((function(e){n(e.data().FullName)})):n(null)}))}),[]),t?t.charAt(0).toUpperCase()+t.slice(1):t}(),t=function(){var e=c((0,r.useState)(null),2),t=e[0],n=e[1];return(0,r.useEffect)((function(){cS.onAuthStateChanged((function(e){e?lS.collection("users").doc(e.uid).get().then((function(e){n(e.data().Email)})):n(null)}))}),[]),t}(),n=function(){var e=c((0,r.useState)(null),2),t=e[0],n=e[1];return(0,r.useEffect)((function(){cS.onAuthStateChanged((function(e){e?lS.collection("users").doc(e.uid).get().then((function(e){n(e.data().Password)})):n(null)}))}),[]),t?t.slice(0,5)+"XXXXXXX":t}();return(0,hS.jsxs)(hS.Fragment,{children:[(0,hS.jsx)(vS,{user:e}),(0,hS.jsxs)("div",{className:"container-fluid",children:[(0,hS.jsxs)("div",{style:{textAlign:"center"},children:[(0,hS.jsx)("h1",{children:"Welcome to the About User Section  "})," "]}),(0,hS.jsxs)("div",{className:"user_badge",style:{margin:"auto",textAlign:"center"},children:[(0,hS.jsx)("img",{src:"https://img.icons8.com/bubbles/230/000000/man-with-glasses-shopping-cart.png",alt:"user badge"}),(0,hS.jsx)("img",{src:"https://img.icons8.com/bubbles/230/000000/girl-with-glasses-shopping-cart.png",alt:"women"})]}),(0,hS.jsx)("div",{style:{margin:"auto",textAlign:"center",fontFamily:"monospace"},children:(0,hS.jsxs)("h4",{children:["Hello ",e]})}),(0,hS.jsx)("div",{style:{margin:"auto",textAlign:"center",fontFamily:"monospace"},children:(0,hS.jsxs)("h4",{children:["Email :",t]})}),(0,hS.jsx)("div",{style:{margin:"auto",textAlign:"center",fontFamily:"monospace"},children:(0,hS.jsxs)("h4",{children:["Password :",n]})})]}),(0,hS.jsx)(xS,{})]})},WS=n(199),QS=n(99),JS=n(299),YS=function(e){var t=e.cartProduct,n=e.cartProductIncrease,r=e.cartProductDecrease;return(0,hS.jsxs)("div",{className:"product",children:[(0,hS.jsx)("div",{className:"product-img",children:(0,hS.jsx)("img",{src:t.url,alt:"product-img"})}),(0,hS.jsx)("div",{className:"product-text title",children:t.title}),(0,hS.jsx)("div",{className:"product-text description",children:t.description}),(0,hS.jsxs)("div",{className:"product-text price",children:["\u20b9 ",t.price]}),(0,hS.jsx)("span",{children:"Quantity"}),(0,hS.jsxs)("div",{className:"product-text quantity-box",children:[(0,hS.jsx)("div",{className:"action-btns minus",onClick:function(){r(t)},children:(0,hS.jsx)(WS.JO,{icon:JS.h,size:20})}),(0,hS.jsx)("div",{children:t.qty}),(0,hS.jsx)("div",{className:"action-btns plus",onClick:function(){n(t)},children:(0,hS.jsx)(WS.JO,{icon:QS.P,size:20})})]}),(0,hS.jsxs)("div",{className:"product-text cart-price",children:["\u20b9 ",t.TotalProductPrice]}),(0,hS.jsx)("div",{className:"btn btn-danger btn-sm cart-btn",onClick:function(){cS.onAuthStateChanged((function(e){e&&lS.collection("Cart "+e.uid).doc(t.ID).delete().then((function(){console.log("successfully deleted")}))}))},children:"DELETE"})]})},XS=function(e){var t=e.cartProducts,n=e.cartProductIncrease,r=e.cartProductDecrease;return t.map((function(e){return(0,hS.jsx)(YS,{cartProduct:e,cartProductIncrease:n,cartProductDecrease:r},e.ID)}))},$S=n.p+"static/media/empty_cart.474dd975ee985721f03c.png",ZS=function(){var e=function(){var e=c((0,r.useState)(null),2),t=e[0],n=e[1];return(0,r.useEffect)((function(){cS.onAuthStateChanged((function(e){e?lS.collection("users").doc(e.uid).get().then((function(e){n(e.data().FullName)})):n(null)}))}),[]),t}(),t=c((0,r.useState)([]),2),n=t[0],i=t[1];(0,r.useEffect)((function(){cS.onAuthStateChanged((function(e){e?lS.collection("Cart "+e.uid).onSnapshot((function(e){var t=e.docs.map((function(e){return at({ID:e.id},e.data())}));i(t)})):console.log("user is not signed in to retrieve cart")}))}),[]);var u,a=n.map((function(e){return e.qty})).reduce((function(e,t){return e+t}),0),o=n.map((function(e){return e.TotalProductPrice})).reduce((function(e,t){return e+t}),0),s=M(),l=c((0,r.useState)(0),2),f=l[0],h=l[1];return(0,r.useEffect)((function(){cS.onAuthStateChanged((function(e){e&&lS.collection("Cart "+e.uid).onSnapshot((function(e){var t=e.docs.length;h(t)}))}))}),[]),(0,hS.jsxs)(hS.Fragment,{children:[(0,hS.jsx)(vS,{user:e,totalProducts:f}),(0,hS.jsx)("br",{}),0===n.length&&(0,hS.jsxs)("div",{children:[(0,hS.jsx)("img",{src:$S,className:"container img-fluid",style:{maxWidth:"100%",height:"auto"},alt:"empty cart"}),(0,hS.jsxs)("div",{className:"container m-3 text-center",children:[(0,hS.jsx)("button",{type:"button",className:"btn btn-primary p-2 m-2",onClick:function(){s("/show_products")},children:"Browse Products"}),(0,hS.jsx)("button",{type:"button",className:"btn btn-danger p-2 m-2",onClick:function(){s("/")},children:"Go to Home"})]})]}),n.length>0&&(0,hS.jsxs)("div",{className:"container-fluid",children:[(0,hS.jsx)("h1",{className:"text-center",children:"Cart"}),(0,hS.jsx)("div",{className:"products-box",children:(0,hS.jsx)(XS,{cartProducts:n,cartProductIncrease:function(e){(u=e).qty=u.qty+1,u.TotalProductPrice=u.qty*u.price,cS.onAuthStateChanged((function(t){t?lS.collection("Cart "+t.uid).doc(e.ID).update(u).then((function(){console.log("increment added")})):console.log("user is not logged in to increment")}))},cartProductDecrease:function(e){(u=e).qty>1&&(u.qty=u.qty-1,u.TotalProductPrice=u.qty*u.price,cS.onAuthStateChanged((function(t){t?lS.collection("Cart "+t.uid).doc(e.ID).update(u).then((function(){console.log("decrement")})):console.log("user is not logged in to decrement")})))}})}),(0,hS.jsxs)("div",{className:"summary-box",children:[(0,hS.jsx)("h5",{children:"Cart Summary"}),(0,hS.jsx)("br",{}),(0,hS.jsxs)("div",{children:["Total No of Products: ",(0,hS.jsx)("span",{children:a})]}),(0,hS.jsxs)("div",{children:["Total Price to Pay: ",(0,hS.jsxs)("span",{children:["$ ",o]})]}),(0,hS.jsx)("br",{})]})]}),(0,hS.jsx)(xS,{})]})};function eT(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},u=Object.keys(e);for(r=0;r<u.length;r++)n=u[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(e);for(r=0;r<u.length;r++)n=u[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var tT=n(694),nT=n.n(tT),rT=["xxl","xl","lg","md","sm","xs"],iT=r.createContext({prefixes:{},breakpoints:rT,minBreakpoint:"xs"});iT.Consumer,iT.Provider;function uT(e,t){var n=(0,r.useContext)(iT).prefixes;return e||n[t]||t}var aT=/-(.)/g;var oT=["className","bsPrefix","as"],sT=function(e){return e[0].toUpperCase()+(t=e,t.replace(aT,(function(e,t){return t.toUpperCase()}))).slice(1);var t};function cT(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.displayName,i=void 0===n?sT(e):n,u=t.Component,a=t.defaultProps,o=r.forwardRef((function(t,n){var r=t.className,i=t.bsPrefix,a=t.as,o=void 0===a?u||"div":a,s=eT(t,oT),c=uT(i,e);return(0,hS.jsx)(o,at({ref:n,className:nT()(r,c)},s))}));return o.defaultProps=a,o.displayName=i,o}var lT=function(e){return r.forwardRef((function(t,n){return(0,hS.jsx)("div",at(at({},t),{},{ref:n,className:nT()(t.className,e)}))}))},fT=["bsPrefix","className","variant","as"],hT=r.forwardRef((function(e,t){var n=e.bsPrefix,r=e.className,i=e.variant,u=e.as,a=void 0===u?"img":u,o=eT(e,fT),s=uT(n,"card-img");return(0,hS.jsx)(a,at({ref:t,className:nT()(i?"".concat(s,"-").concat(i):s,r)},o))}));hT.displayName="CardImg";var dT=hT,pT=r.createContext(null);pT.displayName="CardHeaderContext";var vT=pT,mT=["bsPrefix","className","as"],yT=r.forwardRef((function(e,t){var n=e.bsPrefix,i=e.className,u=e.as,a=void 0===u?"div":u,o=eT(e,mT),s=uT(n,"card-header"),c=(0,r.useMemo)((function(){return{cardHeaderBsPrefix:s}}),[s]);return(0,hS.jsx)(vT.Provider,{value:c,children:(0,hS.jsx)(a,at(at({ref:t},o),{},{className:nT()(i,s)}))})}));yT.displayName="CardHeader";var gT=yT,kT=["bsPrefix","className","bg","text","border","body","children","as"],bT=lT("h5"),wT=lT("h6"),ET=cT("card-body"),xT=cT("card-title",{Component:bT}),AT=cT("card-subtitle",{Component:wT}),_T=cT("card-link",{Component:"a"}),CT=cT("card-text",{Component:"p"}),IT=cT("card-footer"),ST=cT("card-img-overlay"),TT=r.forwardRef((function(e,t){var n=e.bsPrefix,r=e.className,i=e.bg,u=e.text,a=e.border,o=e.body,s=e.children,c=e.as,l=void 0===c?"div":c,f=eT(e,kT),h=uT(n,"card");return(0,hS.jsx)(l,at(at({ref:t},f),{},{className:nT()(r,h,i&&"bg-".concat(i),u&&"text-".concat(u),a&&"border-".concat(a)),children:o?(0,hS.jsx)(ET,{children:s}):s}))}));TT.displayName="Card",TT.defaultProps={body:!1};var DT=Object.assign(TT,{Img:dT,Title:xT,Subtitle:AT,Body:ET,Link:_T,Text:CT,Header:gT,Footer:IT,ImgOverlay:ST}),NT=n.p+"static/media/developer.347b8541078b7e2f4cc3.png",FT=function(){var e=c((0,r.useState)(""),2),t=e[0],n=e[1],i=c((0,r.useState)(""),2),u=i[0],a=i[1],o=c((0,r.useState)(""),2),s=o[0],l=o[1],f=c((0,r.useState)(""),2),h=f[0],d=f[1],p=c((0,r.useState)(""),2),v=p[0],m=p[1],y=c((0,r.useState)(""),2),g=y[0],k=y[1],b=M();var w=function(){var e=c((0,r.useState)(null),2),t=e[0],n=e[1];return(0,r.useEffect)((function(){cS.onAuthStateChanged((function(e){e?lS.collection("users").doc(e.uid).get().then((function(e){n(e.data().FullName)})):n(null)}))}),[]),t}();return(0,hS.jsxs)(hS.Fragment,{children:[(0,hS.jsx)(vS,{user:w}),(0,hS.jsxs)("section",{children:[(0,hS.jsx)("h2",{className:"h1-responsive font-weight-bold text-center my-4",children:"Contact us"}),(0,hS.jsx)("p",{className:"text-center w-responsive mx-auto mb-5",children:"Do you have any questions? Please do not hesitate to contact us directly. Our team will come back to you within a matter of hours to help you."}),h&&(0,hS.jsx)(hS.Fragment,{children:(0,hS.jsx)("div",{className:"success-msg",children:h})}),(0,hS.jsxs)("div",{className:"row",children:[(0,hS.jsxs)("div",{className:"col-md-5 mb-md-3 mb-5",style:{margin:"auto"},children:[(0,hS.jsxs)("form",{id:"contact-form",name:"contact-form",onSubmit:function(e){e.preventDefault(),lS.collection("ContactInfo").doc(w.uid).set({FullName:t,Email:u,Subject:v,Message:g}).then((function(){d("Form Submitted Successfully"),n(""),a(""),m(""),k(""),l(""),setTimeout((function(){d(""),b("/")}),2e3)})).catch((function(e){return l(e.message)}))},children:[(0,hS.jsxs)("div",{className:"row",children:[(0,hS.jsx)("div",{className:"col-md-6",children:(0,hS.jsxs)("div",{className:"md-form mb-0",children:[(0,hS.jsx)("label",{for:"name",className:"",children:"Your name"}),(0,hS.jsx)("input",{type:"text",id:"name",name:"name",className:"form-control",onChange:function(e){return n(e.target.value)},value:t})]})}),(0,hS.jsx)("div",{className:"col-md-6",children:(0,hS.jsxs)("div",{className:"md-form mb-0",children:[(0,hS.jsx)("label",{for:"email",className:"",children:"Your email"}),(0,hS.jsx)("input",{type:"text",id:"email",name:"email",className:"form-control",onChange:function(e){return a(e.target.value)},value:u})]})})]}),(0,hS.jsx)("div",{className:"row",children:(0,hS.jsx)("div",{className:"col-md-12",children:(0,hS.jsxs)("div",{className:"md-form mb-0",children:[(0,hS.jsx)("label",{for:"subject",className:"",children:"Subject"}),(0,hS.jsx)("input",{type:"text",id:"subject",name:"subject",className:"form-control",onChange:function(e){return m(e.target.value)},value:v})]})})}),(0,hS.jsx)("div",{className:"row",children:(0,hS.jsx)("div",{className:"col-md-12",children:(0,hS.jsxs)("div",{className:"md-form",children:[(0,hS.jsx)("label",{for:"message",children:"Your message"}),(0,hS.jsx)("textarea",{type:"text",id:"message",name:"message",rows:"2",className:"form-control md-textarea",onChange:function(e){return k(e.target.value)},value:g})]})})}),(0,hS.jsx)("div",{className:"text-center text-md-left",children:(0,hS.jsx)("button",{className:"btn btn-primary mt-3",type:"submit",style:{margintop:"10px"},children:"Send"})})]}),s&&(0,hS.jsx)(hS.Fragment,{children:(0,hS.jsx)("div",{className:"error-msg",children:s})})]}),(0,hS.jsx)("div",{className:"col-md-5 text-center",children:(0,hS.jsxs)("ul",{className:"list-unstyled mb-0",children:[(0,hS.jsxs)("li",{children:["  ",(0,hS.jsx)("img",{src:"https://img.icons8.com/stickers/50/000000/shop-location.png",alt:"location"}),(0,hS.jsx)("p",{children:"Jyoti Nagar New Development,Tinsukia Asssam 786125, India"})]}),(0,hS.jsxs)("li",{children:[" ",(0,hS.jsx)("img",{src:"https://img.icons8.com/color/50/000000/apple-phone.png",alt:"phone"}),(0,hS.jsx)("p",{children:"+91 7002936170"})]}),(0,hS.jsxs)("li",{children:[" ",(0,hS.jsx)("img",{src:"https://img.icons8.com/external-nawicon-flat-nawicon/50/000000/external-email-communication-nawicon-flat-nawicon-2.png",alt:"emails"}),(0,hS.jsx)("p",{children:"pursottamsah@outlook.com"})]})]})})]})]}),(0,hS.jsx)("div",{className:"container ml-4",style:{margin:"auto",textAlign:"center"},children:(0,hS.jsxs)(DT,{style:{width:"18rem",margin:"auto"},children:[(0,hS.jsx)(DT.Img,{variant:"top",src:NT}),(0,hS.jsxs)(DT.Body,{children:[(0,hS.jsx)(DT.Title,{children:"Pursottam Sah"}),(0,hS.jsx)(DT.Text,{children:"Student at NIT Arunachal Pradesh CSE 3rd Year. We are greatly thankful to him for creating such a beautiful Website"}),(0,hS.jsx)("a",{href:"https://github.com/Pursottam6003",rel:"noreferrer",target:"_blank",children:(0,hS.jsx)("img",{src:"https://img.icons8.com/ios-glyphs/48/000000/github.png",alt:"github"})}),(0,hS.jsx)("a",{href:"https://www.linkedin.com/in/pursottam-sah-78aa4a1bb/",rel:"noreferrer",target:"_blank",children:(0,hS.jsx)("img",{src:"https://img.icons8.com/color/48/000000/linkedin.png",alt:"linkedin"})}),(0,hS.jsx)("a",{href:"https://www.instagram.com/rahulsah6003/",rel:"noreferrer",target:"_blank",children:(0,hS.jsx)("img",{src:"https://img.icons8.com/color/48/000000/instagram-new--v1.png",alt:"instagram"})})]})]})}),(0,hS.jsx)("br",{}),(0,hS.jsx)(xS,{})]})};var RT=function(){return(0,hS.jsx)(J,{children:(0,hS.jsxs)(G,{children:[(0,hS.jsx)(z,{exact:!0,path:"/",element:(0,hS.jsx)(LS,{})}),(0,hS.jsx)(z,{path:"/signup",element:(0,hS.jsx)(MS,{})}),(0,hS.jsx)(z,{path:"/login",element:(0,hS.jsx)(jS,{})}),(0,hS.jsx)(z,{path:"/add_products",element:(0,hS.jsx)(VS,{})}),(0,hS.jsx)(z,{path:"/show_products",element:(0,hS.jsx)(KS,{})}),(0,hS.jsx)(z,{path:"show_products/cart",element:(0,hS.jsx)(ZS,{})}),(0,hS.jsx)(z,{path:"/cart",element:(0,hS.jsx)(ZS,{})}),(0,hS.jsx)(z,{path:"/about_user",element:(0,hS.jsx)(HS,{})}),(0,hS.jsx)(z,{path:"/contact_us",element:(0,hS.jsx)(FT,{})})]})})},PT=function(e){e&&e instanceof Function&&n.e(787).then(n.bind(n,787)).then((function(t){var n=t.getCLS,r=t.getFID,i=t.getFCP,u=t.getLCP,a=t.getTTFB;n(e),r(e),i(e),u(e),a(e)}))};i.createRoot(document.getElementById("root")).render((0,hS.jsx)(RT,{})),PT()}()}();
//# sourceMappingURL=main.5da8a9b0.js.map